(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var tl=Object.create;var Ln=Object.defineProperty;var el=Object.getOwnPropertyDescriptor;var rl=Object.getOwnPropertyNames;var nl=Object.getPrototypeOf,il=Object.prototype.hasOwnProperty;var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Nt=(t,e)=>{for(var r in e)Ln(t,r,{get:e[r],enumerable:!0})},za=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rl(e))!il.call(t,i)&&i!==r&&Ln(t,i,{get:()=>e[i],enumerable:!(n=el(e,i))||n.enumerable});return t};var ut=(t,e,r)=>(r=t!=null?tl(nl(t)):{},za(e||!t||!t.__esModule?Ln(r,"default",{value:t,enumerable:!0}):r,t)),ol=t=>za(Ln({},"__esModule",{value:!0}),t);var Ha=z((j1,zi)=>{var J1=function(){typeof zi<"u"&&(zi.exports=y);var t=86400,e=3200,r=146097*e/400,n=t*r,i=1e3*n,o=864e13,a=4294967296,s=1e6,f="000000000",u=Math.trunc||function(T){var F=T-T%1;return F==0&&(T<0||T===0&&1/T!=1/0)?-0:F},c=y.prototype,l=(y.fromDate=function(T){return new y(+T)},y.fromInt64BE=P(0,1,2,3,0,4),y.fromInt64LE=P(3,2,1,0,4,0),y.fromString=function(V){var F,$=new y,V=(V+="").replace(/^\s*[+\-]?\d+/,function(at){var at=+at,ht=1970+(at-1970)%400;return $.year=at-ht,ht}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(O,at,ht){return at<0&&(ht*=-1),F=6e4*(60*+at+ +ht),""}).replace(/\.\d+$/,function(O){return $.nano=+(O+f).substr(1,9),""}).split(/\D+/);if(1<V.length?V[1]--:V[1]=0,$.time=F=Date.UTC.apply(Date,V)-(F||0),isNaN(F))throw new TypeError("Invalid Date");return x($)},y.fromTimeT=function(T){return B(T,0)},c.year=0,c.time=0,c.nano=0,c.addNano=function(T){return this.nano+=+T||0,this},c.getNano=function(){var T=x(this);return(T.time%1e3*s+ +T.nano+1e9)%1e9},c.getTimeT=function(){var F=x(this),T=Math.floor(F.time/1e3),F=F.year;return F&&(T+=F*r*t/e),T},c.getYear=function(){return this.toDate().getUTCFullYear()+this.year},c.toDate=function(){return v(x(this).time)},c.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},c.toString=function(T){var F=this,$=F.toDate(),V={H:function(){return I($.getUTCHours())},L:function(){return G($.getUTCMilliseconds(),3)},M:function(){return I($.getUTCMinutes())},N:function(){return G(F.getNano(),9)},S:function(){return I($.getUTCSeconds())},Y:function(){var O=F.getYear();return 999999<O?"+"+O:9999<O?"+"+G(O,6):0<=O?G(O,4):-999999<=O?"-"+G(-O,6):O},a:function(){return d[$.getUTCDay()]},b:function(){return h[$.getUTCMonth()]},d:function(){return I($.getUTCDate())},e:function(){return function(O){return(9<O?"":" ")+(0|O)}($.getUTCDate())},m:function(){return I($.getUTCMonth()+1)}};return function O(at){return at.replace(/%./g,function(ht){var Z=ht[1],q=p[Z],Z=V[Z];return q?O(q):Z?Z():ht})}(T||l)},c.writeInt64BE=C(0,1,2,3,0,4),c.writeInt64LE=C(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return y;function y(T,F,$){var V=this;if(!(V instanceof y))return new y(T,F,$);V.time=+T||0,V.nano=+F||0,V.year=+$||0,x(V)}function x(T){var F,$,V,O=T.year,at=T.time,ht=T.nano,q=((ht<0||s<=ht)&&(ht-=($=Math.floor(ht/s))*s,at+=$,$=1),O%e);return(at<-o||o<at||q)&&((F=u(at/i))&&(O+=F*e,at-=F*i),(V=v(at)).setUTCFullYear(q+V.getUTCFullYear()),V=(at=+V)+(F=u((O-=q)/e))*i,F&&-o<=V&&V<=o&&(O-=F*e,at=V),$=1),$&&(T.year=O,T.time=at,T.nano=ht),T}function v(T){var F=new Date(0);return F.setTime(T),F}function B(O,V){O=+O||0;var $=u((V=(V|0)*a)/n)+u(O/n),V=V%n+O%n,O=u(V/n);return O&&($+=O,V-=O*n),new y(1e3*V,0,$*e)}function C(T,F,$,V,O,at){return function(q,Z){var Ht=x(this);q=q||new Array(8),_(q,Z|=0);var pe=Math.floor(Ht.time/1e3),Ht=Ht.year*(r*t/e),L=u(Ht/a)+u(pe/a),Ht=Ht%a+pe%a,pe=Math.floor(Ht/a);return pe&&(L+=pe,Ht-=pe*a),ht(q,Z+O,L),ht(q,Z+at,Ht),q};function ht(q,Z,L){q[Z+T]=L>>24&255,q[Z+F]=L>>16&255,q[Z+$]=L>>8&255,q[Z+V]=255&L}}function P(T,F,$,V,O,at){return function(q,Z){_(q,Z|=0);var L=ht(q,Z+O);return B(ht(q,Z+at),L)};function ht(q,Z){return 16777216*q[Z+T]+(q[Z+F]<<16|q[Z+$]<<8|q[Z+V])}}function _(T,F){if(T=T&&T.length,T==null)throw new TypeError("Invalid Buffer");if(T<F+8)throw new RangeError("Out of range")}function I(T){return(9<T?"":"0")+(0|T)}function G(T,F){return(f+(0|T)).substr(-F)}}()});var ds=z((Xg,ps)=>{"use strict";ps.exports=ph;function ph(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,f){r[n]=function(c){if(o)if(o=!1,c)f(c);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];s.apply(null,l)}};try{t.apply(e||null,r)}catch(u){o&&(o=!1,f(u))}})}});var xs=z(ms=>{"use strict";var On=ms;On.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Ir=new Array(64),gs=new Array(123);for(ie=0;ie<64;)gs[Ir[ie]=ie<26?ie+65:ie<52?ie+71:ie<62?ie-4:ie-59|43]=ie++;var ie;On.encode=function(e,r,n){for(var i=null,o=[],a=0,s=0,f;r<n;){var u=e[r++];switch(s){case 0:o[a++]=Ir[u>>2],f=(u&3)<<4,s=1;break;case 1:o[a++]=Ir[f|u>>4],f=(u&15)<<2,s=2;break;case 2:o[a++]=Ir[f|u>>6],o[a++]=Ir[u&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=Ir[f],o[a++]=61,s===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var ys="invalid encoding";On.decode=function(e,r,n){for(var i=n,o=0,a,s=0;s<e.length;){var f=e.charCodeAt(s++);if(f===61&&o>1)break;if((f=gs[f])===void 0)throw Error(ys);switch(o){case 0:a=f,o=1;break;case 1:r[n++]=a<<2|(f&48)>>4,a=f,o=2;break;case 2:r[n++]=(a&15)<<4|(f&60)>>2,a=f,o=3;break;case 3:r[n++]=(a&3)<<6|f,o=0;break}}if(o===1)throw Error(ys);return n-i};On.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var ws=z((jg,vs)=>{"use strict";vs.exports=Vn;function Vn(){this._listeners={}}Vn.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Vn.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Vn.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Ts=z((t2,Cs)=>{"use strict";Cs.exports=bs(bs);function bs(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3]}function o(f,u,c){e[0]=f,u[c]=r[3],u[c+1]=r[2],u[c+2]=r[1],u[c+3]=r[0]}t.writeFloatLE=n?i:o,t.writeFloatBE=n?o:i;function a(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],e[0]}function s(f,u){return r[3]=f[u],r[2]=f[u+1],r[1]=f[u+2],r[0]=f[u+3],e[0]}t.readFloatLE=n?a:s,t.readFloatBE=n?s:a}():function(){function e(n,i,o,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var f=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((s<<31|f+127<<23|u)>>>0,o,a)}}t.writeFloatLE=e.bind(null,Es),t.writeFloatBE=e.bind(null,Ss);function r(n,i,o){var a=n(i,o),s=(a>>31)*2+1,f=a>>>23&255,u=a&8388607;return f===255?u?NaN:s*(1/0):f===0?s*1401298464324817e-60*u:s*Math.pow(2,f-150)*(u+8388608)}t.readFloatLE=r.bind(null,Bs),t.readFloatBE=r.bind(null,As)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3],u[c+4]=r[4],u[c+5]=r[5],u[c+6]=r[6],u[c+7]=r[7]}function o(f,u,c){e[0]=f,u[c]=r[7],u[c+1]=r[6],u[c+2]=r[5],u[c+3]=r[4],u[c+4]=r[3],u[c+5]=r[2],u[c+6]=r[1],u[c+7]=r[0]}t.writeDoubleLE=n?i:o,t.writeDoubleBE=n?o:i;function a(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],r[4]=f[u+4],r[5]=f[u+5],r[6]=f[u+6],r[7]=f[u+7],e[0]}function s(f,u){return r[7]=f[u],r[6]=f[u+1],r[5]=f[u+2],r[4]=f[u+3],r[3]=f[u+4],r[2]=f[u+5],r[1]=f[u+6],r[0]=f[u+7],e[0]}t.readDoubleLE=n?a:s,t.readDoubleBE=n?s:a}():function(){function e(n,i,o,a,s,f){var u=a<0?1:0;if(u&&(a=-a),a===0)n(0,s,f+i),n(1/a>0?0:2147483648,s,f+o);else if(isNaN(a))n(0,s,f+i),n(2146959360,s,f+o);else if(a>17976931348623157e292)n(0,s,f+i),n((u<<31|2146435072)>>>0,s,f+o);else{var c;if(a<22250738585072014e-324)c=a/5e-324,n(c>>>0,s,f+i),n((u<<31|c/4294967296)>>>0,s,f+o);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),c=a*Math.pow(2,-l),n(c*4503599627370496>>>0,s,f+i),n((u<<31|l+1023<<20|c*1048576&1048575)>>>0,s,f+o)}}}t.writeDoubleLE=e.bind(null,Es,0,4),t.writeDoubleBE=e.bind(null,Ss,4,0);function r(n,i,o,a,s){var f=n(a,s+i),u=n(a,s+o),c=(u>>31)*2+1,l=u>>>20&2047,h=4294967296*(u&1048575)+f;return l===2047?h?NaN:c*(1/0):l===0?c*5e-324*h:c*Math.pow(2,l-1075)*(h+4503599627370496)}t.readDoubleLE=r.bind(null,Bs,0,4),t.readDoubleBE=r.bind(null,As,4,0)}(),t}function Es(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Ss(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Bs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function As(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Is=z((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Rs=z(_s=>{"use strict";var ho=_s;ho.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};ho.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var o=null,a=[],s=0,f;r<n;)f=e[r++],f<128?a[s++]=f:f>191&&f<224?a[s++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[s++]=55296+(f>>10),a[s++]=56320+(f&1023)):a[s++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};ho.write=function(e,r,n){for(var i=n,o,a,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++s,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var Ns=z((r2,ks)=>{"use strict";ks.exports=dh;function dh(t,e,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(f){if(f<1||f>i)return t(f);a+f>n&&(o=t(n),a=0);var u=e.call(o,a,a+=f);return a&7&&(a=(a|7)+1),u}}});var Us=z((n2,Ds)=>{"use strict";Ds.exports=Ct;var on=ze();function Ct(t,e){this.lo=t>>>0,this.hi=e>>>0}var sr=Ct.zero=new Ct(0,0);sr.toNumber=function(){return 0};sr.zzEncode=sr.zzDecode=function(){return this};sr.length=function(){return 1};var yh=Ct.zeroHash="\0\0\0\0\0\0\0\0";Ct.fromNumber=function(e){if(e===0)return sr;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Ct(n,i)};Ct.from=function(e){if(typeof e=="number")return Ct.fromNumber(e);if(on.isString(e))if(on.Long)e=on.Long.fromString(e);else return Ct.fromNumber(parseInt(e,10));return e.low||e.high?new Ct(e.low>>>0,e.high>>>0):sr};Ct.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Ct.prototype.toLong=function(e){return on.Long?new on.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var qe=String.prototype.charCodeAt;Ct.fromHash=function(e){return e===yh?sr:new Ct((qe.call(e,0)|qe.call(e,1)<<8|qe.call(e,2)<<16|qe.call(e,3)<<24)>>>0,(qe.call(e,4)|qe.call(e,5)<<8|qe.call(e,6)<<16|qe.call(e,7)<<24)>>>0)};Ct.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ct.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ct.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ct.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var ze=z(po=>{"use strict";var K=po;K.asPromise=ds();K.base64=xs();K.EventEmitter=ws();K.float=Ts();K.inquire=Is();K.utf8=Rs();K.pool=Ns();K.LongBits=Us();K.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);K.global=K.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||po;K.emptyArray=Object.freeze?Object.freeze([]):[];K.emptyObject=Object.freeze?Object.freeze({}):{};K.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};K.isString=function(e){return typeof e=="string"||e instanceof String};K.isObject=function(e){return e&&typeof e=="object"};K.isset=K.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};K.Buffer=function(){try{var t=K.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();K._Buffer_from=null;K._Buffer_allocUnsafe=null;K.newBuffer=function(e){return typeof e=="number"?K.Buffer?K._Buffer_allocUnsafe(e):new K.Array(e):K.Buffer?K._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};K.Array=typeof Uint8Array<"u"?Uint8Array:Array;K.Long=K.global.dcodeIO&&K.global.dcodeIO.Long||K.global.Long||K.inquire("long");K.key2Re=/^true|false|0|1$/;K.key32Re=/^-?(?:0|[1-9][0-9]*)$/;K.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;K.longToHash=function(e){return e?K.LongBits.from(e).toHash():K.LongBits.zeroHash};K.longFromHash=function(e,r){var n=K.LongBits.fromHash(e);return K.Long?K.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Ls(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}K.merge=Ls;K.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Ps(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Ls(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}K.newError=Ps;K.ProtocolError=Ps("ProtocolError");K.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};K.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};K.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};K._configure=function(){var t=K.Buffer;if(!t){K._Buffer_from=K._Buffer_allocUnsafe=null;return}K._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},K._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var zn=z((o2,Vs)=>{"use strict";Vs.exports=Et;var de=ze(),go,Ms=de.LongBits,gh=de.utf8;function oe(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Et(t){this.buf=t,this.pos=0,this.len=t.length}var Fs=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Et(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Et(e);throw Error("illegal buffer")},Os=function(){return de.Buffer?function(r){return(Et.create=function(i){return de.Buffer.isBuffer(i)?new go(i):Fs(i)})(r)}:Fs};Et.create=Os();Et.prototype._slice=de.Array.prototype.subarray||de.Array.prototype.slice;Et.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,oe(this,10);return e}}();Et.prototype.int32=function(){return this.uint32()|0};Et.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function yo(){var t=new Ms(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw oe(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw oe(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Et.prototype.bool=function(){return this.uint32()!==0};function qn(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Et.prototype.fixed32=function(){if(this.pos+4>this.len)throw oe(this,4);return qn(this.buf,this.pos+=4)};Et.prototype.sfixed32=function(){if(this.pos+4>this.len)throw oe(this,4);return qn(this.buf,this.pos+=4)|0};function Ks(){if(this.pos+8>this.len)throw oe(this,8);return new Ms(qn(this.buf,this.pos+=4),qn(this.buf,this.pos+=4))}Et.prototype.float=function(){if(this.pos+4>this.len)throw oe(this,4);var e=de.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Et.prototype.double=function(){if(this.pos+8>this.len)throw oe(this,4);var e=de.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Et.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw oe(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Et.prototype.string=function(){var e=this.bytes();return gh.read(e,0,e.length)};Et.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw oe(this,e);this.pos+=e}else do if(this.pos>=this.len)throw oe(this);while(this.buf[this.pos++]&128);return this};Et.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Et._configure=function(t){go=t,Et.create=Os(),go._configure();var e=de.Long?"toLong":"toNumber";de.merge(Et.prototype,{int64:function(){return yo.call(this)[e](!1)},uint64:function(){return yo.call(this)[e](!0)},sint64:function(){return yo.call(this).zzDecode()[e](!1)},fixed64:function(){return Ks.call(this)[e](!0)},sfixed64:function(){return Ks.call(this)[e](!1)}})}});var mo=z((a2,Hs)=>{"use strict";Hs.exports=ur;var zs=zn();(ur.prototype=Object.create(zs.prototype)).constructor=ur;var qs=ze();function ur(t){zs.call(this,t)}ur._configure=function(){qs.Buffer&&(ur.prototype._slice=qs.Buffer.prototype.slice)};ur.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ur._configure()});var Gn=z((s2,Zs)=>{"use strict";Zs.exports=tt;var Jt=ze(),xo,Hn=Jt.LongBits,Gs=Jt.base64,$s=Jt.utf8;function an(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function wo(){}function mh(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function tt(){this.len=0,this.head=new an(wo,0,0),this.tail=this.head,this.states=null}var Ws=function(){return Jt.Buffer?function(){return(tt.create=function(){return new xo})()}:function(){return new tt}};tt.create=Ws();tt.alloc=function(e){return new Jt.Array(e)};Jt.Array!==Array&&(tt.alloc=Jt.pool(tt.alloc,Jt.Array.prototype.subarray));tt.prototype._push=function(e,r,n){return this.tail=this.tail.next=new an(e,r,n),this.len+=r,this};function bo(t,e,r){e[r]=t&255}function xh(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Eo(t,e){this.len=t,this.next=void 0,this.val=e}Eo.prototype=Object.create(an.prototype);Eo.prototype.fn=xh;tt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Eo((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};tt.prototype.int32=function(e){return e<0?this._push(So,10,Hn.fromNumber(e)):this.uint32(e)};tt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function So(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}tt.prototype.uint64=function(e){var r=Hn.from(e);return this._push(So,r.length(),r)};tt.prototype.int64=tt.prototype.uint64;tt.prototype.sint64=function(e){var r=Hn.from(e).zzEncode();return this._push(So,r.length(),r)};tt.prototype.bool=function(e){return this._push(bo,1,e?1:0)};function vo(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}tt.prototype.fixed32=function(e){return this._push(vo,4,e>>>0)};tt.prototype.sfixed32=tt.prototype.fixed32;tt.prototype.fixed64=function(e){var r=Hn.from(e);return this._push(vo,4,r.lo)._push(vo,4,r.hi)};tt.prototype.sfixed64=tt.prototype.fixed64;tt.prototype.float=function(e){return this._push(Jt.float.writeFloatLE,4,e)};tt.prototype.double=function(e){return this._push(Jt.float.writeDoubleLE,8,e)};var vh=Jt.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};tt.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(bo,1,0);if(Jt.isString(e)){var n=tt.alloc(r=Gs.length(e));Gs.decode(e,n,0),e=n}return this.uint32(r)._push(vh,r,e)};tt.prototype.string=function(e){var r=$s.length(e);return r?this.uint32(r)._push($s.write,r,e):this._push(bo,1,0)};tt.prototype.fork=function(){return this.states=new mh(this),this.head=this.tail=new an(wo,0,0),this.len=0,this};tt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new an(wo,0,0),this.len=0),this};tt.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};tt.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};tt._configure=function(t){xo=t,tt.create=Ws(),xo._configure()}});var Bo=z((u2,Qs)=>{"use strict";Qs.exports=ye;var Ys=Gn();(ye.prototype=Object.create(Ys.prototype)).constructor=ye;var He=ze();function ye(){Ys.call(this)}ye._configure=function(){ye.alloc=He._Buffer_allocUnsafe,ye.writeBytesBuffer=He.Buffer&&He.Buffer.prototype instanceof Uint8Array&&He.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};ye.prototype.bytes=function(e){He.isString(e)&&(e=He._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ye.writeBytesBuffer,r,e),this};function wh(t,e,r){t.length<40?He.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ye.prototype.string=function(e){var r=He.Buffer.byteLength(e);return this.uint32(r),r&&this._push(wh,r,e),this};ye._configure()});var ft=z((C2,e0)=>{e0.exports={options:{usePureJavaScript:!1}}});var i0=z((T2,n0)=>{var ko={};n0.exports=ko;var r0={};ko.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Bh(t,e);else{var i=0,o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var f=0,u=t[i];f<s.length;++f)u+=s[f]<<8,s[f]=u%o,u=u/o|0;for(;u>0;)s.push(u%o),u=u/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};ko.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=r0[e];if(!r){r=r0[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),a=[0],n=0;n<t.length;n++){var s=r[t.charCodeAt(n)];if(s===void 0)return;for(var f=0,u=s;f<a.length;++f)u+=a[f]*i,a[f]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var c=0;t[c]===o&&c<t.length-1;++c)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Bh(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var a=0,s=t.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=e[o[r]];return f}});var At=z((I2,u0)=>{var o0=ft(),a0=i0(),g=u0.exports=o0.util=o0.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(s){return setImmediate(s)};return}if(g.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(c){c()})}};var a=s,t="forge.setImmediate",e=[];g.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(u){u()})}).observe(i,{attributes:!0});var o=g.setImmediate;g.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};g.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};g.isArrayBufferView=function(t){return t&&g.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function sn(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}g.ByteBuffer=No;function No(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(g.isArrayBuffer(t)||g.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof No||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}g.ByteStringBuffer=No;var Ah=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Ah&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};g.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};g.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};g.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(g.encodeUtf8(t))};g.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};g.ByteStringBuffer.prototype.putInt=function(t,e){sn(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};g.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};g.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};g.ByteStringBuffer.prototype.getInt=function(t){sn(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};g.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};g.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var t=g.createBuffer(this.data);return t.read=this.read,t};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function Ch(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=g.isArrayBuffer(t),n=g.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}g.DataBuffer=Ch;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};g.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};g.DataBuffer.prototype.putBytes=function(t,e){if(g.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof g.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&g.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof g.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=g.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};g.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};g.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};g.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(t,e){sn(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};g.DataBuffer.prototype.putSignedInt=function(t,e){return sn(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};g.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};g.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};g.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};g.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};g.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};g.DataBuffer.prototype.getInt=function(t){sn(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};g.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};g.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return g.binary.raw.encode(e);if(t==="hex")return g.binary.hex.encode(e);if(t==="base64")return g.binary.base64.encode(e);if(t==="utf8")return g.text.utf8.decode(e);if(t==="utf16")return g.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};g.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=g.encodeUtf8(t)),new g.ByteBuffer(t)};g.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};g.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o,n};g.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};g.bytesToHex=function(t){return g.createBuffer(t).toHex()};g.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$e=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],s0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.length;)i=t.charCodeAt(s++),o=t.charCodeAt(s++),a=t.charCodeAt(s++),r+=Ge.charAt(i>>2),r+=Ge.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Ge.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Ge.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,a=0;a<t.length;)r=$e[t.charCodeAt(a++)-43],n=$e[t.charCodeAt(a++)-43],i=$e[t.charCodeAt(a++)-43],o=$e[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};g.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};g.decodeUtf8=function(t){return decodeURIComponent(escape(t))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a0.encode,decode:a0.decode}};g.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};g.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};g.binary.base64.encode=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.byteLength;)i=t[s++],o=t[s++],a=t[s++],r+=Ge.charAt(i>>2),r+=Ge.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Ge.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Ge.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,f=0,u=r;f<t.length;)i=$e[t.charCodeAt(f++)-43],o=$e[t.charCodeAt(f++)-43],a=$e[t.charCodeAt(f++)-43],s=$e[t.charCodeAt(f++)-43],n[u++]=i<<2|o>>4,a!==64&&(n[u++]=(o&15)<<4|a>>2,s!==64&&(n[u++]=(a&3)<<6|s));return e?u-r:n.subarray(0,u)};g.binary.base58.encode=function(t,e){return g.binary.baseN.encode(t,s0,e)};g.binary.base58.decode=function(t,e){return g.binary.baseN.decode(t,s0,e)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(t,e,r){t=g.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.text.utf8.decode=function(t){return g.decodeUtf8(String.fromCharCode.apply(null,t))};g.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n};g.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};g.deflate=function(t,e,r){if(e=g.decode64(t.deflate(g.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};g.inflate=function(t,e,r){var n=t.inflate(g.encode64(e)).rval;return n===null?null:g.decode64(n)};var Do=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=g.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Uo=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},Th=function(t,e,r,n){var i=Uo(t,e);i===null&&(i={}),i[r]=n,Do(t,e,i)},Ih=function(t,e,r){var n=Uo(t,e);return n!==null&&(n=r in n?n[r]:null),n},_h=function(t,e,r){var n=Uo(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),Do(t,e,n)}},Rh=function(t,e){Do(t,e,null)},Xn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n};g.setItem=function(t,e,r,n,i){Xn(Th,arguments,i)};g.getItem=function(t,e,r,n){return Xn(Ih,arguments,n)};g.removeItem=function(t,e,r,n){Xn(_h,arguments,n)};g.clearItems=function(t,e,r){Xn(Rh,arguments,r)};g.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};g.format=function(t){for(var e=/%./g,r,n,i=0,o=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&o.push(n),a=e.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")};g.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,s=n===void 0?".":n,f=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=u.length>3?u.length%3:0;return f+(c?u.substr(0,c)+s:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")};g.formatSize=function(t){return t>=1073741824?t=g.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=g.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=g.formatNumber(t/1024,0)+" KiB":t=g.formatNumber(t,0)+" bytes",t};g.bytesFromIP=function(t){return t.indexOf(".")!==-1?g.bytesFromIPv4(t):t.indexOf(":")!==-1?g.bytesFromIPv6(t):null};g.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=g.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};g.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=g.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=g.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};g.bytesToIP=function(t){return t.length===4?g.bytesToIPv4(t):t.length===16?g.bytesToIPv6(t):null};g.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};g.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=g.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],s=e.length;!a||s!==a.end+1?r.push({start:s,end:s}):(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};g.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in g&&!t.update)return e(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,e(null,g.cores);if(typeof Worker>"u")return g.cores=1,e(null,g.cores);if(typeof Blob>"u")return g.cores=2,e(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var s=Date.now(),f=s+4;Date.now()<f;);self.postMessage({st:s,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,s,f){if(s===0){var u=Math.floor(a.reduce(function(c,l){return c+l},0)/a.length);return g.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,g.cores)}i(f,function(c,l){a.push(o(f,l)),n(a,s-1,f)})}function i(a,s){for(var f=[],u=[],c=0;c<a;++c){var l=new Worker(r);l.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var d=0;d<a;++d)f[d].terminate();s(null,u)}}),f.push(l)}for(var c=0;c<a;++c)f[c].postMessage(c)}function o(a,s){for(var f=[],u=0;u<a;++u)for(var c=s[u],l=f[u]=[],h=0;h<a;++h)if(u!==h){var d=s[h];(c.st>d.st&&c.st<d.et||d.st>c.st&&d.st<c.et)&&l.push(h)}return f.reduce(function(p,y){return Math.max(p,y.length)},0)}}});var Jn=z((_2,f0)=>{var un=ft();un.pki=un.pki||{};var Lo=f0.exports=un.pki.oids=un.oids=un.oids||{};function A(t,e){Lo[t]=e,Lo[e]=t}function st(t,e){Lo[t]=e}A("1.2.840.113549.1.1.1","rsaEncryption");A("1.2.840.113549.1.1.4","md5WithRSAEncryption");A("1.2.840.113549.1.1.5","sha1WithRSAEncryption");A("1.2.840.113549.1.1.7","RSAES-OAEP");A("1.2.840.113549.1.1.8","mgf1");A("1.2.840.113549.1.1.9","pSpecified");A("1.2.840.113549.1.1.10","RSASSA-PSS");A("1.2.840.113549.1.1.11","sha256WithRSAEncryption");A("1.2.840.113549.1.1.12","sha384WithRSAEncryption");A("1.2.840.113549.1.1.13","sha512WithRSAEncryption");A("1.3.101.112","EdDSA25519");A("1.2.840.10040.4.3","dsa-with-sha1");A("1.3.14.3.2.7","desCBC");A("1.3.14.3.2.26","sha1");A("1.3.14.3.2.29","sha1WithRSASignature");A("2.16.840.1.101.3.4.2.1","sha256");A("2.16.840.1.101.3.4.2.2","sha384");A("2.16.840.1.101.3.4.2.3","sha512");A("2.16.840.1.101.3.4.2.4","sha224");A("2.16.840.1.101.3.4.2.5","sha512-224");A("2.16.840.1.101.3.4.2.6","sha512-256");A("1.2.840.113549.2.2","md2");A("1.2.840.113549.2.5","md5");A("1.2.840.113549.1.7.1","data");A("1.2.840.113549.1.7.2","signedData");A("1.2.840.113549.1.7.3","envelopedData");A("1.2.840.113549.1.7.4","signedAndEnvelopedData");A("1.2.840.113549.1.7.5","digestedData");A("1.2.840.113549.1.7.6","encryptedData");A("1.2.840.113549.1.9.1","emailAddress");A("1.2.840.113549.1.9.2","unstructuredName");A("1.2.840.113549.1.9.3","contentType");A("1.2.840.113549.1.9.4","messageDigest");A("1.2.840.113549.1.9.5","signingTime");A("1.2.840.113549.1.9.6","counterSignature");A("1.2.840.113549.1.9.7","challengePassword");A("1.2.840.113549.1.9.8","unstructuredAddress");A("1.2.840.113549.1.9.14","extensionRequest");A("1.2.840.113549.1.9.20","friendlyName");A("1.2.840.113549.1.9.21","localKeyId");A("1.2.840.113549.1.9.22.1","x509Certificate");A("1.2.840.113549.1.12.10.1.1","keyBag");A("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");A("1.2.840.113549.1.12.10.1.3","certBag");A("1.2.840.113549.1.12.10.1.4","crlBag");A("1.2.840.113549.1.12.10.1.5","secretBag");A("1.2.840.113549.1.12.10.1.6","safeContentsBag");A("1.2.840.113549.1.5.13","pkcs5PBES2");A("1.2.840.113549.1.5.12","pkcs5PBKDF2");A("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");A("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");A("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");A("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");A("1.2.840.113549.2.7","hmacWithSHA1");A("1.2.840.113549.2.8","hmacWithSHA224");A("1.2.840.113549.2.9","hmacWithSHA256");A("1.2.840.113549.2.10","hmacWithSHA384");A("1.2.840.113549.2.11","hmacWithSHA512");A("1.2.840.113549.3.7","des-EDE3-CBC");A("2.16.840.1.101.3.4.1.2","aes128-CBC");A("2.16.840.1.101.3.4.1.22","aes192-CBC");A("2.16.840.1.101.3.4.1.42","aes256-CBC");A("2.5.4.3","commonName");A("2.5.4.4","surname");A("2.5.4.5","serialNumber");A("2.5.4.6","countryName");A("2.5.4.7","localityName");A("2.5.4.8","stateOrProvinceName");A("2.5.4.9","streetAddress");A("2.5.4.10","organizationName");A("2.5.4.11","organizationalUnitName");A("2.5.4.12","title");A("2.5.4.13","description");A("2.5.4.15","businessCategory");A("2.5.4.17","postalCode");A("2.5.4.42","givenName");A("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");A("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");A("2.16.840.1.113730.1.1","nsCertType");A("2.16.840.1.113730.1.13","nsComment");st("2.5.29.1","authorityKeyIdentifier");st("2.5.29.2","keyAttributes");st("2.5.29.3","certificatePolicies");st("2.5.29.4","keyUsageRestriction");st("2.5.29.5","policyMapping");st("2.5.29.6","subtreesConstraint");st("2.5.29.7","subjectAltName");st("2.5.29.8","issuerAltName");st("2.5.29.9","subjectDirectoryAttributes");st("2.5.29.10","basicConstraints");st("2.5.29.11","nameConstraints");st("2.5.29.12","policyConstraints");st("2.5.29.13","basicConstraints");A("2.5.29.14","subjectKeyIdentifier");A("2.5.29.15","keyUsage");st("2.5.29.16","privateKeyUsagePeriod");A("2.5.29.17","subjectAltName");A("2.5.29.18","issuerAltName");A("2.5.29.19","basicConstraints");st("2.5.29.20","cRLNumber");st("2.5.29.21","cRLReason");st("2.5.29.22","expirationDate");st("2.5.29.23","instructionCode");st("2.5.29.24","invalidityDate");st("2.5.29.25","cRLDistributionPoints");st("2.5.29.26","issuingDistributionPoint");st("2.5.29.27","deltaCRLIndicator");st("2.5.29.28","issuingDistributionPoint");st("2.5.29.29","certificateIssuer");st("2.5.29.30","nameConstraints");A("2.5.29.31","cRLDistributionPoints");A("2.5.29.32","certificatePolicies");st("2.5.29.33","policyMappings");st("2.5.29.34","policyConstraints");A("2.5.29.35","authorityKeyIdentifier");st("2.5.29.36","policyConstraints");A("2.5.29.37","extKeyUsage");st("2.5.29.46","freshestCRL");st("2.5.29.54","inhibitAnyPolicy");A("1.3.6.1.4.1.11129.2.4.2","timestampList");A("1.3.6.1.5.5.7.1.1","authorityInfoAccess");A("1.3.6.1.5.5.7.3.1","serverAuth");A("1.3.6.1.5.5.7.3.2","clientAuth");A("1.3.6.1.5.5.7.3.3","codeSigning");A("1.3.6.1.5.5.7.3.4","emailProtection");A("1.3.6.1.5.5.7.3.8","timeStamping")});var cn=z((R2,l0)=>{var pt=ft();At();Jn();var k=l0.exports=pt.asn1=pt.asn1||{};k.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};k.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};k.create=function(t,e,r,n,i){if(pt.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var s={tagClass:t,type:e,constructed:r,composed:r||pt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=k.copy(s)),s};k.copy=function(t,e){var r;if(pt.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(k.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:k.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};k.equals=function(t,e,r){if(pt.util.isArray(t)){if(!pt.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!k.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&k.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};k.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function fn(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var kh=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;fn(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};k.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=pt.util.createBuffer(t));var r=t.length(),n=jn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function jn(t,e,r,n){var i;fn(t,e,2);var o=t.getByte();e--;var a=o&192,s=o&31;i=t.length();var f=kh(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=f,u}f=e}var c,l,h=(o&32)===32;if(h)if(c=[],f===void 0)for(;;){if(fn(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),c.push(jn(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),c.push(jn(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(c===void 0&&a===k.Class.UNIVERSAL&&s===k.Type.BITSTRING&&(l=t.bytes(f)),c===void 0&&n.decodeBitStrings&&a===k.Class.UNIVERSAL&&s===k.Type.BITSTRING&&f>1){var d=t.read,p=e,y=0;if(s===k.Type.BITSTRING&&(fn(t,e,1),y=t.getByte(),e--),y===0)try{i=t.length();var x={strict:!0,decodeBitStrings:!0},v=jn(t,e,r+1,x),B=i-t.length();e-=B,s==k.Type.BITSTRING&&B++;var C=v.tagClass;B===f&&(C===k.Class.UNIVERSAL||C===k.Class.CONTEXT_SPECIFIC)&&(c=[v])}catch{}c===void 0&&(t.read=d,e=p)}if(c===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(s===k.Type.BMPSTRING)for(c="";f>0;f-=2)fn(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(f),e-=f}var P=l===void 0?null:{bitStringContents:l};return k.create(a,s,h,c,P)}k.toDer=function(t){var e=pt.util.createBuffer(),r=t.tagClass|t.type,n=pt.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=k.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(k.toDer(t.value[o]))}else if(t.type===k.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===k.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),s="";do s+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(s.length|128);for(var o=s.length-1;o>=0;--o)e.putByte(s.charCodeAt(o))}return e.putBuffer(n),e};k.oidToDer=function(t){var e=t.split("."),r=pt.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,a,s=2;s<e.length;++s){n=!0,i=[],o=parseInt(e[s],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};k.derToOid=function(t){var e;typeof t=="string"&&(t=pt.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};k.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var f=t.charAt(10),u=10;f!=="+"&&f!=="-"&&(s=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),u&&(f=t.charAt(u),f==="+"||f==="-")){var c=parseInt(t.substr(u+1,2),10),l=parseInt(t.substr(u+4,2),10),h=c*60+l;h*=6e4,f==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};k.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),f=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var d=parseInt(t.substr(l+1,2),10),p=parseInt(t.substr(l+4,2),10);u=d*60+p,u*=6e4,h==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,f),e.setTime(+e+u)):(e.setFullYear(r,n,i),e.setHours(o,a,s,f)),e};k.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};k.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};k.integerToDer=function(t){var e=pt.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};k.derToInteger=function(t){typeof t=="string"&&(t=pt.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};k.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&pt.util.isArray(e.value))for(var o=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[o]&&(i=k.validate(t.value[o],e.value[a],r,n),i?++o:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var s;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var c0=/[^\\u0000-\\u00ff]/;k.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case k.Class.UNIVERSAL:n+="Universal:";break;case k.Class.APPLICATION:n+="Application:";break;case k.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case k.Class.PRIVATE:n+="Private:";break}if(t.tagClass===k.Class.UNIVERSAL)switch(n+=t.type,t.type){case k.Type.NONE:n+=" (None)";break;case k.Type.BOOLEAN:n+=" (Boolean)";break;case k.Type.INTEGER:n+=" (Integer)";break;case k.Type.BITSTRING:n+=" (Bit string)";break;case k.Type.OCTETSTRING:n+=" (Octet string)";break;case k.Type.NULL:n+=" (Null)";break;case k.Type.OID:n+=" (Object Identifier)";break;case k.Type.ODESC:n+=" (Object Descriptor)";break;case k.Type.EXTERNAL:n+=" (External or Instance of)";break;case k.Type.REAL:n+=" (Real)";break;case k.Type.ENUMERATED:n+=" (Enumerated)";break;case k.Type.EMBEDDED:n+=" (Embedded PDV)";break;case k.Type.UTF8:n+=" (UTF8)";break;case k.Type.ROID:n+=" (Relative Object Identifier)";break;case k.Type.SEQUENCE:n+=" (Sequence)";break;case k.Type.SET:n+=" (Set)";break;case k.Type.PRINTABLESTRING:n+=" (Printable String)";break;case k.Type.IA5String:n+=" (IA5String (ASCII))";break;case k.Type.UTCTIME:n+=" (UTC time)";break;case k.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case k.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,s="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(a+=1,s+=k.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(s+=","));n+=i+"Sub values: "+a+s}else{if(n+=i+"Value: ",t.type===k.Type.OID){var f=k.derToOid(t.value);n+=f,pt.pki&&pt.pki.oids&&f in pt.pki.oids&&(n+=" ("+pt.pki.oids[f]+") ")}if(t.type===k.Type.INTEGER)try{n+=k.derToInteger(t.value)}catch{n+="0x"+pt.util.bytesToHex(t.value)}else if(t.type===k.Type.BITSTRING){if(t.value.length>1?n+="0x"+pt.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(t.type===k.Type.OCTETSTRING)c0.test(t.value)||(n+="("+t.value+") "),n+="0x"+pt.util.bytesToHex(t.value);else if(t.type===k.Type.UTF8)try{n+=pt.util.decodeUtf8(t.value)}catch(c){if(c.message==="URI malformed")n+="0x"+pt.util.bytesToHex(t.value)+" (malformed UTF8)";else throw c}else t.type===k.Type.PRINTABLESTRING||t.type===k.Type.IA5String?n+=t.value:c0.test(t.value)?n+="0x"+pt.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Fo=z((k2,h0)=>{var Tt=ft();At();h0.exports=Tt.cipher=Tt.cipher||{};Tt.cipher.algorithms=Tt.cipher.algorithms||{};Tt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Tt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Tt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Tt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Tt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Tt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Tt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Tt.cipher.algorithms[t]=e};Tt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Tt.cipher.algorithms?Tt.cipher.algorithms[t]:null};var Po=Tt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Po.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Tt.util.createBuffer(),this.output=t.output||Tt.util.createBuffer(),this.mode.start(e)};Po.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Po.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Mo=z((N2,p0)=>{var It=ft();At();It.cipher=It.cipher||{};var Y=p0.exports=It.cipher.modes=It.cipher.modes||{};Y.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Y.ecb.prototype.start=function(t){};Y.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Y.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Y.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Y.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Y.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Y.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=ti(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Y.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Y.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Y.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Y.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Y.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=It.util.createBuffer(),this._partialBytes=0};Y.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=It.util.createBuffer(),this._partialBytes=0};Y.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.ofb.prototype.decrypt=Y.ofb.prototype.encrypt;Y.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=It.util.createBuffer(),this._partialBytes=0};Y.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=ti(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ei(this._inBlock)};Y.ctr.prototype.decrypt=Y.ctr.prototype.encrypt;Y.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=It.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Y.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=It.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=It.util.createBuffer(t.additionalData):r=It.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=It.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Ko(n*8)))}this._inBlock=this._j0.slice(0),ei(this._inBlock),this._partialBytes=0,r=It.util.createBuffer(r),this._aDataLength=Ko(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Y.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ei(this._inBlock)};Y.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ei(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Y.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=It.util.createBuffer();var n=this._aDataLength.concat(Ko(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Y.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Y.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Y.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};Y.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Y.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],f=a/n|0,u=(n-1-a%n)*e;s[f]=1<<e-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o};Y.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],f=i[a];i[o+a]=[s[0]^f[0],s[1]^f[1],s[2]^f[2],s[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return i};function ti(t,e){if(typeof t=="string"&&(t=It.util.createBuffer(t)),It.util.isArray(t)&&t.length>4){var r=t;t=It.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!It.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function ei(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Ko(t){return[t/4294967296|0,t&4294967295]}});var zo=z((D2,m0)=>{var lt=ft();Fo();Mo();At();m0.exports=lt.aes=lt.aes||{};lt.aes.startEncrypting=function(t,e,r,n){var i=ri({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};lt.aes.createEncryptionCipher=function(t,e){return ri({key:t,output:null,decrypt:!1,mode:e})};lt.aes.startDecrypting=function(t,e,r,n){var i=ri({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};lt.aes.createDecryptionCipher=function(t,e){return ri({key:t,output:null,decrypt:!0,mode:e})};lt.aes.Algorithm=function(t,e){qo||y0();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Vo(r._w,n,i,!1)},decrypt:function(n,i){return Vo(r._w,n,i,!0)}}}),r._init=!1};lt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=lt.util.createBuffer(e);else if(lt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=lt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!lt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!lt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=g0(e,t.decrypt&&!a),this._init=!0}};lt.aes._expandKey=function(t,e){return qo||y0(),g0(t,e)};lt.aes._updateBlock=Vo;kr("AES-ECB",lt.cipher.modes.ecb);kr("AES-CBC",lt.cipher.modes.cbc);kr("AES-CFB",lt.cipher.modes.cfb);kr("AES-OFB",lt.cipher.modes.ofb);kr("AES-CTR",lt.cipher.modes.ctr);kr("AES-GCM",lt.cipher.modes.gcm);function kr(t,e){var r=function(){return new lt.aes.Algorithm(t,e)};lt.cipher.registerAlgorithm(t,r)}var qo=!1,Rr=4,Kt,Oo,d0,fr,ae;function y0(){qo=!0,d0=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Kt=new Array(256),Oo=new Array(256),fr=new Array(4),ae=new Array(4);for(var e=0;e<4;++e)fr[e]=new Array(256),ae[e]=new Array(256);for(var r=0,n=0,i,o,a,s,f,u,c,e=0;e<256;++e){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Kt[r]=s,Oo[s]=r,f=t[s],i=t[r],o=t[i],a=t[o],u=f<<24^s<<16^s<<8^(s^f),c=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var l=0;l<4;++l)fr[l][r]=u,ae[l][s]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}function g0(t,e){for(var r=t.slice(0),n,i=1,o=r.length,a=o+6+1,s=Rr*a,f=o;f<s;++f)n=r[f-1],f%o===0?(n=Kt[n>>>16&255]<<24^Kt[n>>>8&255]<<16^Kt[n&255]<<8^Kt[n>>>24]^d0[i]<<24,i++):o>6&&f%o===4&&(n=Kt[n>>>24]<<24^Kt[n>>>16&255]<<16^Kt[n>>>8&255]<<8^Kt[n&255]),r[f]=r[f-o]^n;if(e){var u,c=ae[0],l=ae[1],h=ae[2],d=ae[3],p=r.slice(0);s=r.length;for(var f=0,y=s-Rr;f<s;f+=Rr,y-=Rr)if(f===0||f===s-Rr)p[f]=r[y],p[f+1]=r[y+3],p[f+2]=r[y+2],p[f+3]=r[y+1];else for(var x=0;x<Rr;++x)u=r[y+x],p[f+(3&-x)]=c[Kt[u>>>24]]^l[Kt[u>>>16&255]]^h[Kt[u>>>8&255]]^d[Kt[u&255]];r=p}return r}function Vo(t,e,r,n){var i=t.length/4-1,o,a,s,f,u;n?(o=ae[0],a=ae[1],s=ae[2],f=ae[3],u=Oo):(o=fr[0],a=fr[1],s=fr[2],f=fr[3],u=Kt);var c,l,h,d,p,y,x;c=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],d=e[n?1:3]^t[3];for(var v=3,B=1;B<i;++B)p=o[c>>>24]^a[l>>>16&255]^s[h>>>8&255]^f[d&255]^t[++v],y=o[l>>>24]^a[h>>>16&255]^s[d>>>8&255]^f[c&255]^t[++v],x=o[h>>>24]^a[d>>>16&255]^s[c>>>8&255]^f[l&255]^t[++v],d=o[d>>>24]^a[c>>>16&255]^s[l>>>8&255]^f[h&255]^t[++v],c=p,l=y,h=x;r[0]=u[c>>>24]<<24^u[l>>>16&255]<<16^u[h>>>8&255]<<8^u[d&255]^t[++v],r[n?3:1]=u[l>>>24]<<24^u[h>>>16&255]<<16^u[d>>>8&255]<<8^u[c&255]^t[++v],r[2]=u[h>>>24]<<24^u[d>>>16&255]<<16^u[c>>>8&255]<<8^u[l&255]^t[++v],r[n?1:3]=u[d>>>24]<<24^u[c>>>16&255]<<16^u[l>>>8&255]<<8^u[h&255]^t[++v]}function ri(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=lt.cipher.createDecipher(r,t.key):n=lt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof lt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var w0=z((U2,v0)=>{var mt=ft();Fo();Mo();At();v0.exports=mt.des=mt.des||{};mt.des.startEncrypting=function(t,e,r,n){var i=ni({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};mt.des.createEncryptionCipher=function(t,e){return ni({key:t,output:null,decrypt:!1,mode:e})};mt.des.startDecrypting=function(t,e,r,n){var i=ni({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};mt.des.createDecryptionCipher=function(t,e){return ni({key:t,output:null,decrypt:!0,mode:e})};mt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return x0(r._keys,n,i,!1)},decrypt:function(n,i){return x0(r._keys,n,i,!0)}}}),r._init=!1};mt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=mt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Oh(e),this._init=!0}};me("DES-ECB",mt.cipher.modes.ecb);me("DES-CBC",mt.cipher.modes.cbc);me("DES-CFB",mt.cipher.modes.cfb);me("DES-OFB",mt.cipher.modes.ofb);me("DES-CTR",mt.cipher.modes.ctr);me("3DES-ECB",mt.cipher.modes.ecb);me("3DES-CBC",mt.cipher.modes.cbc);me("3DES-CFB",mt.cipher.modes.cfb);me("3DES-OFB",mt.cipher.modes.ofb);me("3DES-CTR",mt.cipher.modes.ctr);function me(t,e){var r=function(){return new mt.des.Algorithm(t,e)};mt.cipher.registerAlgorithm(t,r)}var Nh=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Dh=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Uh=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Lh=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Ph=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Fh=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Kh=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Mh=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Oh(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=t.length()>8?3:1,x=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,C,P=0;P<y;P++){var _=t.getInt32(),I=t.getInt32();C=(_>>>4^I)&252645135,I^=C,_^=C<<4,C=(I>>>-16^_)&65535,_^=C,I^=C<<-16,C=(_>>>2^I)&858993459,I^=C,_^=C<<2,C=(I>>>-16^_)&65535,_^=C,I^=C<<-16,C=(_>>>1^I)&1431655765,I^=C,_^=C<<1,C=(I>>>8^_)&16711935,_^=C,I^=C<<8,C=(_>>>1^I)&1431655765,I^=C,_^=C<<1,C=_<<8|I>>>20&240,_=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=C;for(var G=0;G<v.length;++G){v[G]?(_=_<<2|_>>>26,I=I<<2|I>>>26):(_=_<<1|_>>>27,I=I<<1|I>>>27),_&=-15,I&=-15;var T=e[_>>>28]|r[_>>>24&15]|n[_>>>20&15]|i[_>>>16&15]|o[_>>>12&15]|a[_>>>8&15]|s[_>>>4&15],F=f[I>>>28]|u[I>>>24&15]|c[I>>>20&15]|l[I>>>16&15]|h[I>>>12&15]|d[I>>>8&15]|p[I>>>4&15];C=(F>>>16^T)&65535,x[B++]=T^C,x[B++]=F^C<<16}}return x}function x0(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,s=e[0],f=e[1];a=(s>>>4^f)&252645135,f^=a,s^=a<<4,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,s=s<<1|s>>>31,f=f<<1|f>>>31;for(var u=0;u<i;u+=3){for(var c=o[u+1],l=o[u+2],h=o[u];h!=c;h+=l){var d=f^t[h],p=(f>>>4|f<<28)^t[h+1];a=s,s=f,f=a^(Dh[d>>>24&63]|Lh[d>>>16&63]|Fh[d>>>8&63]|Mh[d&63]|Nh[p>>>24&63]|Uh[p>>>16&63]|Ph[p>>>8&63]|Kh[p&63])}a=s,s=f,f=a}s=s>>>1|s<<31,f=f>>>1|f<<31,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(s>>>4^f)&252645135,f^=a,s^=a<<4,r[0]=s,r[1]=f}function ni(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=mt.cipher.createDecipher(r,t.key):n=mt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof mt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var cr=z((L2,b0)=>{var ii=ft();b0.exports=ii.md=ii.md||{};ii.md.algorithms=ii.md.algorithms||{}});var S0=z((P2,E0)=>{var Ne=ft();cr();At();var Vh=E0.exports=Ne.hmac=Ne.hmac||{};Vh.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Ne.md.algorithms)e=Ne.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(a===null)a=t;else{if(typeof a=="string")a=Ne.util.createBuffer(a);else if(Ne.util.isArray(a)){var s=a;a=Ne.util.createBuffer();for(var f=0;f<s.length;++f)a.putByte(s[f])}var u=a.length();u>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=Ne.util.createBuffer(),n=Ne.util.createBuffer(),u=a.length();for(var f=0;f<u;++f){var s=a.at(f);r.putByte(54^s),n.putByte(92^s)}if(u<e.blockLength)for(var s=e.blockLength-u,f=0;f<s;++f)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var Nr=z(()=>{});var A0=z((M2,B0)=>{var Mt=ft();S0();cr();At();var qh=Mt.pkcs5=Mt.pkcs5||{},De;Mt.util.isNodejs&&!Mt.options.usePureJavaScript&&(De=Nr());B0.exports=Mt.pbkdf2=qh.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Mt.util.isNodejs&&!Mt.options.usePureJavaScript&&De.pbkdf2&&(i===null||typeof i!="object")&&(De.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?De.pbkdf2Sync.length===4?De.pbkdf2(t,e,r,n,function(C,P){if(C)return o(C);o(null,P.toString("binary"))}):De.pbkdf2(t,e,r,n,i,function(C,P){if(C)return o(C);o(null,P.toString("binary"))}):De.pbkdf2Sync.length===4?De.pbkdf2Sync(t,e,r,n).toString("binary"):De.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Mt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Mt.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var f=Math.ceil(n/a),u=n-(f-1)*a,c=Mt.hmac.create();c.start(i,t);var l="",h,d,p;if(!o){for(var y=1;y<=f;++y){c.start(null,null),c.update(e),c.update(Mt.util.int32ToBytes(y)),h=p=c.digest().getBytes();for(var x=2;x<=r;++x)c.start(null,null),c.update(p),d=c.digest().getBytes(),h=Mt.util.xorBytes(h,d,a),p=d;l+=y<f?h:h.substr(0,u)}return l}var y=1,x;function v(){if(y>f)return o(null,l);c.start(null,null),c.update(e),c.update(Mt.util.int32ToBytes(y)),h=p=c.digest().getBytes(),x=2,B()}function B(){if(x<=r)return c.start(null,null),c.update(p),d=c.digest().getBytes(),h=Mt.util.xorBytes(h,d,a),p=d,++x,Mt.util.setImmediate(B);l+=y<f?h:h.substr(0,u),++y,v()}v()}});var I0=z((O2,T0)=>{var ai=ft();At();var C0=T0.exports=ai.pem=ai.pem||{};C0.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=oi(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=oi(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=oi(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=oi(t.headers[i]);return t.procType&&(r+=`\r
`),r+=ai.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};C0.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var s={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ai.util.decode64(o[3])};if(e.push(s),!!o[2]){for(var f=o[2].split(i),u=0;o&&u<f.length;){for(var c=f[u].replace(/\s+$/,""),l=u+1;l<f.length;++l){var h=f[l];if(!/\s/.test(h[0]))break;c+=h,u=l}if(o=c.match(n),o){for(var d={name:o[1],values:[]},p=o[2].split(","),y=0;y<p.length;++y)d.values.push(zh(p[y]));if(s.procType)if(!s.contentDomain&&d.name==="Content-Domain")s.contentDomain=p[0]||"";else if(!s.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:p[0],parameters:p[1]||null}}else s.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:p[0],type:p[1]}}}++u}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function oi(t){for(var e=t.name+": ",r=[],n=function(f,u){return" "+u},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<e.length;++i,++o)if(o>65&&a!==-1){var s=e[a];s===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+s+e.substr(a+1),o=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}function zh(t){return t.replace(/^\s+/,"")}});var U0=z((V2,D0)=>{var xe=ft();cr();At();var R0=D0.exports=xe.sha256=xe.sha256||{};xe.md.sha256=xe.md.algorithms.sha256=R0;R0.create=function(){k0||Hh();var t=null,e=xe.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=xe.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=xe.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),_0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=xe.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Ho.substr(0,n.blockLength-a));for(var s,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,f=s/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};_0(l,r,i);var h=xe.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var Ho=null,k0=!1,N0=null;function Hh(){Ho=String.fromCharCode(128),Ho+=xe.util.fillString(String.fromCharCode(0),64),N0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],k0=!0}function _0(t,e,r){for(var n,i,o,a,s,f,u,c,l,h,d,p,y,x,v,B=r.length();B>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=e[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,l=t.h1,h=t.h2,d=t.h3,p=t.h4,y=t.h5,x=t.h6,v=t.h7,u=0;u<64;++u)a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),s=x^p&(y^x),o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),f=c&l|h&(c^l),n=v+a+s+N0[u]+e[u],i=o+f,v=x,x=y,y=p,p=d+n>>>0,d=h,h=l,l=c,c=n+i>>>0;t.h0=t.h0+c|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+d|0,t.h4=t.h4+p|0,t.h5=t.h5+y|0,t.h6=t.h6+x|0,t.h7=t.h7+v|0,B-=64}}});var P0=z((q2,L0)=>{var ve=ft();At();var si=null;ve.util.isNodejs&&!ve.options.usePureJavaScript&&!process.versions["node-webkit"]&&(si=Nr());var Gh=L0.exports=ve.prng=ve.prng||{};Gh.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var l=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed,y=ve.util.createBuffer();e.key=null,x();function x(v){if(v)return c(v);if(y.length()>=u)return c(null,y.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return ve.util.nextTick(function(){o(x)});var B=l(e.key,e.seed);e.generated+=B.length,y.putBytes(B),e.key=d(l(e.key,h(e.seed))),e.seed=p(l(e.key,e.seed)),ve.util.setImmediate(x)}},e.generateSync=function(u){var c=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,d=e.plugin.formatSeed;e.key=null;for(var p=ve.util.createBuffer();p.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&a();var y=c(e.key,e.seed);e.generated+=y.length,p.putBytes(y),e.key=h(c(e.key,l(e.seed))),e.seed=d(c(e.key,e.seed))}return p.getBytes(u)};function o(u){if(e.pools[0].messageLength>=32)return s(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(l,h){if(l)return u(l);e.collect(h),s(),u()})}function a(){if(e.pools[0].messageLength>=32)return s();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),s()}function s(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,l=0;l<32;++l)e.reseeds%c===0&&(u.update(e.pools[l].digest().getBytes()),e.pools[l].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var h=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function f(u){var c=null,l=ve.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(c=function(_){return h.getRandomValues(_)});var d=ve.util.createBuffer();if(c)for(;d.length()<u;){var p=Math.max(1,Math.min(u-d.length(),65536)/4),y=new Uint32Array(Math.floor(p));try{c(y);for(var x=0;x<y.length;++x)d.putInt32(y[x])}catch(_){if(!(typeof QuotaExceededError<"u"&&_ instanceof QuotaExceededError))throw _}}if(d.length()<u)for(var v,B,C,P=Math.floor(Math.random()*65536);d.length()<u;){B=16807*(P&65535),v=16807*(P>>16),B+=(v&32767)<<16,B+=v>>15,B=(B&2147483647)+(B>>31),P=B&4294967295;for(var x=0;x<3;++x)C=P>>>(x<<3),C^=Math.floor(Math.random()*256),d.putByte(C&255)}return d.getBytes(u)}return si?(e.seedFile=function(u,c){si.randomBytes(u,function(l,h){if(l)return c(l);c(null,h.toString())})},e.seedFileSync=function(u){return si.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,f(u))}catch(l){c(l)}},e.seedFileSync=f),e.collect=function(u){for(var c=u.length,l=0;l<c;++l)e.pools[e.pool].update(u.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var l="",h=0;h<c;h+=8)l+=String.fromCharCode(u>>h&255);e.collect(l)},e.registerWorker=function(u){if(u===self)e.seedFile=function(l,h){function d(p){var y=p.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",d),h(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:l}}})};else{var c=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(d,p){u.postMessage({forge:{prng:{err:d,bytes:p}}})})};u.addEventListener("message",c)}},e}});var ln=z((z2,Go)=>{var _t=ft();zo();U0();P0();At();(function(){if(_t.random&&_t.random.getBytes){Go.exports=_t.random;return}(function(t){var e={},r=new Array(4),n=_t.util.createBuffer();e.formatKey=function(l){var h=_t.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),_t.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=_t.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return _t.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=_t.md.sha256;function i(){var l=_t.prng.create(e);return l.getBytes=function(h,d){return l.generate(h,d)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),a=null,s=_t.util.globalScope,f=s.crypto||s.msCrypto;if(f&&f.getRandomValues&&(a=function(l){return f.getRandomValues(l)}),_t.options.usePureJavaScript||!_t.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch{}o.collect(u),u=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!_t.random)_t.random=o;else for(var c in o)_t.random[c]=o[c];_t.random.createInstance=i,Go.exports=_t.random})(typeof jQuery<"u"?jQuery:null)})()});var O0=z((H2,M0)=>{var Vt=ft();At();var $o=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],F0=[1,2,3,5],$h=function(t,e){return t<<e&65535|(t&65535)>>16-e},Wh=function(t,e){return(t&65535)>>e|t<<16-e&65535};M0.exports=Vt.rc2=Vt.rc2||{};Vt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Vt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),a=255>>(i&7),s;for(s=n;s<128;s++)r.putByte($o[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-o,$o[r.at(128-o)&a]),s=127-o;s>=0;s--)r.setAt(s,$o[r.at(s+1)^r.at(s+o)]);return r};var K0=function(t,e,r){var n=!1,i=null,o=null,a=null,s,f,u,c,l=[];for(t=Vt.rc2.expandKey(t,e),u=0;u<64;u++)l.push(t.getInt16Le());r?(s=function(p){for(u=0;u<4;u++)p[u]+=l[c]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),p[u]=$h(p[u],F0[u]),c++},f=function(p){for(u=0;u<4;u++)p[u]+=l[p[(u+3)%4]&63]}):(s=function(p){for(u=3;u>=0;u--)p[u]=Wh(p[u],F0[u]),p[u]-=l[c]+(p[(u+3)%4]&p[(u+2)%4])+(~p[(u+3)%4]&p[(u+1)%4]),c--},f=function(p){for(u=3;u>=0;u--)p[u]-=l[p[(u+3)%4]&63]});var h=function(p){var y=[];for(u=0;u<4;u++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),y.push(x&65535)}c=r?0:63;for(var v=0;v<p.length;v++)for(var B=0;B<p[v][0];B++)p[v][1](y);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(y[u]):y[u]^=a.getInt16Le()),o.putInt16Le(y[u])},d=null;return d={start:function(p,y){p&&typeof p=="string"&&(p=Vt.util.createBuffer(p)),n=!1,i=Vt.util.createBuffer(),o=y||new Vt.util.createBuffer,a=p,d.output=o},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,s],[1,f],[6,s],[1,f],[5,s]])},finish:function(p){var y=!0;if(r)if(p)y=p(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(y&&(n=!0,d.update()),!r&&(y=i.length()===0,y))if(p)y=p(8,o,!r);else{var v=o.length(),B=o.at(v-1);B>v?y=!1:o.truncate(B)}return y}},d};Vt.rc2.startEncrypting=function(t,e,r){var n=Vt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Vt.rc2.createEncryptionCipher=function(t,e){return K0(t,e,!0)};Vt.rc2.startDecrypting=function(t,e,r){var n=Vt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Vt.rc2.createDecryptionCipher=function(t,e){return K0(t,e,!1)}});var ci=z((G2,Z0)=>{var Wo=ft();Z0.exports=Wo.jsbn=Wo.jsbn||{};var Ue,Zh=0xdeadbeefcafe,V0=(Zh&16777215)==15715070;function E(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Wo.jsbn.BigInteger=E;function et(){return new E(null)}function Yh(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function Qh(t,e,r,n,i,o){for(var a=e&32767,s=e>>15;--o>=0;){var f=this.data[t]&32767,u=this.data[t++]>>15,c=s*f+u*a;f=a*f+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(c>>>15)+s*u+(i>>>30),r.data[n++]=f&1073741823}return i}function q0(t,e,r,n,i,o){for(var a=e&16383,s=e>>14;--o>=0;){var f=this.data[t]&16383,u=this.data[t++]>>14,c=s*f+u*a;f=a*f+((c&16383)<<14)+r.data[n]+i,i=(f>>28)+(c>>14)+s*u,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(E.prototype.am=q0,Ue=28):V0&&navigator.appName=="Microsoft Internet Explorer"?(E.prototype.am=Qh,Ue=30):V0&&navigator.appName!="Netscape"?(E.prototype.am=Yh,Ue=26):(E.prototype.am=q0,Ue=28);E.prototype.DB=Ue;E.prototype.DM=(1<<Ue)-1;E.prototype.DV=1<<Ue;var Zo=52;E.prototype.FV=Math.pow(2,Zo);E.prototype.F1=Zo-Ue;E.prototype.F2=2*Ue-Zo;var Xh="0123456789abcdefghijklmnopqrstuvwxyz",ui=new Array,Dr,jt;Dr="0".charCodeAt(0);for(jt=0;jt<=9;++jt)ui[Dr++]=jt;Dr="a".charCodeAt(0);for(jt=10;jt<36;++jt)ui[Dr++]=jt;Dr="A".charCodeAt(0);for(jt=10;jt<36;++jt)ui[Dr++]=jt;function z0(t){return Xh.charAt(t)}function H0(t,e){var r=ui[t.charCodeAt(e)];return r??-1}function Jh(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function jh(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function We(t){var e=et();return e.fromInt(t),e}function tp(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=r==8?t[n]&255:H0(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)}function ep(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function rp(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=z0(n));a>=0;)s<e?(n=(this.data[a]&(1<<s)-1)<<e-s,n|=this.data[--a]>>(s+=this.DB-e)):(n=this.data[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=z0(n));return i?o:"0"}function np(){var t=et();return E.ZERO.subTo(this,t),t}function ip(){return this.s<0?this.negate():this}function op(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function fi(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function ap(){return this.t<=0?0:this.DB*(this.t-1)+fi(this.data[this.t-1]^this.s&this.DM)}function sp(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function up(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function fp(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)e.data[s+o+1]=this.data[s]>>n|a,a=(this.data[s]&i)<<r;for(s=o-1;s>=0;--s)e.data[s]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function cp(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function lp(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function hp(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)}function pp(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function dp(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=et());var o=et(),a=this.s,s=t.s,f=this.DB-fi(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,c=o.data[u-1];if(c!=0){var l=c*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,y=r.t,x=y-u,v=e??et();for(o.dlShiftTo(x,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),E.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--x>=0;){var B=r.data[--y]==c?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+p)*d);if((r.data[y]+=o.am(0,B,r,x,0,u))<B)for(o.dlShiftTo(x,v),r.subTo(v,r);r.data[y]<--B;)r.subTo(v,r)}e!=null&&(r.drShiftTo(u,e),a!=s&&E.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&E.ZERO.subTo(r,r)}}}function yp(t){var e=et();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e}function lr(t){this.m=t}function gp(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function mp(t){return t}function xp(t){t.divRemTo(this.m,null,t)}function vp(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function wp(t,e){t.squareTo(e),this.reduce(e)}lr.prototype.convert=gp;lr.prototype.revert=mp;lr.prototype.reduce=xp;lr.prototype.mulTo=vp;lr.prototype.sqrTo=wp;function bp(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function hr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Ep(t){var e=et();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e}function Sp(t){var e=et();return t.copyTo(e),this.reduce(e),e}function Bp(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Ap(t,e){t.squareTo(e),this.reduce(e)}function Cp(t,e,r){t.multiplyTo(e,r),this.reduce(r)}hr.prototype.convert=Ep;hr.prototype.revert=Sp;hr.prototype.reduce=Bp;hr.prototype.mulTo=Cp;hr.prototype.sqrTo=Ap;function Tp(){return(this.t>0?this.data[0]&1:this.s)==0}function Ip(t,e){if(t>4294967295||t<1)return E.ONE;var r=et(),n=et(),i=e.convert(this),o=fi(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}function _p(t,e){var r;return t<256||e.isEven()?r=new lr(e):r=new hr(e),this.exp(t,r)}E.prototype.copyTo=Jh;E.prototype.fromInt=jh;E.prototype.fromString=tp;E.prototype.clamp=ep;E.prototype.dlShiftTo=sp;E.prototype.drShiftTo=up;E.prototype.lShiftTo=fp;E.prototype.rShiftTo=cp;E.prototype.subTo=lp;E.prototype.multiplyTo=hp;E.prototype.squareTo=pp;E.prototype.divRemTo=dp;E.prototype.invDigit=bp;E.prototype.isEven=Tp;E.prototype.exp=Ip;E.prototype.toString=rp;E.prototype.negate=np;E.prototype.abs=ip;E.prototype.compareTo=op;E.prototype.bitLength=ap;E.prototype.mod=yp;E.prototype.modPowInt=_p;E.ZERO=We(0);E.ONE=We(1);function Rp(){var t=et();return this.copyTo(t),t}function kp(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Np(){return this.t==0?this.s:this.data[0]<<24>>24}function Dp(){return this.t==0?this.s:this.data[0]<<16>>16}function Up(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Lp(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Pp(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=We(r),i=et(),o=et(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a}function Fp(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var f=H0(t,s);if(f<0){t.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&E.ZERO.subTo(this,this)}function Kp(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),Yo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Mp(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Op(t){return this.compareTo(t)==0}function Vp(t){return this.compareTo(t)<0?this:t}function qp(t){return this.compareTo(t)>0?this:t}function zp(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Hp(t,e){return t&e}function Gp(t){var e=et();return this.bitwiseTo(t,Hp,e),e}function Yo(t,e){return t|e}function $p(t){var e=et();return this.bitwiseTo(t,Yo,e),e}function G0(t,e){return t^e}function Wp(t){var e=et();return this.bitwiseTo(t,G0,e),e}function $0(t,e){return t&~e}function Zp(t){var e=et();return this.bitwiseTo(t,$0,e),e}function Yp(){for(var t=et(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Qp(t){var e=et();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Xp(t){var e=et();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Jp(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function jp(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Jp(this.data[t]);return this.s<0?this.t*this.DB:-1}function td(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function ed(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=td(this.data[r]^e);return t}function rd(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function nd(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function id(t){return this.changeBit(t,Yo)}function od(t){return this.changeBit(t,$0)}function ad(t){return this.changeBit(t,G0)}function sd(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function ud(t){var e=et();return this.addTo(t,e),e}function fd(t){var e=et();return this.subTo(t,e),e}function cd(t){var e=et();return this.multiplyTo(t,e),e}function ld(t){var e=et();return this.divRemTo(t,e,null),e}function hd(t){var e=et();return this.divRemTo(t,null,e),e}function pd(t){var e=et(),r=et();return this.divRemTo(t,e,r),new Array(e,r)}function dd(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function yd(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function hn(){}function W0(t){return t}function gd(t,e,r){t.multiplyTo(e,r)}function md(t,e){t.squareTo(e)}hn.prototype.convert=W0;hn.prototype.revert=W0;hn.prototype.mulTo=gd;hn.prototype.sqrTo=md;function xd(t){return this.exp(t,new hn)}function vd(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function wd(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Ur(t){this.r2=et(),this.q3=et(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function bd(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=et();return t.copyTo(e),this.reduce(e),e}function Ed(t){return t}function Sd(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Bd(t,e){t.squareTo(e),this.reduce(e)}function Ad(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Ur.prototype.convert=bd;Ur.prototype.revert=Ed;Ur.prototype.reduce=Sd;Ur.prototype.mulTo=Ad;Ur.prototype.sqrTo=Bd;function Cd(t,e){var r=t.bitLength(),n,i=We(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new lr(e):e.isEven()?o=new Ur(e):o=new hr(e);var a=new Array,s=3,f=n-1,u=(1<<n)-1;if(a[1]=o.convert(this),n>1){var c=et();for(o.sqrTo(a[1],c);s<=u;)a[s]=et(),o.mulTo(c,a[s-2],a[s]),s+=2}var l=t.t-1,h,d=!0,p=et(),y;for(r=fi(t.data[l])-1;l>=0;){for(r>=f?h=t.data[l]>>r-f&u:(h=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(h|=t.data[l-1]>>this.DB+r-f)),s=n;!(h&1);)h>>=1,--s;if((r-=s)<0&&(r+=this.DB,--l),d)a[h].copyTo(i),d=!1;else{for(;s>1;)o.sqrTo(i,p),o.sqrTo(p,i),s-=2;s>0?o.sqrTo(i,p):(y=i,i=p,p=y),o.mulTo(p,a[h],i)}for(;l>=0&&!(t.data[l]&1<<r);)o.sqrTo(i,p),y=i,i=p,p=y,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function Td(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function Id(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function _d(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return E.ZERO;for(var r=t.clone(),n=this.clone(),i=We(1),o=We(0),a=We(0),s=We(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}if(n.compareTo(E.ONE)!=0)return E.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s}var se=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Rd=(1<<26)/se[se.length-1];function kd(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=se[se.length-1]){for(e=0;e<se.length;++e)if(r.data[0]==se[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<se.length;){for(var n=se[e],i=e+1;i<se.length&&n<Rd;)n*=se[i++];for(n=r.modInt(n);e<i;)if(n%se[e++]==0)return!1}return r.millerRabin(t)}function Nd(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=Dd(),o,a=0;a<t;++a){do o=new E(this.bitLength(),i);while(o.compareTo(E.ONE)<=0||o.compareTo(e)>=0);var s=o.modPow(n,this);if(s.compareTo(E.ONE)!=0&&s.compareTo(e)!=0){for(var f=1;f++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(E.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}function Dd(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}E.prototype.chunkSize=Up;E.prototype.toRadix=Pp;E.prototype.fromRadix=Fp;E.prototype.fromNumber=Kp;E.prototype.bitwiseTo=zp;E.prototype.changeBit=nd;E.prototype.addTo=sd;E.prototype.dMultiply=dd;E.prototype.dAddOffset=yd;E.prototype.multiplyLowerTo=vd;E.prototype.multiplyUpperTo=wd;E.prototype.modInt=Id;E.prototype.millerRabin=Nd;E.prototype.clone=Rp;E.prototype.intValue=kp;E.prototype.byteValue=Np;E.prototype.shortValue=Dp;E.prototype.signum=Lp;E.prototype.toByteArray=Mp;E.prototype.equals=Op;E.prototype.min=Vp;E.prototype.max=qp;E.prototype.and=Gp;E.prototype.or=$p;E.prototype.xor=Wp;E.prototype.andNot=Zp;E.prototype.not=Yp;E.prototype.shiftLeft=Qp;E.prototype.shiftRight=Xp;E.prototype.getLowestSetBit=jp;E.prototype.bitCount=ed;E.prototype.testBit=rd;E.prototype.setBit=id;E.prototype.clearBit=od;E.prototype.flipBit=ad;E.prototype.add=ud;E.prototype.subtract=fd;E.prototype.multiply=cd;E.prototype.divide=ld;E.prototype.remainder=hd;E.prototype.divideAndRemainder=pd;E.prototype.modPow=Cd;E.prototype.modInverse=_d;E.prototype.pow=xd;E.prototype.gcd=Td;E.prototype.isProbablePrime=kd});var j0=z(($2,J0)=>{var we=ft();cr();At();var Q0=J0.exports=we.sha1=we.sha1||{};we.md.sha1=we.md.algorithms.sha1=Q0;Q0.create=function(){X0||Ud();var t=null,e=we.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=we.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=we.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),Y0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=we.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Qo.substr(0,n.blockLength-a));for(var s,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,f=s/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Y0(l,r,i);var h=we.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var Qo=null,X0=!1;function Ud(){Qo=String.fromCharCode(128),Qo+=we.util.fillString(String.fromCharCode(0),64),X0=!0}function Y0(t,e,r){for(var n,i,o,a,s,f,u,c,l=r.length();l>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,f=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,u=s^o&(a^s),n=(i<<5|i>>>27)+u+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=s^o&(a^s),n=(i<<5|i>>>27)+u+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=o^a^s,n=(i<<5|i>>>27)+u+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=o^a^s,n=(i<<5|i>>>27)+u+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=o&a|s&(o^a),n=(i<<5|i>>>27)+u+f+2400959708+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=o^a^s,n=(i<<5|i>>>27)+u+f+3395469782+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+f|0,l-=64}}});var ru=z((W2,eu)=>{var be=ft();At();ln();j0();var tu=eu.exports=be.pkcs1=be.pkcs1||{};tu.encode_rsa_oaep=function(t,e,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=be.md.sha1.create(),a||(a=o);var s=Math.ceil(t.n.bitLength()/8),f=s-2*o.digestLength-2;if(e.length>f){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=f,u}n||(n=""),o.update(n,"raw");for(var c=o.digest(),l="",h=f-e.length,d=0;d<h;d++)l+="\0";var p=c.getBytes()+l+""+e;if(!i)i=be.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=o.digestLength,u}var y=li(i,s-o.digestLength-1,a),x=be.util.xorBytes(p,y,p.length),v=li(x,o.digestLength,a),B=be.util.xorBytes(i,v,i.length);return"\0"+B+x};tu.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=e.length,x.expectedLength=a,x}if(i===void 0?i=be.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),f=e.charAt(0),u=e.substring(1,i.digestLength+1),c=e.substring(1+i.digestLength),l=li(c,i.digestLength,o),h=be.util.xorBytes(u,l,u.length),d=li(h,a-i.digestLength-1,o),p=be.util.xorBytes(c,d,c.length),y=p.substring(0,i.digestLength),x=f!=="\0",v=0;v<i.digestLength;++v)x|=s.charAt(v)!==y.charAt(v);for(var B=1,C=i.digestLength,P=i.digestLength;P<p.length;P++){var _=p.charCodeAt(P),I=_&1^1,G=B?65534:0;x|=_&G,B=B&I,C+=B}if(x||p.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(C+1)};function li(t,e,r){r||(r=be.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}});var nu=z((Z2,Xo)=>{var Ze=ft();At();ci();ln();(function(){if(Ze.prime){Xo.exports=Ze.prime;return}var t=Xo.exports=Ze.prime=Ze.prime||{},e=Ze.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,d){typeof h=="function"&&(d=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var y=h.prng||Ze.random,x={nextBytes:function(v){for(var B=y.getBytesSync(v.length),C=0;C<v.length;++C)v[C]=B.charCodeAt(C)}};if(p.name==="PRIMEINC")return o(l,x,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function o(l,h,d,p){return"workers"in d?f(l,h,d,p):a(l,h,d,p)}function a(l,h,d,p){var y=u(l,h),x=0,v=c(y.bitLength());"millerRabinTests"in d&&(v=d.millerRabinTests);var B=10;"maxBlockTime"in d&&(B=d.maxBlockTime),s(y,l,h,x,v,B,p)}function s(l,h,d,p,y,x,v){var B=+new Date;do{if(l.bitLength()>h&&(l=u(h,d)),l.isProbablePrime(y))return v(null,l);l.dAddOffset(r[p++%8],0)}while(x<0||+new Date-B<x);Ze.util.setImmediate(function(){s(l,h,d,p,y,x,v)})}function f(l,h,d,p){if(typeof Worker>"u")return a(l,h,d,p);var y=u(l,h),x=d.workers,v=d.workLoad||100,B=v*30/8,C=d.workerScript||"forge/prime.worker.js";if(x===-1)return Ze.util.estimateCores(function(_,I){_&&(I=2),x=I-1,P()});P();function P(){x=Math.max(1,x);for(var _=[],I=0;I<x;++I)_[I]=new Worker(C);for(var G=x,I=0;I<x;++I)_[I].addEventListener("message",F);var T=!1;function F($){if(!T){--G;var V=$.data;if(V.found){for(var O=0;O<_.length;++O)_[O].terminate();return T=!0,p(null,new e(V.prime,16))}y.bitLength()>l&&(y=u(l,h));var at=y.toString(16);$.target.postMessage({hex:at,workLoad:v}),y.dAddOffset(B,0)}}}}function u(l,h){var d=new e(l,h),p=l-1;return d.testBit(p)||d.bitwiseTo(e.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function c(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var pi=z((Y2,cu)=>{var M=ft();cn();ci();Jn();ru();nu();ln();At();typeof X>"u"&&(X=M.jsbn.BigInteger);var X,Jo=M.util.isNodejs?Nr():null,m=M.asn1,te=M.util;M.pki=M.pki||{};cu.exports=M.pki.rsa=M.rsa=M.rsa||{};var H=M.pki,Ld=[6,4,2,4,2,4,6,2],Pd={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Fd={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Kd={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Md=M.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Od={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Vd=function(t){var e;if(t.algorithm in H.oids)e=H.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=m.oidToDer(e).getBytes(),i=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),o=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);o.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,n)),o.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var a=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),m.toDer(i).getBytes()},uu=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(X.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(X.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new X(M.util.bytesToHex(M.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(X.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var a=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};H.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=fu(t,e,r)):(i=M.util.createBuffer(),i.putBytes(t));for(var a=new X(i.toHex(),16),s=uu(a,e,n),f=s.toString(16),u=M.util.createBuffer(),c=o-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(M.util.hexToBytes(f)),u.getBytes()};H.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var a=new X(M.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=uu(a,e,r),f=s.toString(16),u=M.util.createBuffer(),c=i-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(M.util.hexToBytes(f)),n!==!1?hi(u.getBytes(),e,r):u.getBytes()};H.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||M.random,i={nextBytes:function(s){for(var f=n.getBytesSync(s.length),u=0;u<s.length;++u)s[u]=f.charCodeAt(u)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new X(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};H.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new X(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,a,s=0;t.keys===null&&(e<=0||s<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,u=f-1;t.pqState===0?(t.num=new X(f,t.rng),t.num.testBit(u)||t.num.bitwiseTo(X.ONE.shiftLeft(u),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(zd(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(Ld[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(X.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:H.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:H.rsa.setPublicKey(t.n,t.e)}}a=+new Date,s+=a-o,o=a}return t.keys!==null};H.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!M.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(iu("generateKeyPair"))return Jo.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,f,u){if(s)return n(s);n(null,{privateKey:H.privateKeyFromPem(u),publicKey:H.publicKeyFromPem(f)})});if(ou("generateKey")&&ou("exportKey"))return te.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:su(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return te.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var f=H.privateKeyFromAsn1(m.fromDer(M.util.createBuffer(s)));n(null,{privateKey:f,publicKey:H.setRsaPublicKey(f.n,f.e)})}});if(au("generateKey")&&au("exportKey")){var i=te.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:su(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var f=s.target.result,u=te.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);u.oncomplete=function(c){var l=c.target.result,h=H.privateKeyFromAsn1(m.fromDer(M.util.createBuffer(l)));n(null,{privateKey:h,publicKey:H.setRsaPublicKey(h.n,h.e)})},u.onerror=function(c){n(c)}},i.onerror=function(s){n(s)};return}}else if(iu("generateKeyPairSync")){var o=Jo.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:H.privateKeyFromPem(o.privateKey),publicKey:H.publicKeyFromPem(o.publicKey)}}}var a=H.rsa.createKeyPairGenerationState(t,e,r);if(!n)return H.rsa.stepKeyPairGenerationState(a,0),a.keys;qd(a,r,n)};H.setRsaPublicKey=H.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,f,u){return fu(s,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,f){return M.pkcs1.encode_rsa_oaep(f,s,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return H.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,u){u=hi(u,r,!0);var c=m.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),l={},h=[];if(!m.validate(c,Od,l,h)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=h,d}var p=m.derToOid(l.algorithmIdentifier);if(!(p===M.oids.md2||p===M.oids.md5||p===M.oids.sha1||p===M.oids.sha224||p===M.oids.sha256||p===M.oids.sha384||p===M.oids.sha512||p===M.oids["sha512-224"]||p===M.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===M.oids.md2||p===M.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,u){return u=hi(u,r,!0),f===u}});var s=H.rsa.decrypt(i,r,!0,!1);return o.verify(n,s,r.n.bitLength())},r};H.setRsaPrivateKey=H.rsa.setPrivateKey=function(t,e,r,n,i,o,a,s){var f={n:t,e,d:r,p:n,q:i,dP:o,dQ:a,qInv:s};return f.decrypt=function(u,c,l){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var h=H.rsa.decrypt(u,f,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:hi};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(d,p){return M.pkcs1.decode_rsa_oaep(p,d,l)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(h,f,!1)},f.sign=function(u,c){var l=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:Vd},l=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},l=1);var h=c.encode(u,f.n.bitLength());return H.rsa.encrypt(h,f,l)},f};H.wrapRsaPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(H.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(t).getBytes())])};H.privateKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,Pd,e,r)&&(t=m.fromDer(M.util.createBuffer(e.privateKey))),e={},r=[],!m.validate(t,Fd,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,s,f,u,c,l;return i=M.util.createBuffer(e.privateKeyModulus).toHex(),o=M.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=M.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=M.util.createBuffer(e.privateKeyPrime1).toHex(),f=M.util.createBuffer(e.privateKeyPrime2).toHex(),u=M.util.createBuffer(e.privateKeyExponent1).toHex(),c=M.util.createBuffer(e.privateKeyExponent2).toHex(),l=M.util.createBuffer(e.privateKeyCoefficient).toHex(),H.setRsaPrivateKey(new X(i,16),new X(o,16),new X(a,16),new X(s,16),new X(f,16),new X(u,16),new X(c,16),new X(l,16))};H.privateKeyToAsn1=H.privateKeyToRSAPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.qInv))])};H.publicKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,Md,e,r)){var n=m.derToOid(e.publicKeyOid);if(n!==H.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!m.validate(t,Kd,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=M.util.createBuffer(e.publicKeyModulus).toHex(),a=M.util.createBuffer(e.publicKeyExponent).toHex();return H.setRsaPublicKey(new X(o,16),new X(a,16))};H.publicKeyToAsn1=H.publicKeyToSubjectPublicKeyInfo=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(H.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[H.publicKeyToRSAPublicKey(t)])])};H.publicKeyToRSAPublicKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,Ee(t.e))])};function fu(t,e,r){var n=M.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-t.length,s;if(r===0||r===1){s=r===0?0:255;for(var f=0;f<a;++f)n.putByte(s)}else for(;a>0;){for(var u=0,c=M.random.getBytes(a),f=0;f<a;++f)s=c.charCodeAt(f),s===0?++u:n.putByte(s);a=u}return n.putByte(0),n.putBytes(t),n}function hi(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=M.util.createBuffer(t),a=o.getByte(),s=o.getByte();if(a!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(s===0){f=i-3-n;for(var u=0;u<f;++u)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(s===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var c=o.getByte();if(c!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function qd(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(s,f){if(s)return r(s);if(t.p=f,t.q!==null)return a(s,t.q);o(t.qBits,a)})}function o(s,f){M.prime.generateProbablePrime(s,n,f)}function a(s,f){if(s)return r(s);if(t.q=f,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.p=null,i();return}if(t.q.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.q=null,o(t.qBits,a);return}if(t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(X.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,a);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:H.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:H.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Ee(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=M.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function zd(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function iu(t){return M.util.isNodejs&&typeof Jo[t]=="function"}function ou(t){return typeof te.globalScope<"u"&&typeof te.globalScope.crypto=="object"&&typeof te.globalScope.crypto.subtle=="object"&&typeof te.globalScope.crypto.subtle[t]=="function"}function au(t){return typeof te.globalScope<"u"&&typeof te.globalScope.msCrypto=="object"&&typeof te.globalScope.msCrypto.subtle=="object"&&typeof te.globalScope.msCrypto.subtle[t]=="function"}function su(t){for(var e=M.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var gu=z((Q2,yu)=>{var N=ft();zo();cn();w0();cr();Jn();A0();I0();ln();O0();pi();At();typeof lu>"u"&&(lu=N.jsbn.BigInteger);var lu,w=N.asn1,W=N.pki=N.pki||{};yu.exports=W.pbe=N.pbe=N.pbe||{};var pr=W.oids,Hd={name:"EncryptedPrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Gd={name:"PBES2Algorithms",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},$d={name:"pkcs-12PbeParams",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=N.random.getBytesSync(r.saltSize),i=r.count,o=w.integerToDer(i),a,s,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,l;switch(r.algorithm){case"aes128":a=16,u=16,c=pr["aes128-CBC"],l=N.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,c=pr["aes192-CBC"],l=N.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,c=pr["aes256-CBC"],l=N.aes.createEncryptionCipher;break;case"des":a=8,u=8,c=pr.desCBC,l=N.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=du(d),y=N.pkcs5.pbkdf2(e,n,i,a,p),x=N.random.getBytesSync(u),v=l(y);v.start(x),v.update(w.toDer(t)),v.finish(),f=v.output.getBytes();var B=Wd(n,o,a,d);s=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(pr.pkcs5PBES2).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(pr.pkcs5PBKDF2).getBytes()),B]),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(c).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var C=new N.util.ByteBuffer(n),y=W.pbe.generatePkcs12Key(e,C,1,i,a),x=W.pbe.generatePkcs12Key(e,C,2,i,a),v=N.des.createEncryptionCipher(y);v.start(x),v.update(w.toDer(t)),v.finish(),f=v.output.getBytes(),s=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(pr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,n),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var P=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[s,w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,f)]);return P};W.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!w.validate(t,Hd,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=w.derToOid(n.encryptionOid),s=W.pbe.getCipher(a,n.encryptionParams,e),f=N.util.createBuffer(n.encryptedData);return s.update(f),s.finish()&&(r=w.fromDer(s.output)),r};W.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:w.toDer(t).getBytes()};return N.pem.encode(r,{maxline:e})};W.encryptedPrivateKeyFromPem=function(t){var e=N.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return w.fromDer(e.body)};W.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(t));return n=W.encryptPrivateKeyInfo(n,e,r),W.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var u=N.pbe.opensslDeriveBytes(e,o.substr(0,8),a),c=s(u);c.start(o),c.update(w.toDer(W.privateKeyToAsn1(t))),c.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:N.util.bytesToHex(o).toUpperCase()},body:c.output.getBytes()};return N.pem.encode(l)};W.decryptRsaPrivateKey=function(t,e){var r=null,n=N.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=N.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=N.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=N.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=N.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=N.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=function(l){return N.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,a=function(l){return N.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,a=function(l){return N.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=N.util.hexToBytes(n.dekInfo.parameters),f=N.pbe.opensslDeriveBytes(e,s.substr(0,8),o),u=a(f);if(u.start(s),u.update(N.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(w.fromDer(r),e):r=w.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var a,s;if(typeof o>"u"||o===null){if(!("sha1"in N.md))throw new Error('"sha1" hash algorithm unavailable.');o=N.md.sha1.create()}var f=o.digestLength,u=o.blockLength,c=new N.util.ByteBuffer,l=new N.util.ByteBuffer;if(t!=null){for(s=0;s<t.length;s++)l.putInt16(t.charCodeAt(s));l.putInt16(0)}var h=l.length(),d=e.length(),p=new N.util.ByteBuffer;p.fillWithByte(r,u);var y=u*Math.ceil(d/u),x=new N.util.ByteBuffer;for(s=0;s<y;s++)x.putByte(e.at(s%d));var v=u*Math.ceil(h/u),B=new N.util.ByteBuffer;for(s=0;s<v;s++)B.putByte(l.at(s%h));var C=x;C.putBuffer(B);for(var P=Math.ceil(i/f),_=1;_<=P;_++){var I=new N.util.ByteBuffer;I.putBytes(p.bytes()),I.putBytes(C.bytes());for(var G=0;G<n;G++)o.start(),o.update(I.getBytes()),I=o.digest();var T=new N.util.ByteBuffer;for(s=0;s<u;s++)T.putByte(I.at(s%f));var F=Math.ceil(d/u)+Math.ceil(h/u),$=new N.util.ByteBuffer;for(a=0;a<F;a++){var V=new N.util.ByteBuffer(C.getBytes(u)),O=511;for(s=T.length()-1;s>=0;s--)O=O>>8,O+=T.at(s)+V.at(s),V.setAt(s,O&255);$.putBuffer(V)}C=$,c.putBuffer(I)}return c.truncate(c.length()-i),c};W.pbe.getCipher=function(t,e,r){switch(t){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(t,e,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!w.validate(e,Gd,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=w.derToOid(n.kdfOid),t!==W.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=w.derToOid(n.encOid),t!==W.oids["aes128-CBC"]&&t!==W.oids["aes192-CBC"]&&t!==W.oids["aes256-CBC"]&&t!==W.oids["des-EDE3-CBC"]&&t!==W.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,s=N.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var f,u;switch(W.oids[t]){case"aes128-CBC":f=16,u=N.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,u=N.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,u=N.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,u=N.des.createDecryptionCipher;break;case"desCBC":f=8,u=N.des.createDecryptionCipher;break}var c=pu(n.prfOid),l=N.pkcs5.pbkdf2(r,a,s,f,c),h=n.encIv,d=u(l);return d.start(h),d};W.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!w.validate(e,$d,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=N.util.createBuffer(n.salt),s=N.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var f,u,c;switch(t){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,u=8,c=N.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,u=8,c=function(y,x){var v=N.rc2.createDecryptionCipher(y,40);return v.start(x,null),v};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=pu(n.prfOid),h=W.pbe.generatePkcs12Key(r,a,1,s,f,l);l.start();var d=W.pbe.generatePkcs12Key(r,a,2,s,u,l);return c(h,d)};W.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in N.md))throw new Error('"md5" hash algorithm unavailable.');n=N.md.md5.create()}e===null&&(e="");for(var i=[hu(n,t+e)],o=16,a=1;o<r;++a,o+=16)i.push(hu(n,i[a-1]+t+e));return i.join("").substr(0,r)};function hu(t,e){return t.start().update(e).digest().getBytes()}function pu(t){var e;if(!t)e="hmacWithSHA1";else if(e=W.oids[w.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return du(e)}function du(t){var e=N.md;switch(t){case"hmacWithSHA224":e=N.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Wd(t,e,r,n){var i=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,t),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,N.util.hexToBytes(r.toString(16))),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(W.oids[n]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])),i}});var Bu=z((Um,Su)=>{var dt=ft();cr();At();var pn=Su.exports=dt.sha512=dt.sha512||{};dt.md.sha512=dt.md.algorithms.sha512=pn;var bu=dt.sha384=dt.sha512.sha384=dt.sha512.sha384||{};bu.create=function(){return pn.create("SHA-384")};dt.md.sha384=dt.md.algorithms.sha384=bu;dt.sha512.sha256=dt.sha512.sha256||{create:function(){return pn.create("SHA-512/256")}};dt.md["sha512/256"]=dt.md.algorithms["sha512/256"]=dt.sha512.sha256;dt.sha512.sha224=dt.sha512.sha224||{create:function(){return pn.create("SHA-512/224")}};dt.md["sha512/224"]=dt.md.algorithms["sha512/224"]=dt.sha512.sha224;pn.create=function(t){if(Eu||Xd(),typeof t>"u"&&(t="SHA-512"),!(t in dr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=dr[t],r=null,n=dt.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var s={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var f=s.messageLengthSize/4,u=0;u<f;++u)s.fullMessageLength.push(0);n=dt.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return s},s.start(),s.update=function(f,u){u==="utf8"&&(f=dt.util.encodeUtf8(f));var c=f.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=s.fullMessageLength.length-1;l>=0;--l)s.fullMessageLength[l]+=c[1],c[1]=c[0]+(s.fullMessageLength[l]/4294967296>>>0),s.fullMessageLength[l]=s.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(f),wu(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var f=dt.util.createBuffer();f.putBytes(n.bytes());var u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=u&s.blockLength-1;f.putBytes(ta.substr(0,s.blockLength-c));for(var l,h,d=s.fullMessageLength[0]*8,p=0;p<s.fullMessageLength.length-1;++p)l=s.fullMessageLength[p+1]*8,h=l/4294967296>>>0,d+=h,f.putInt32(d>>>0),d=l>>>0;f.putInt32(d);for(var y=new Array(r.length),p=0;p<r.length;++p)y[p]=r[p].slice(0);wu(y,i,f);var x=dt.util.createBuffer(),v;t==="SHA-512"?v=y.length:t==="SHA-384"?v=y.length-2:v=y.length-4;for(var p=0;p<v;++p)x.putInt32(y[p][0]),(p!==v-1||t!=="SHA-512/224")&&x.putInt32(y[p][1]);return x},s};var ta=null,Eu=!1,ea=null,dr=null;function Xd(){ta=String.fromCharCode(128),ta+=dt.util.fillString(String.fromCharCode(0),128),ea=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],dr={},dr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],dr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],dr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],dr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Eu=!0}function wu(t,e,r){for(var n,i,o,a,s,f,u,c,l,h,d,p,y,x,v,B,C,P,_,I,G,T,F,$,V,O,at,ht,q,Z,L,Ht,pe,Vi,qi,qa=r.length();qa>=128;){for(q=0;q<16;++q)e[q][0]=r.getInt32()>>>0,e[q][1]=r.getInt32()>>>0;for(;q<80;++q)Ht=e[q-2],Z=Ht[0],L=Ht[1],n=((Z>>>19|L<<13)^(L>>>29|Z<<3)^Z>>>6)>>>0,i=((Z<<13|L>>>19)^(L<<3|Z>>>29)^(Z<<26|L>>>6))>>>0,Vi=e[q-15],Z=Vi[0],L=Vi[1],o=((Z>>>1|L<<31)^(Z>>>8|L<<24)^Z>>>7)>>>0,a=((Z<<31|L>>>1)^(Z<<24|L>>>8)^(Z<<25|L>>>7))>>>0,pe=e[q-7],qi=e[q-16],L=i+pe[1]+a+qi[1],e[q][0]=n+pe[0]+o+qi[0]+(L/4294967296>>>0)>>>0,e[q][1]=L>>>0;for(y=t[0][0],x=t[0][1],v=t[1][0],B=t[1][1],C=t[2][0],P=t[2][1],_=t[3][0],I=t[3][1],G=t[4][0],T=t[4][1],F=t[5][0],$=t[5][1],V=t[6][0],O=t[6][1],at=t[7][0],ht=t[7][1],q=0;q<80;++q)u=((G>>>14|T<<18)^(G>>>18|T<<14)^(T>>>9|G<<23))>>>0,c=((G<<18|T>>>14)^(G<<14|T>>>18)^(T<<23|G>>>9))>>>0,l=(V^G&(F^V))>>>0,h=(O^T&($^O))>>>0,s=((y>>>28|x<<4)^(x>>>2|y<<30)^(x>>>7|y<<25))>>>0,f=((y<<4|x>>>28)^(x<<30|y>>>2)^(x<<25|y>>>7))>>>0,d=(y&v|C&(y^v))>>>0,p=(x&B|P&(x^B))>>>0,L=ht+c+h+ea[q][1]+e[q][1],n=at+u+l+ea[q][0]+e[q][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=f+p,o=s+d+(L/4294967296>>>0)>>>0,a=L>>>0,at=V,ht=O,V=F,O=$,F=G,$=T,L=I+i,G=_+n+(L/4294967296>>>0)>>>0,T=L>>>0,_=C,I=P,C=v,P=B,v=y,B=x,L=i+a,y=n+o+(L/4294967296>>>0)>>>0,x=L>>>0;L=t[0][1]+x,t[0][0]=t[0][0]+y+(L/4294967296>>>0)>>>0,t[0][1]=L>>>0,L=t[1][1]+B,t[1][0]=t[1][0]+v+(L/4294967296>>>0)>>>0,t[1][1]=L>>>0,L=t[2][1]+P,t[2][0]=t[2][0]+C+(L/4294967296>>>0)>>>0,t[2][1]=L>>>0,L=t[3][1]+I,t[3][0]=t[3][0]+_+(L/4294967296>>>0)>>>0,t[3][1]=L>>>0,L=t[4][1]+T,t[4][0]=t[4][0]+G+(L/4294967296>>>0)>>>0,t[4][1]=L>>>0,L=t[5][1]+$,t[5][0]=t[5][0]+F+(L/4294967296>>>0)>>>0,t[5][1]=L>>>0,L=t[6][1]+O,t[6][0]=t[6][0]+V+(L/4294967296>>>0)>>>0,t[6][1]=L>>>0,L=t[7][1]+ht,t[7][0]=t[7][0]+at+(L/4294967296>>>0)>>>0,t[7][1]=L>>>0,qa-=128}}});var Ea=z((Nx,vf)=>{"use strict";function xf(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Qy(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return xf(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),xf(new i,r)}}vf.exports=Qy});var bf=z((Dx,wf)=>{var Gr=1e3,$r=Gr*60,Wr=$r*60,vr=Wr*24,Xy=vr*7,Jy=vr*365.25;wf.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return jy(t);if(r==="number"&&isFinite(t))return e.long?e1(t):t1(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function jy(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Jy;case"weeks":case"week":case"w":return r*Xy;case"days":case"day":case"d":return r*vr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Wr;case"minutes":case"minute":case"mins":case"min":case"m":return r*$r;case"seconds":case"second":case"secs":case"sec":case"s":return r*Gr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function t1(t){var e=Math.abs(t);return e>=vr?Math.round(t/vr)+"d":e>=Wr?Math.round(t/Wr)+"h":e>=$r?Math.round(t/$r)+"m":e>=Gr?Math.round(t/Gr)+"s":t+"ms"}function e1(t){var e=Math.abs(t);return e>=vr?Ii(t,e,vr,"day"):e>=Wr?Ii(t,e,Wr,"hour"):e>=$r?Ii(t,e,$r,"minute"):e>=Gr?Ii(t,e,Gr,"second"):t+" ms"}function Ii(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Sf=z((Ux,Ef)=>{function r1(t){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=bf(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let l=0;for(let h=0;h<c.length;h++)l=(l<<5)-l+c.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(c){let l,h=null,d,p;function y(...x){if(!y.enabled)return;let v=y,B=Number(new Date),C=B-(l||B);v.diff=C,v.prev=l,v.curr=B,l=B,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let P=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(I,G)=>{if(I==="%%")return"%";P++;let T=r.formatters[G];if(typeof T=="function"){let F=x[P];I=T.call(v,F),x.splice(P,1),P--}return I}),r.formatArgs.call(v,x),(v.log||r.log).apply(v,x)}return y.namespace=c,y.useColors=r.useColors(),y.color=r.selectColor(c),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(c)),p),set:x=>{h=x}}),typeof r.init=="function"&&r.init(y),y}function n(c,l){let h=r(this.namespace+(typeof l>"u"?":":l)+c);return h.log=this.log,h}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let l,h=(typeof c=="string"?c:"").split(/[\s,]+/),d=h.length;for(l=0;l<d;l++)h[l]&&(c=h[l].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){let c=[...r.names.map(s),...r.skips.map(s).map(l=>"-"+l)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(c))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(c))return!0;return!1}function s(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Ef.exports=r1});var Bf=z((Wt,_i)=>{Wt.formatArgs=i1;Wt.save=o1;Wt.load=a1;Wt.useColors=n1;Wt.storage=s1();Wt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n1(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i1(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+_i.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Wt.log=console.debug||console.log||(()=>{});function o1(t){try{t?Wt.storage.setItem("debug",t):Wt.storage.removeItem("debug")}catch{}}function a1(){let t;try{t=Wt.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function s1(){try{return localStorage}catch{}}_i.exports=Sf()(Wt);var{formatters:u1}=_i.exports;u1.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Q1={};Nt(Q1,{create:()=>G1,createWithExpiration:()=>$1,getLocalKey:()=>Z1,marshal:()=>$c,namespace:()=>Jc,namespaceLength:()=>H1,peerIdFromRoutingKey:()=>Yc,peerIdToRoutingKey:()=>Zc,unmarshal:()=>Wc});var Oa=ut(Ha(),1);var Ga=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var Zi={};Nt(Zi,{identity:()=>ll});function al(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,f=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,x=0,v=0,B=p.length;v!==B&&p[v]===0;)v++,y++;for(var C=(B-v)*c+1>>>0,P=new Uint8Array(C);v!==B;){for(var _=p[v],I=0,G=C-1;(_!==0||I<x)&&G!==-1;G--,I++)_+=256*P[G]>>>0,P[G]=_%s>>>0,_=_/s>>>0;if(_!==0)throw new Error("Non-zero carry");x=I,v++}for(var T=C-x;T!==C&&P[T]===0;)T++;for(var F=f.repeat(y);T<C;++T)F+=t.charAt(P[T]);return F}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var x=0,v=0;p[y]===f;)x++,y++;for(var B=(p.length-y)*u+1>>>0,C=new Uint8Array(B);p[y];){var P=r[p.charCodeAt(y)];if(P===255)return;for(var _=0,I=B-1;(P!==0||_<v)&&I!==-1;I--,_++)P+=s*C[I]>>>0,C[I]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");v=_,y++}if(p[y]!==" "){for(var G=B-v;G!==B&&C[G]===0;)G++;for(var T=new Uint8Array(x+(B-G)),F=x;G!==B;)T[F++]=C[G++];return T}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var sl=al,ul=sl,$a=ul;var rg=new Uint8Array(0);var Wa=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},_e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Za=t=>new TextEncoder().encode(t),Ya=t=>new TextDecoder().decode(t);var Hi=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Gi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Xa(this,e)}},$i=class{constructor(e){this.decoders=e}or(e){return Xa(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Xa=(t,e)=>new $i({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Wi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Hi(e,r,n),this.decoder=new Gi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},br=({name:t,prefix:e,encode:r,decode:n})=>new Wi(t,e,r,n),Ke=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=$a(r,e);return br({prefix:t,name:e,encode:n,decode:o=>_e(i(o))})},fl=(t,e,r,n)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,f=0,u=0;for(let c=0;c<o;++c){let l=i[t[c]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|l,s+=r,s>=8&&(s-=8,a[u++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},cl=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let f=0;f<t.length;++f)for(s=s<<8|t[f],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},wt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>br({prefix:e,name:t,encode(i){return cl(i,n,r)},decode(i){return fl(i,n,r,t)}});var ll=br({prefix:"\0",name:"identity",encode:t=>Ya(t),decode:t=>Za(t)});var Yi={};Nt(Yi,{base2:()=>hl});var hl=wt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Qi={};Nt(Qi,{base8:()=>pl});var pl=wt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Xi={};Nt(Xi,{base10:()=>dl});var dl=Ke({prefix:"9",name:"base10",alphabet:"0123456789"});var Ji={};Nt(Ji,{base16:()=>yl,base16upper:()=>gl});var yl=wt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gl=wt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var to={};Nt(to,{base32:()=>Me,base32hex:()=>vl,base32hexpad:()=>bl,base32hexpadupper:()=>El,base32hexupper:()=>wl,base32pad:()=>ml,base32padupper:()=>xl,base32upper:()=>ji,base32z:()=>Sl});var Me=wt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ji=wt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ml=wt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xl=wt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vl=wt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wl=wt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bl=wt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),El=wt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Sl=wt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eo={};Nt(eo,{base36:()=>Bl,base36upper:()=>Al});var Bl=Ke({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Al=Ke({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ro={};Nt(ro,{base58btc:()=>Dt,base58flickr:()=>Cl});var Dt=Ke({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cl=Ke({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var no={};Nt(no,{base64:()=>Er,base64pad:()=>Tl,base64url:()=>Il,base64urlpad:()=>_l});var Er=wt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Tl=wt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Il=wt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_l=wt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var io={};Nt(io,{base256emoji:()=>Ul});var Ja=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Rl=Ja.reduce((t,e,r)=>(t[r]=e,t),[]),kl=Ja.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Nl(t){return t.reduce((e,r)=>(e+=Rl[r],e),"")}function Dl(t){let e=[];for(let r of t){let n=kl[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Ul=br({prefix:"\u{1F680}",name:"base256emoji",encode:Nl,decode:Dl});var uo={};Nt(uo,{sha256:()=>Lt,sha512:()=>jl});var Ll=es,ja=128,Pl=127,Fl=~Pl,Kl=Math.pow(2,31);function es(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Kl;)e[r++]=t&255|ja,t/=128;for(;t&Fl;)e[r++]=t&255|ja,t>>>=7;return e[r]=t|0,es.bytes=r-n+1,e}var Ml=oo,Ol=128,ts=127;function oo(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw oo.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&ts)<<i:(a&ts)*Math.pow(2,i),i+=7}while(a>=Ol);return oo.bytes=o-n,r}var Vl=Math.pow(2,7),ql=Math.pow(2,14),zl=Math.pow(2,21),Hl=Math.pow(2,28),Gl=Math.pow(2,35),$l=Math.pow(2,42),Wl=Math.pow(2,49),Zl=Math.pow(2,56),Yl=Math.pow(2,63),Ql=function(t){return t<Vl?1:t<ql?2:t<zl?3:t<Hl?4:t<Gl?5:t<$l?6:t<Wl?7:t<Zl?8:t<Yl?9:10},Xl={encode:Ll,decode:Ml,encodingLength:Ql},Jl=Xl,en=Jl;var rn=(t,e=0)=>[en.decode(t,e),en.decode.bytes],Sr=(t,e,r=0)=>(en.encode(t,e,r),e),Br=t=>en.encodingLength(t);var Oe=(t,e)=>{let r=e.byteLength,n=Br(t),i=n+Br(r),o=new Uint8Array(i+r);return Sr(t,o,0),Sr(r,o,n),o.set(e,i),new Ar(t,r,e,o)},or=t=>{let e=_e(t),[r,n]=rn(e),[i,o]=rn(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new Ar(r,i,a,e)},rs=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Wa(t.bytes,r.bytes)}},Ar=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var so=({name:t,code:e,encode:r})=>new ao(t,e,r),ao=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Oe(this.code,r):r.then(n=>Oe(this.code,n))}else throw Error("Unknown type, must be binary type")}};var is=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Lt=so({name:"sha2-256",code:18,encode:is("SHA-256")}),jl=so({name:"sha2-512",code:19,encode:is("SHA-512")});var fo={};Nt(fo,{identity:()=>Ve});var os=0,th="identity",as=_e,eh=t=>Oe(os,as(t)),Ve={code:os,name:th,encode:as,digest:eh};var Sg=new TextEncoder,Bg=new TextDecoder;var ss=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return oh(r,co(t),e||Dt.encoder);default:return ah(r,co(t),e||Me.encoder)}};var us=new WeakMap,co=t=>{let e=us.get(t);if(e==null){let r=new Map;return us.set(t,r),r}return e},vt=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==nn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==sh)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return vt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Oe(e,r);return vt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return vt.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&rs(e.multihash,n.multihash)}toString(e){return ss(this,e)}toJSON(){return{"/":ss(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof vt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:a}=r;return new vt(n,i,o,a||fs(n,i,o.bytes))}else if(r[uh]===!0){let{version:n,multihash:i,code:o}=r,a=or(i);return vt.create(n,o,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==nn)throw new Error(`Version 0 CID must use dag-pb (code: ${nn}) block encoding`);return new vt(e,r,n,n.bytes)}case 1:{let i=fs(e,r,n.bytes);return new vt(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return vt.create(0,nn,e)}static createV1(e,r){return vt.create(1,e,r)}static decode(e){let[r,n]=vt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=vt.inspectBytes(e),n=r.size-r.multihashSize,i=_e(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new Ar(r.multihashCode,r.digestSize,o,i);return[r.version===0?vt.createV0(a):vt.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=rn(e.subarray(r));return r+=h,l},i=n(),o=nn;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),f=n(),u=r+f,c=u-a;return{version:i,codec:o,multihashCode:s,digestSize:f,multihashSize:c,size:u}}static parse(e,r){let[n,i]=ih(e,r),o=vt.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return co(o).set(n,e),o}},ih=(t,e)=>{switch(t[0]){case"Q":{let r=e||Dt;return[Dt.prefix,r.decode(`${Dt.prefix}${t}`)]}case Dt.prefix:{let r=e||Dt;return[Dt.prefix,r.decode(t)]}case Me.prefix:{let r=e||Me;return[Me.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},oh=(t,e,r)=>{let{prefix:n}=r;if(n!==Dt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},ah=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},nn=112,sh=18,fs=(t,e,r)=>{let n=Br(t),i=n+Br(e),o=new Uint8Array(i+r.byteLength);return Sr(t,o,0),Sr(e,o,n),o.set(r,i),o},uh=Symbol.for("@ipld/js-cid/CID");var Cr={...Zi,...Yi,...Qi,...Xi,...Ji,...to,...eo,...ro,...no,...io},Ug={...uo,...fo};function Tr(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Fn(t=0){return globalThis.Buffer?.allocUnsafe!=null?Tr(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ls(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var cs=ls("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),lo=ls("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Fn(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),fh={utf8:cs,"utf-8":cs,hex:Cr.base16,latin1:lo,ascii:lo,binary:lo,...Cr},Kn=fh;function Ft(t,e="utf8"){let r=Kn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Bt(t,e="utf8"){let r=Kn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Tr(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Re="/",hs=new TextEncoder().encode(Re),Mn=hs[0],Pt=class{constructor(e,r){if(typeof e=="string")this._buf=Bt(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Mn)throw new Error("Invalid key")}toString(e="utf8"){return Ft(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Pt(e.join(Re))}static random(){return new Pt(Ga().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new Pt(e):typeof e.uint8Array=="function"?new Pt(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=hs),this._buf[0]!==Mn){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Mn,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Mn;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],a=n[i];if(o<a)return!0;if(o>a)return!1}return r.length<n.length}reverse(){return Pt.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Re).slice(1)}type(){return ch(this.baseNamespace())}name(){return lh(this.baseNamespace())}instance(e){return new Pt(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Re)||(e+=Re),e+=this.type(),new Pt(e)}parent(){let e=this.list();return e.length===1?new Pt(Re):new Pt(e.slice(0,-1).join(Re))}child(e){return this.toString()===Re?e:e.toString()===Re?this:new Pt(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Pt.withNamespaces([...this.namespaces(),...hh(e.map(r=>r.namespaces()))])}};function ch(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function lh(t){let e=t.split(":");return e[e.length-1]}function hh(t){return[].concat(...t)}var Ao=ut(zn(),1),Xs=ut(mo(),1),Js=ut(ze(),1),Co=ut(Gn(),1),js=ut(Bo(),1);function bh(){Js.default._configure(),Ao.default._configure(Xs.default),Co.default._configure(js.default)}bh();var t0=["uint64","int64","sint64","fixed64","sfixed64"];function Eh(t){for(let e of t0){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function To(t){return Eh(new Ao.default(t))}function Sh(t){for(let e of t0){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function Io(){return Sh(Co.default.create())}function $n(t,e){let r=To(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function Wn(t,e){let r=Io();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var _r;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(_r||(_r={}));function Zn(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function _o(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,a){let s=e(o);a.int32(s)},n=function(o){let a=o.int32();return e(a)};return Zn("enum",_r.VARINT,r,n)}function Yn(t,e){return Zn("message",_r.LENGTH_DELIMITED,t,e)}var St;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(St||(St={}));var Ro;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(Ro||(Ro={}));(function(t){t.codec=()=>_o(Ro)})(St||(St={}));var ke;(function(t){let e;t.codec=()=>(e==null&&(e=Yn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),St.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=St.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>Wn(r,t.codec()),t.decode=r=>$n(r,t.codec())})(ke||(ke={}));var ge;(function(t){let e;t.codec=()=>(e==null&&(e=Yn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),St.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=St.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>Wn(r,t.codec()),t.decode=r=>$n(r,t.codec())})(ge||(ge={}));var Bx=ut(cn(),1),Ax=ut(gu(),1),Zy=ut(ft(),1);var ct=class extends Error{constructor(e,r,n){super(e),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};function ue(t,e){e==null&&(e=t.reduce((i,o)=>i+o.length,0));let r=Fn(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Tr(r)}var qt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var lm=ut(At(),1),hm=ut(ci(),1),mu=ut(ft(),1);function fe(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=ue([new Uint8Array(e-r.length),r])}return Ft(r,"base64url")}function Gt(t){let e=xu(t);return new mu.default.jsbn.BigInteger(Ft(e,"base16"),16)}function xu(t,e){let r=Bt(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=ue([new Uint8Array(e-r.length),r])}return r}function Ot(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Yd={"P-256":256,"P-384":384,"P-521":521},Qd=Object.keys(Yd),Bm=Qd.join(" / ");function jo(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",o=t?.saltLength??16,a=t?.iterations??32767,s=qt.get();r*=8;async function f(l,h){let d=s.getRandomValues(new Uint8Array(o)),p=s.getRandomValues(new Uint8Array(n)),y={name:e,iv:p};typeof h=="string"&&(h=Bt(h));let x={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},v=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),B=await s.subtle.deriveKey(x,v,{name:e,length:r},!0,["encrypt"]),C=await s.subtle.encrypt(y,B,l);return ue([d,y.iv,new Uint8Array(C)])}async function u(l,h){let d=l.subarray(0,o),p=l.subarray(o,o+n),y=l.subarray(o+n),x={name:e,iv:p};typeof h=="string"&&(h=Bt(h));let v={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},B=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),C=await s.subtle.deriveKey(v,B,{name:e,length:r},!0,["decrypt"]),P=await s.subtle.decrypt(x,C,y);return new Uint8Array(P)}return{encrypt:f,decrypt:u}}var ca={};Nt(ca,{RsaPrivateKey:()=>qr,RsaPublicKey:()=>vn,fromJwk:()=>by,generateKeyPair:()=>Ey,unmarshalRsaPrivateKey:()=>vy,unmarshalRsaPublicKey:()=>wy});var ox=ut(Bu(),1),xn=ut(ft(),1);var Jd=ut(Nr(),1);var J=BigInt(0),yt=BigInt(1),Qe=BigInt(2),yn=BigInt(3),Au=BigInt(8),bt=Object.freeze({a:J,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Cu=(t,e)=>(t+e/Qe)/e,di={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=bt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-yt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Cu(o*t,e),f=Cu(-n*t,e),u=D(t-s*r-f*i,e),c=D(-s*n-f*o,e),l=u>a,h=c>a;if(l&&(u=e-u),h&&(c=e-c),u>a||c>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:u,k2neg:h,k2:c}}},ce=32,Fr=32,jd=32,Tu=ce+1,Iu=2*ce+1;function _u(t){let{a:e,b:r}=bt,n=D(t*t),i=D(n*t);return D(i+e*t+r)}var yi=bt.a===J,xi=class extends Error{constructor(e){super(e)}};function Ru(t){if(!(t instanceof rt))throw new TypeError("JacobianPoint expected")}var rt=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ot))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(ot.ZERO)?rt.ZERO:new rt(e.x,e.y,yt)}static toAffineBatch(e){let r=iy(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return rt.toAffineBatch(e).map(rt.fromAffine)}equals(e){Ru(e);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e,f=D(i*i),u=D(s*s),c=D(r*u),l=D(o*f),h=D(D(n*s)*u),d=D(D(a*i)*f);return c===l&&h===d}negate(){return new rt(this.x,D(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=D(e*e),o=D(r*r),a=D(o*o),s=e+o,f=D(Qe*(D(s*s)-i-a)),u=D(yn*i),c=D(u*u),l=D(c-Qe*f),h=D(u*(f-l)-Au*a),d=D(Qe*r*n);return new rt(l,h,d)}add(e){Ru(e);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e;if(o===J||a===J)return this;if(r===J||n===J)return e;let f=D(i*i),u=D(s*s),c=D(r*u),l=D(o*f),h=D(D(n*s)*u),d=D(D(a*i)*f),p=D(l-c),y=D(d-h);if(p===J)return y===J?this.double():rt.ZERO;let x=D(p*p),v=D(p*x),B=D(c*x),C=D(y*y-v-Qe*B),P=D(y*(B-C)-h*v),_=D(i*s*p);return new rt(C,P,_)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=rt.ZERO;if(typeof e=="bigint"&&e===J)return r;let n=Du(e);if(n===yt)return this;if(!yi){let l=r,h=this;for(;n>J;)n&yt&&(l=l.add(h)),h=h.double(),n>>=yt;return l}let{k1neg:i,k1:o,k2neg:a,k2:s}=di.splitScalar(n),f=r,u=r,c=this;for(;o>J||s>J;)o&yt&&(f=f.add(c)),s&yt&&(u=u.add(c)),c=c.double(),o>>=yt,s>>=yt;return i&&(f=f.negate()),a&&(u=u.negate()),u=new rt(D(u.x*di.beta),u.y,u.z),f.add(u)}precomputeWindow(e){let r=yi?128/e+1:256/e+1,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(e-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(rt.BASE)&&(r=ot.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&na.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=rt.normalizeZ(i),na.set(r,i)));let o=rt.ZERO,a=rt.BASE,s=1+(yi?128/n:256/n),f=2**(n-1),u=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let h=0;h<s;h++){let d=h*f,p=Number(e&u);e>>=l,p>f&&(p-=c,e+=yt);let y=d,x=d+Math.abs(p)-1,v=h%2!==0,B=p<0;p===0?a=a.add(gi(v,i[y])):o=o.add(gi(B,i[x]))}return{p:o,f:a}}multiply(e,r){let n=Du(e),i,o;if(yi){let{k1neg:a,k1:s,k2neg:f,k2:u}=di.splitScalar(n),{p:c,f:l}=this.wNAF(s,r),{p:h,f:d}=this.wNAF(u,r);c=gi(a,c),h=gi(f,h),h=new rt(D(h.x*di.beta),h.y,h.z),i=c.add(h),o=l.add(d)}else{let{p:a,f:s}=this.wNAF(n,r);i=a,o=s}return rt.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(rt.ZERO);e==null&&(e=o?Au:Or(i));let a=e,s=D(a*a),f=D(s*a),u=D(r*s),c=D(n*f),l=D(i*a);if(o)return ot.ZERO;if(l!==yt)throw new Error("invZ was invalid");return new ot(u,c)}};rt.BASE=new rt(bt.Gx,bt.Gy,yt);rt.ZERO=new rt(J,yt,J);function gi(t,e){let r=e.negate();return t?r:e}var na=new WeakMap,ot=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,na.delete(this)}hasEvenY(){return this.y%Qe===J}static fromCompressedHex(e){let r=e.length===32,n=Xe(r?e:e.subarray(1));if(!ra(n))throw new Error("Point is not on curve");let i=_u(n),o=ny(i),a=(o&yt)===yt;r?a&&(o=D(-o)):(e[0]&1)===1!==a&&(o=D(-o));let s=new ot(n,o);return s.assertValidity(),s}static fromUncompressedHex(e){let r=Xe(e.subarray(1,ce+1)),n=Xe(e.subarray(ce+1,ce*2+1)),i=new ot(r,n);return i.assertValidity(),i}static fromHex(e){let r=Mr(e),n=r.length,i=r[0];if(n===ce)return this.fromCompressedHex(r);if(n===Tu&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Iu&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Tu} compressed bytes or ${Iu} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return ot.BASE.multiply(wi(e))}static fromSignature(e,r,n){let{r:i,s:o}=Uu(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=aa(Mr(e)),{n:s}=bt,f=n===2||n===3?i+s:i,u=Or(f,s),c=D(-a*u,s),l=D(o*u,s),h=n&1?"03":"02",d=ot.fromHex(h+Lr(f)),p=ot.BASE.multiplyAndAddUnsafe(d,c,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return yr(this.toHex(e))}toHex(e=!1){let r=Lr(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Lr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!ra(r)||!ra(n))throw new Error(e);let i=D(n*n),o=_u(r);if(D(i-o)!==J)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ot(this.x,D(-this.y))}double(){return rt.fromAffine(this).double().toAffine()}add(e){return rt.fromAffine(this).add(rt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return rt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=rt.fromAffine(this),o=r===J||r===yt||this!==ot.BASE?i.multiplyUnsafe(r):i.multiply(r),a=rt.fromAffine(e).multiplyUnsafe(n),s=o.add(a);return s.equals(rt.ZERO)?void 0:s.toAffine()}};ot.BASE=new ot(bt.Gx,bt.Gy);ot.ZERO=new ot(J,J);function ku(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Nu(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Kr(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Xe(r),left:t.subarray(e+2)}}function ty(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Kr(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Nu(t.subarray(2)),{data:n,left:i}=Nu(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Kr(i)}`);return{r:e,s:n}}var Se=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Kr(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Se(vi(i.slice(0,64)),vi(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=ty(r?e:yr(e));return new Se(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!mn(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!mn(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=bt.n>>yt;return this.s>e}normalizeS(){return this.hasHighS()?new Se(this.r,D(-this.s,bt.n)):this}toDERRawBytes(){return yr(this.toDERHex())}toDERHex(){let e=ku(dn(this.s)),r=ku(dn(this.r)),n=e.length/2,i=r.length/2,o=dn(n),a=dn(i);return`30${dn(i+n+4)}02${a}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return yr(this.toCompactHex())}toCompactHex(){return Lr(this.r)+Lr(this.s)}};function Ye(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var ey=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=ey[t[r]];return e}var ry=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Lr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(J<=t&&t<ry))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function ia(t){let e=yr(Lr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function dn(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function vi(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function yr(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Xe(t){return vi(Kr(t))}function Mr(t){return t instanceof Uint8Array?Uint8Array.from(t):yr(t)}function Du(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&mn(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(t,e=bt.P){let r=t%e;return r>=J?r:e+r}function ee(t,e){let{P:r}=bt,n=t;for(;e-- >J;)n*=n,n%=r;return n}function ny(t){let{P:e}=bt,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),f=t*t*t%e,u=f*f*t%e,c=ee(u,yn)*u%e,l=ee(c,yn)*u%e,h=ee(l,Qe)*f%e,d=ee(h,n)*h%e,p=ee(d,i)*d%e,y=ee(p,a)*p%e,x=ee(y,s)*y%e,v=ee(x,a)*p%e,B=ee(v,yn)*u%e,C=ee(B,o)*d%e,P=ee(C,r)*f%e,_=ee(P,Qe);if(_*_%e!==t)throw new Error("Cannot find square root");return _}function Or(t,e=bt.P){if(t===J||e<=J)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=D(t,e),n=e,i=J,o=yt,a=yt,s=J;for(;r!==J;){let u=n/r,c=n%r,l=i-a*u,h=o-s*u;n=r,r=c,i=a,o=s,a=l,s=h}if(n!==yt)throw new Error("invert: does not exist");return D(i,e)}function iy(t,e=bt.P){let r=new Array(t.length),n=t.reduce((o,a,s)=>a===J?o:(r[s]=o,D(o*a,e)),yt),i=Or(n,e);return t.reduceRight((o,a,s)=>a===J?o:(r[s]=D(o*r[s],e),D(o*a,e)),i),r}function oy(t){let e=t.length*8-Fr*8,r=Xe(t);return e>0?r>>BigInt(e):r}function aa(t,e=!1){let r=oy(t);if(e)return r;let{n}=bt;return r>=n?r-n:r}var Pr,gn,oa=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return le.hmacSha256(this.k,...e)}hmacSync(...e){return gn(this.k,...e)}checkSync(){if(typeof gn!="function")throw new xi("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Ye(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Ye(...r)}};function mn(t){return J<t&&t<bt.n}function ra(t){return J<t&&t<bt.P}function ay(t,e,r,n=!0){let{n:i}=bt,o=aa(t,!0);if(!mn(o))return;let a=Or(o,i),s=ot.BASE.multiply(o),f=D(s.x,i);if(f===J)return;let u=D(a*D(e+r*f,i),i);if(u===J)return;let c=new Se(f,u),l=(s.x===c.r?0:2)|Number(s.y&yt);return n&&c.hasHighS()&&(c=c.normalizeS(),l^=1),{sig:c,recovery:l}}function wi(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Fr)throw new Error("Expected 32 bytes of private key");e=vi(t)}else if(t instanceof Uint8Array){if(t.length!==Fr)throw new Error("Expected 32 bytes of private key");e=Xe(t)}else throw new TypeError("Expected valid private key");if(!mn(e))throw new Error("Expected private key: 0 < key < n");return e}function sy(t){return t instanceof ot?(t.assertValidity(),t):ot.fromHex(t)}function Uu(t){if(t instanceof Se)return t.assertValidity(),t;try{return Se.fromDER(t)}catch{return Se.fromCompact(t)}}function sa(t,e=!1){return ot.fromPrivateKey(t).toRawBytes(e)}function Lu(t){let e=t.length>ce?t.slice(0,ce):t;return Xe(e)}function uy(t){let e=Lu(t),r=D(e,bt.n);return Pu(r<J?e:r)}function Pu(t){return ia(t)}function fy(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Mr(t),i=wi(e),o=[Pu(i),uy(n)];if(r!=null){r===!0&&(r=le.randomBytes(ce));let f=Mr(r);if(f.length!==ce)throw new Error(`sign: Expected ${ce} bytes of extra data`);o.push(f)}let a=Ye(...o),s=Lu(n);return{seed:a,m:s,d:i}}function cy(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}async function Fu(t,e,r={}){let{seed:n,m:i,d:o}=fy(t,e,r.extraEntropy),a=new oa(jd,Fr);await a.reseed(n);let s;for(;!(s=ay(await a.generate(),i,o,r.canonical));)await a.reseed();return cy(s,r)}var ly={strict:!0};function Ku(t,e,r,n=ly){let i;try{i=Uu(t),e=Mr(e)}catch{return!1}let{r:o,s:a}=i;if(n.strict&&i.hasHighS())return!1;let s=aa(e),f;try{f=sy(r)}catch{return!1}let{n:u}=bt,c=Or(a,u),l=D(s*c,u),h=D(o*c,u),d=ot.BASE.multiplyAndAddUnsafe(f,l,h);return d?D(d.x,u)===o:!1}ot.BASE._setWindowSize(8);var $t={node:Jd,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var mi={},le={bytesToHex:Kr,hexToBytes:yr,concatBytes:Ye,mod:D,invert:Or,isValidPrivateKey(t){try{return wi(t),!0}catch{return!1}},_bigintTo32Bytes:ia,_normalizePrivateKey:wi,hashToPrivateKey:t=>{t=Mr(t);let e=Fr+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=D(Xe(t),bt.n-yt)+yt;return ia(r)},randomBytes:(t=32)=>{if($t.web)return $t.web.getRandomValues(new Uint8Array(t));if($t.node){let{randomBytes:e}=$t.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>le.hashToPrivateKey(le.randomBytes(Fr+8)),precompute(t=8,e=ot.BASE){let r=e===ot.BASE?e:new ot(e.x,e.y);return r._setWindowSize(t),r.multiply(yn),r},sha256:async(...t)=>{if($t.web){let e=await $t.web.subtle.digest("SHA-256",Ye(...t));return new Uint8Array(e)}else if($t.node){let{createHash:e}=$t.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if($t.web){let r=await $t.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Ye(...e),i=await $t.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if($t.node){let{createHmac:r}=$t.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=mi[t];if(r===void 0){let n=await le.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ye(n,n),mi[t]=r}return le.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Pr!="function")throw new xi("sha256Sync is undefined, you need to set it");let r=mi[t];if(r===void 0){let n=Pr(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ye(n,n),mi[t]=r}return Pr(r,...e)},_JacobianPoint:rt};Object.defineProperties(le,{sha256Sync:{configurable:!1,get(){return Pr},set(t){Pr||(Pr=t)}},hmacSha256Sync:{configurable:!1,get(){return gn},set(t){gn||(gn=t)}}});function bi(t){if(isNaN(t)||t<=0)throw new ct("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return le.randomBytes(t)}var gr={};Nt(gr,{jwkToPkcs1:()=>dy,jwkToPkix:()=>gy,pkcs1ToJwk:()=>py,pkixToJwk:()=>yy});var Km=ut(cn(),1),Mm=ut(pi(),1),Le=ut(ft(),1);function py(t){let e=Le.default.asn1.fromDer(Ft(t,"ascii")),r=Le.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:fe(r.n),e:fe(r.e),d:fe(r.d),p:fe(r.p),q:fe(r.q),dp:fe(r.dP),dq:fe(r.dQ),qi:fe(r.qInv),alg:"RS256"}}function dy(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw new ct("JWK was missing components","ERR_INVALID_PARAMETERS");let e=Le.default.pki.privateKeyToAsn1({n:Gt(t.n),e:Gt(t.e),d:Gt(t.d),p:Gt(t.p),q:Gt(t.q),dP:Gt(t.dp),dQ:Gt(t.dq),qInv:Gt(t.qi)});return Bt(Le.default.asn1.toDer(e).getBytes(),"ascii")}function yy(t){let e=Le.default.asn1.fromDer(Ft(t,"ascii")),r=Le.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:fe(r.n),e:fe(r.e)}}function gy(t){if(t.n==null||t.e==null)throw new ct("JWK was missing components","ERR_INVALID_PARAMETERS");let e=Le.default.pki.publicKeyToAsn1({n:Gt(t.n),e:Gt(t.e)});return Bt(Le.default.asn1.toDer(e).getBytes(),"ascii")}var Hm=ut(pi(),1),ua=ut(ft(),1);function Mu(t,e){return e.map(r=>Gt(t[r]))}function Ou(t){return ua.default.pki.setRsaPrivateKey(...Mu(t,["n","e","d","p","q","dp","dq","qi"]))}function Vu(t){return ua.default.pki.setRsaPublicKey(...Mu(t,["n","e"]))}async function qu(t){let e=await qt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Gu(e);return{privateKey:r[0],publicKey:r[1]}}async function fa(t){let r=[await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await my(t)],n=await Gu({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function zu(t,e){let r=await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await qt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function Hu(t,e,r){let n=await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return await qt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function Gu(t){if(t.privateKey==null||t.publicKey==null)throw new ct("Private and public key are required","ERR_INVALID_PARAMETERS");return await Promise.all([qt.get().subtle.exportKey("jwk",t.privateKey),qt.get().subtle.exportKey("jwk",t.publicKey)])}async function my(t){return await qt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function $u(t,e,r,n){let i=e?Vu(t):Ou(t),o=Ft(Uint8Array.from(r),"ascii"),a=n(o,i);return Bt(a,"ascii")}function Wu(t,e){return $u(t,!0,e,(r,n)=>n.encrypt(r))}function Zu(t,e){return $u(t,!1,e,(r,n)=>n.decrypt(r))}async function Vr(t,e){let n=await jo().encrypt(t,e);return Er.encode(n)}var vn=class{constructor(e){this._key=e}async verify(e,r){return await Hu(this._key,r,e)}marshal(){return gr.jwkToPkix(this._key)}get bytes(){return ke.encode({Type:St.RSA,Data:this.marshal()}).subarray()}encrypt(e){return Wu(this._key,e)}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}},qr=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return bi(16)}async sign(e){return await zu(this._key,e)}get public(){if(this._publicKey==null)throw new ct("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new vn(this._publicKey)}decrypt(e){return Zu(this._key,e)}marshal(){return gr.jwkToPkcs1(this._key)}get bytes(){return ge.encode({Type:St.RSA,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new xn.default.util.ByteBuffer(this.marshal()),i=xn.default.asn1.fromDer(n),o=xn.default.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return xn.default.pki.encryptRsaPrivateKey(o,e,a)}else{if(r==="libp2p-key")return await Vr(this.bytes,e);throw new ct(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function vy(t){let e=gr.pkcs1ToJwk(t),r=await fa(e);return new qr(r.privateKey,r.publicKey)}function wy(t){let e=gr.pkixToJwk(t);return new vn(e)}async function by(t){let e=await fa(t);return new qr(e.privateKey,e.publicKey)}async function Ey(t){let e=await qu(t);return new qr(e.privateKey,e.publicKey)}var va={};Nt(va,{Ed25519PrivateKey:()=>xr,Ed25519PublicKey:()=>Bn,generateKeyPair:()=>zy,generateKeyPairFromSeed:()=>cf,unmarshalEd25519PrivateKey:()=>Vy,unmarshalEd25519PublicKey:()=>qy});var Sy=ut(Nr(),1);var Rt=BigInt(0),j=BigInt(1),tr=BigInt(2),By=BigInt(8),Yu=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),gt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Yu,n:Yu,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var tf=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),wn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),sx=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Ay=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Cy=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ty=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Iy=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Q=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof xt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(xt.ZERO)?Q.ZERO:new Q(e.x,e.y,j,S(e.x*e.y))}static toAffineBatch(e){let r=ky(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Xu(e);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e,f=S(r*s),u=S(o*i),c=S(n*s),l=S(a*i);return f===u&&c===l}negate(){return new Q(S(-this.x),this.y,this.z,S(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=gt,o=S(e*e),a=S(r*r),s=S(tr*S(n*n)),f=S(i*o),u=e+r,c=S(S(u*u)-o-a),l=f+a,h=l-s,d=f-a,p=S(c*h),y=S(l*d),x=S(c*d),v=S(h*l);return new Q(p,y,v,x)}add(e){Xu(e);let{x:r,y:n,z:i,t:o}=this,{x:a,y:s,z:f,t:u}=e,c=S((n-r)*(s+a)),l=S((n+r)*(s-a)),h=S(l-c);if(h===Rt)return this.double();let d=S(i*tr*u),p=S(o*tr*f),y=p+d,x=l+c,v=p-d,B=S(y*h),C=S(x*v),P=S(y*v),_=S(h*x);return new Q(B,C,_,P)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(e-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(Q.BASE)&&(r=xt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ya.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Q.normalizeZ(i),ya.set(r,i)));let o=Q.ZERO,a=Q.BASE,s=1+256/n,f=2**(n-1),u=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let h=0;h<s;h++){let d=h*f,p=Number(e&u);e>>=l,p>f&&(p-=c,e+=j);let y=d,x=d+Math.abs(p)-1,v=h%2!==0,B=p<0;p===0?a=a.add(Qu(v,i[y])):o=o.add(Qu(B,i[x]))}return Q.normalizeZ([o,a])[0]}multiply(e,r){return this.wNAF(Si(e,gt.l),r)}multiplyUnsafe(e){let r=Si(e,gt.l,!1),n=Q.BASE,i=Q.ZERO;if(r===Rt)return i;if(this.equals(i)||r===j)return this;if(this.equals(n))return this.wNAF(r);let o=i,a=this;for(;r>Rt;)r&j&&(o=o.add(a)),a=a.double(),r>>=j;return o}isSmallOrder(){return this.multiplyUnsafe(gt.h).equals(Q.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(gt.l/tr).double();return gt.l%tr&&(e=e.add(this)),e.equals(Q.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(Q.ZERO);e==null&&(e=o?By:Bi(i));let a=S(r*e),s=S(n*e),f=S(i*e);if(o)return xt.ZERO;if(f!==j)throw new Error("invZ was invalid");return new xt(a,s)}fromRistrettoBytes(){ha()}toRistrettoBytes(){ha()}fromRistrettoHash(){ha()}};Q.BASE=new Q(gt.Gx,gt.Gy,j,S(gt.Gx*gt.Gy));Q.ZERO=new Q(Rt,j,j,Rt);function Qu(t,e){let r=e.negate();return t?r:e}function Xu(t){if(!(t instanceof Q))throw new TypeError("ExtendedPoint expected")}function la(t){if(!(t instanceof zt))throw new TypeError("RistrettoPoint expected")}function ha(){throw new Error("Legacy method: switch to RistrettoPoint")}var zt=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=gt,n=S(wn*e*e),i=S((n+j)*Ty),o=BigInt(-1),a=S((o-r*n)*S(n+r)),{isValid:s,value:f}=ma(i,a),u=S(f*e);je(u)||(u=S(-u)),s||(f=u),s||(o=n);let c=S(o*(n-j)*Iy-a),l=f*f,h=S((f+f)*a),d=S(c*Ay),p=S(j-l),y=S(j+l);return new Q(S(h*y),S(p*d),S(d*y),S(h*p))}static hashToCurve(e){e=er(e,64);let r=pa(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=pa(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new zt(n.add(o))}static fromHex(e){e=er(e,32);let{a:r,d:n}=gt,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=pa(e);if(!Dy(bn(o),e)||je(o))throw new Error(i);let a=S(o*o),s=S(j+r*a),f=S(j-r*a),u=S(s*s),c=S(f*f),l=S(r*n*u-c),{isValid:h,value:d}=ju(S(l*c)),p=S(d*f),y=S(d*p*l),x=S((o+o)*p);je(x)&&(x=S(-x));let v=S(s*y),B=S(x*v);if(!h||je(B)||v===Rt)throw new Error(i);return new zt(new Q(x,v,j,B))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=S(S(n+r)*S(n-r)),a=S(e*r),s=S(a*a),{value:f}=ju(S(o*s)),u=S(f*o),c=S(f*a),l=S(u*c*i),h;if(je(i*l)){let p=S(r*wn),y=S(e*wn);e=p,r=y,h=S(u*Cy)}else h=c;je(e*l)&&(r=S(-r));let d=S((n-r)*h);return je(d)&&(d=S(-d)),bn(d)}toHex(){return En(this.toRawBytes())}toString(){return this.toHex()}equals(e){la(e);let r=this.ep,n=e.ep,i=S(r.x*n.y)===S(r.y*n.x),o=S(r.y*n.y)===S(r.x*n.x);return i||o}add(e){return la(e),new zt(this.ep.add(e.ep))}subtract(e){return la(e),new zt(this.ep.subtract(e.ep))}multiply(e){return new zt(this.ep.multiply(e))}multiplyUnsafe(e){return new zt(this.ep.multiplyUnsafe(e))}};zt.BASE=new zt(Q.BASE);zt.ZERO=new zt(Q.ZERO);var ya=new WeakMap,xt=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ya.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=gt;e=er(e,32);let o=e.slice();o[31]=e[31]&-129;let a=Sn(o);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=tf)throw new Error("Expected 0 < hex < 2**256");let s=S(a*a),f=S(s-j),u=S(n*s+j),{isValid:c,value:l}=ma(f,u);if(!c)throw new Error("Point.fromHex: invalid y coordinate");let h=(l&j)===j;return(e[31]&128)!==0!==h&&(l=S(-l)),new xt(l,a)}static async fromPrivateKey(e){return(await Ai(e)).point}toRawBytes(){let e=bn(this.y);return e[31]|=this.x&j?128:0,e}toHex(){return En(this.toRawBytes())}toX25519(){let{y:e}=this,r=S((j+e)*Bi(j-e));return bn(r)}isTorsionFree(){return Q.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new xt(S(-this.x),this.y)}add(e){return Q.fromAffine(this).add(Q.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Q.fromAffine(this).multiply(e,this).toAffine()}};xt.BASE=new xt(gt.Gx,gt.Gy);xt.ZERO=new xt(Rt,j);var mr=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=er(e,64),n=xt.fromHex(r.slice(0,32),!1),i=Sn(r.slice(32,64));return new mr(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof xt))throw new Error("Expected Point instance");return Si(r,gt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(bn(this.s),32),e}toHex(){return En(this.toRawBytes())}};function Ju(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var _y=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function En(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_y[t[r]];return e}function ga(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function ef(t){let r=t.toString(16).padStart(64,"0");return ga(r)}function bn(t){return ef(t).reverse()}function je(t){return(S(t)&j)===j}function Sn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+En(Uint8Array.from(t).reverse()))}var Ry=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function pa(t){return S(Sn(t)&Ry)}function S(t,e=gt.P){let r=t%e;return r>=Rt?r:e+r}function Bi(t,e=gt.P){if(t===Rt||e<=Rt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=S(t,e),n=e,i=Rt,o=j,a=j,s=Rt;for(;r!==Rt;){let u=n/r,c=n%r,l=i-a*u,h=o-s*u;n=r,r=c,i=a,o=s,a=l,s=h}if(n!==j)throw new Error("invert: does not exist");return S(i,e)}function ky(t,e=gt.P){let r=new Array(t.length),n=t.reduce((o,a,s)=>a===Rt?o:(r[s]=o,S(o*a,e)),j),i=Bi(n,e);return t.reduceRight((o,a,s)=>a===Rt?o:(r[s]=S(o*r[s],e),S(o*a,e)),i),r}function Be(t,e){let{P:r}=gt,n=t;for(;e-- >Rt;)n*=n,n%=r;return n}function Ny(t){let{P:e}=gt,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),a=BigInt(80),f=t*t%e*t%e,u=Be(f,tr)*f%e,c=Be(u,j)*t%e,l=Be(c,r)*c%e,h=Be(l,n)*l%e,d=Be(h,i)*h%e,p=Be(d,o)*d%e,y=Be(p,a)*p%e,x=Be(y,a)*p%e,v=Be(x,n)*l%e;return{pow_p_5_8:Be(v,tr)*t%e,b2:f}}function ma(t,e){let r=S(e*e*e),n=S(r*r*e),i=Ny(t*n).pow_p_5_8,o=S(t*r*i),a=S(e*o*o),s=o,f=S(o*wn),u=a===t,c=a===S(-t),l=a===S(-t*wn);return u&&(o=s),(c||l)&&(o=f),je(o)&&(o=S(-o)),{isValid:u||c,value:o}}function ju(t){return ma(j,t)}function Ei(t){return S(Sn(t),gt.l)}function Dy(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function er(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):ga(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Si(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Rt<t)return t}else if(Rt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Uy(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Ly(t){if(t=typeof t=="bigint"||typeof t=="number"?ef(Si(t,tf)):er(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Py(t){let e=Uy(t.slice(0,32)),r=t.slice(32,64),n=Ei(e),i=xt.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var da;async function Ai(t){return Py(await rr.sha512(Ly(t)))}async function xa(t){return(await Ai(t)).pointBytes}async function rf(t,e){t=er(t);let{prefix:r,scalar:n,pointBytes:i}=await Ai(e),o=Ei(await rr.sha512(r,t)),a=xt.BASE.multiply(o),s=Ei(await rr.sha512(a.toRawBytes(),i,t)),f=S(o+s*n,gt.l);return new mr(a,f).toRawBytes()}function Fy(t,e,r){e=er(e),r instanceof xt||(r=xt.fromHex(r,!1));let{r:n,s:i}=t instanceof mr?t.assertValidity():mr.fromHex(t),o=Q.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function Ky(t,e,r,n){let i=Ei(n),o=Q.fromAffine(t).multiplyUnsafe(i);return Q.fromAffine(e).add(o).subtract(r).multiplyUnsafe(gt.h).equals(Q.ZERO)}async function nf(t,e,r){let{r:n,SB:i,msg:o,pub:a}=Fy(t,e,r),s=await rr.sha512(n.toRawBytes(),a.toRawBytes(),o);return Ky(a,n,i,s)}xt.BASE._setWindowSize(8);var Je={node:Sy,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},rr={bytesToHex:En,hexToBytes:ga,concatBytes:Ju,getExtendedPublicKey:Ai,mod:S,invert:Bi,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=er(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return S(Sn(t),gt.l-j)+j},randomBytes:(t=32)=>{if(Je.web)return Je.web.getRandomValues(new Uint8Array(t));if(Je.node){let{randomBytes:e}=Je.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>rr.randomBytes(32),sha512:async(...t)=>{let e=Ju(...t);if(Je.web){let r=await Je.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Je.node)return Uint8Array.from(Je.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=xt.BASE){let r=e.equals(xt.BASE)?e:new xt(e.x,e.y);return r._setWindowSize(t),r.multiply(tr),r},sha512Sync:void 0};Object.defineProperties(rr,{sha512Sync:{configurable:!1,get(){return da},set(t){da||(da=t)}}});var zr=32,Pe=64,Ci=32;async function of(){let t=rr.randomPrivateKey(),e=await xa(t);return{privateKey:ff(t,e),publicKey:e}}async function af(t){if(t.length!==Ci)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await xa(e);return{privateKey:ff(e,r),publicKey:r}}async function sf(t,e){let r=t.subarray(0,Ci);return await rf(e,r)}async function uf(t,e,r){return await nf(e,r,t)}function ff(t,e){let r=new Uint8Array(Pe);for(let n=0;n<Ci;n++)r[n]=t[n],r[Ci+n]=e[n];return r}var Bn=class{constructor(e){this._key=Hr(e,zr)}async verify(e,r){return await uf(this._key,r,e)}marshal(){return this._key}get bytes(){return ke.encode({Type:St.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}},xr=class{constructor(e,r){this._key=Hr(e,Pe),this._publicKey=Hr(r,zr)}async sign(e){return await sf(this._key,e)}get public(){return new Bn(this._publicKey)}marshal(){return this._key}get bytes(){return ge.encode({Type:St.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}async id(){let e=Ve.digest(this.public.bytes);return Dt.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await Vr(this.bytes,e);throw new ct(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Vy(t){if(t.length>Pe){t=Hr(t,Pe+zr);let n=t.subarray(0,Pe),i=t.subarray(Pe,t.length);return new xr(n,i)}t=Hr(t,Pe);let e=t.subarray(0,Pe),r=t.subarray(zr);return new xr(e,r)}function qy(t){return t=Hr(t,zr),new Bn(t)}async function zy(){let{privateKey:t,publicKey:e}=await of();return new xr(t,e)}async function cf(t){let{privateKey:e,publicKey:r}=await af(t);return new xr(e,r)}function Hr(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new ct(`Key must be a Uint8Array of length ${e}, got ${t.length}`,"ERR_INVALID_KEY_TYPE");return t}var ba={};Nt(ba,{Secp256k1PrivateKey:()=>Cn,Secp256k1PublicKey:()=>An,generateKeyPair:()=>Wy,unmarshalSecp256k1PrivateKey:()=>Gy,unmarshalSecp256k1PublicKey:()=>$y});function lf(){return le.randomPrivateKey()}async function hf(t,e){let{digest:r}=await Lt.digest(e);try{return await Fu(r,t)}catch(n){throw new ct(String(n),"ERR_INVALID_INPUT")}}async function pf(t,e,r){try{let{digest:n}=await Lt.digest(r);return Ku(e,n,t)}catch(n){throw new ct(String(n),"ERR_INVALID_INPUT")}}function df(t){return ot.fromHex(t).toRawBytes(!0)}function yf(t){try{sa(t,!0)}catch(e){throw new ct(String(e),"ERR_INVALID_PRIVATE_KEY")}}function wa(t){try{ot.fromHex(t)}catch(e){throw new ct(String(e),"ERR_INVALID_PUBLIC_KEY")}}function gf(t){try{return sa(t,!0)}catch(e){throw new ct(String(e),"ERR_INVALID_PRIVATE_KEY")}}var An=class{constructor(e){wa(e),this._key=e}async verify(e,r){return await pf(this._key,r,e)}marshal(){return df(this._key)}get bytes(){return ke.encode({Type:St.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}},Cn=class{constructor(e,r){this._key=e,this._publicKey=r??gf(e),yf(this._key),wa(this._publicKey)}async sign(e){return await hf(this._key,e)}get public(){return new An(this._publicKey)}marshal(){return this._key}get bytes(){return ge.encode({Type:St.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Ot(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Lt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Ft(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await Vr(this.bytes,e);throw new ct(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Gy(t){return new Cn(t)}function $y(t){return new An(t)}async function Wy(){let t=lf();return new Cn(t)}var Ti={rsa:ca,ed25519:va,secp256k1:ba};function Yy(t){let e=Object.keys(Ti).join(" / ");return new ct(`invalid or unsupported key type ${t}. Must be ${e}`,"ERR_UNSUPPORTED_KEY_TYPE")}async function mf(t){let e=ge.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case St.RSA:return await Ti.rsa.unmarshalRsaPrivateKey(r);case St.Ed25519:return Ti.ed25519.unmarshalEd25519PrivateKey(r);case St.Secp256k1:return Ti.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Yy(e.Type??"RSA")}}var Va=ut(Ea(),1);var Ae=ut(Bf(),1);Ae.default.formatters.b=t=>t==null?"undefined":Dt.baseEncode(t);Ae.default.formatters.t=t=>t==null?"undefined":Me.baseEncode(t);Ae.default.formatters.m=t=>t==null?"undefined":Er.baseEncode(t);Ae.default.formatters.p=t=>t==null?"undefined":t.toString();Ae.default.formatters.c=t=>t==null?"undefined":t.toString();Ae.default.formatters.k=t=>t==null?"undefined":t.toString();function Ri(t){return Object.assign((0,Ae.default)(t),{error:(0,Ae.default)(`${t}:error`),trace:(0,Ae.default)(`${t}:trace`)})}var qc=ut(Ea(),1);var Af="ERR_UNRECOGNIZED_VALIDITY",Cf="ERR_SIGNATURE_CREATION";var Tf="ERR_MISSING_PRIVATE_KEY";var _f=Symbol.for("@libp2p/peer-id");var f1=Symbol.for("nodejs.util.inspect.custom"),Rf=Object.values(Cr).map(t=>t.decoder).reduce((t,e)=>t.or(e),Cr.identity.decoder),kf=114,Nf=36,Df=37,Tn=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[_f](){return!0}toString(){return this.string==null&&(this.string=Dt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return vt.createV1(kf,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return Ot(this.multihash.bytes,e);if(typeof e=="string")return c1(e).equals(this);if(e?.multihash?.bytes!=null)return Ot(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[f1](){return`PeerId(${this.toString()})`}},In=class extends Tn{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},_n=class extends Tn{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},Rn=class extends Tn{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function c1(t,e){if(e=e??Rf,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=or(Dt.decode(`z${t}`));return t.startsWith("12D")?new _n({multihash:r}):t.startsWith("16U")?new Rn({multihash:r}):new In({multihash:r})}return Sa(Rf.decode(t))}function Sa(t){try{let e=or(t);if(e.code===Ve.code){if(e.digest.length===Nf)return new _n({multihash:e});if(e.digest.length===Df)return new Rn({multihash:e})}if(e.code===Lt.code)return new In({multihash:e})}catch{return l1(vt.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function l1(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==kf)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===Lt.code)return new In({multihash:t.multihash});if(e.code===Ve.code){if(e.digest.length===Nf)return new _n({multihash:t.multihash});if(e.digest.length===Df)return new Rn({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}var Ba=ut(zn(),1),Uf=ut(mo(),1),Aa=ut(Gn(),1),Lf=ut(Bo(),1),Pf=ut(ze(),1);function h1(){Pf.default._configure(),Ba.default._configure(Uf.default),Aa.default._configure(Lf.default)}h1();var Ff=["uint64","int64","sint64","fixed64","sfixed64"];function p1(t){for(let e of Ff){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function Ca(t){return p1(new Ba.default(t))}function d1(t){for(let e of Ff){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function Ta(){return d1(Aa.default.create())}function Ia(t,e){let r=Ca(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function _a(t,e){let r=Ta();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var Zr;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Zr||(Zr={}));function ki(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function Ra(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,a){let s=e(o);a.int32(s)},n=function(o){let a=o.int32();return e(a)};return ki("enum",Zr.VARINT,r,n)}function ka(t,e){return ki("message",Zr.LENGTH_DELIMITED,t,e)}var Ce;(function(t){let e;(function(i){i.EOL="EOL"})(e=t.ValidityType||(t.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>Ra(r)}(e=t.ValidityType||(t.ValidityType={}));let n;t.codec=()=>(n==null&&(n=ka((i,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signature!=null&&(o.uint32(18),o.bytes(i.signature)),i.validityType!=null&&(o.uint32(24),t.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),a.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let a={},s=o==null?i.len:i.pos+o;for(;i.pos<s;){let f=i.uint32();switch(f>>>3){case 1:a.value=i.bytes();break;case 2:a.signature=i.bytes();break;case 3:a.validityType=t.ValidityType.codec().decode(i);break;case 4:a.validity=i.bytes();break;case 5:a.sequence=i.uint64();break;case 6:a.ttl=i.uint64();break;case 7:a.pubKey=i.bytes();break;case 8:a.signatureV2=i.bytes();break;case 9:a.data=i.bytes();break;default:i.skipType(f&7);break}}return a})),n),t.encode=i=>_a(i,t.codec()),t.decode=i=>Ia(i,t.codec())})(Ce||(Ce={}));var y1=["string","number","bigint","symbol"],g1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Kf(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(y1.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(m1(t))return"Buffer";let r=x1(t);return r||"Object"}function m1(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function x1(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(g1.includes(e))return e}var b=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};b.uint=new b(0,"uint",!0);b.negint=new b(1,"negint",!0);b.bytes=new b(2,"bytes",!0);b.string=new b(3,"string",!0);b.array=new b(4,"array",!1);b.map=new b(5,"map",!1);b.tag=new b(6,"tag",!1);b.float=new b(7,"float",!0);b.false=new b(7,"false",!0);b.true=new b(7,"true",!0);b.null=new b(7,"null",!0);b.undefined=new b(7,"undefined",!0);b.break=new b(7,"break",!0);var U=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Yr=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",v1=new TextDecoder,w1=new TextEncoder;function Ni(t){return Yr&&globalThis.Buffer.isBuffer(t)}function Na(t){return t instanceof Uint8Array?Ni(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var qf=Yr?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Of(t,e,r):(t,e,r)=>r-e>64?v1.decode(t.subarray(e,r)):Of(t,e,r),zf=Yr?t=>t.length>64?globalThis.Buffer.from(t):Mf(t):t=>t.length>64?w1.encode(t):Mf(t),Te=t=>Uint8Array.from(t),Qr=Yr?(t,e,r)=>Ni(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Hf=Yr?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Na(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},Gf=Yr?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function $f(t,e){if(Ni(t)&&Ni(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function Mf(t,e=1/0){let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Of(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,a=i>239?4:i>223?3:i>191?2:1;if(e+a<=r){let s,f,u,c;switch(a){case 1:i<128&&(o=i);break;case 2:s=t[e+1],(s&192)===128&&(c=(i&31)<<6|s&63,c>127&&(o=c));break;case 3:s=t[e+1],f=t[e+2],(s&192)===128&&(f&192)===128&&(c=(i&15)<<12|(s&63)<<6|f&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[e+1],f=t[e+2],u=t[e+3],(s&192)===128&&(f&192)===128&&(u&192)===128&&(c=(i&15)<<18|(s&63)<<12|(f&63)<<6|u&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=a}return b1(n)}var Vf=4096;function b1(t){let e=t.length;if(e<=Vf)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Vf));return r}var E1=256,kn=class{constructor(e=E1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=Gf(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Qr(n,0,this.cursor)}else r=Hf(this.chunks,this.cursor);return e&&this.reset(),r}};var nt="CBOR decode error:",Da="CBOR encode error:",Nn=[];Nn[23]=1;Nn[24]=2;Nn[25]=3;Nn[26]=5;Nn[27]=9;function Fe(t,e,r){if(t.length-e<r)throw new Error(`${nt} not enough data for type`)}var kt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Zt(t,e,r){Fe(t,e,1);let n=t[e];if(r.strict===!0&&n<kt[0])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Yt(t,e,r){Fe(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<kt[1])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Qt(t,e,r){Fe(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<kt[2])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Xt(t,e,r){Fe(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<kt[3])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${nt} integers outside of the safe integer range are not supported`)}function Wf(t,e,r,n){return new U(b.uint,Zt(t,e+1,n),2)}function Zf(t,e,r,n){return new U(b.uint,Yt(t,e+1,n),3)}function Yf(t,e,r,n){return new U(b.uint,Qt(t,e+1,n),5)}function Qf(t,e,r,n){return new U(b.uint,Xt(t,e+1,n),9)}function re(t,e){return Ut(t,0,e.value)}function Ut(t,e,r){if(r<kt[0]){let n=Number(r);t.push([e|n])}else if(r<kt[1]){let n=Number(r);t.push([e|24,n])}else if(r<kt[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<kt[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<kt[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,t.push(i)}else throw new Error(`${nt} encountered BigInt larger than allowable range`)}}re.encodedSize=function(e){return Ut.encodedSize(e.value)};Ut.encodedSize=function(e){return e<kt[0]?1:e<kt[1]?2:e<kt[2]?3:e<kt[3]?5:9};re.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function Xf(t,e,r,n){return new U(b.negint,-1-Zt(t,e+1,n),2)}function Jf(t,e,r,n){return new U(b.negint,-1-Yt(t,e+1,n),3)}function jf(t,e,r,n){return new U(b.negint,-1-Qt(t,e+1,n),5)}var Ua=BigInt(-1),tc=BigInt(1);function ec(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new U(b.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${nt} integers outside of the safe integer range are not supported`);return new U(b.negint,Ua-BigInt(i),9)}function Di(t,e){let r=e.value,n=typeof r=="bigint"?r*Ua-tc:r*-1-1;Ut(t,e.type.majorEncoded,n)}Di.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*Ua-tc:r*-1-1;return n<kt[0]?1:n<kt[1]?2:n<kt[2]?3:n<kt[3]?5:9};Di.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function Dn(t,e,r,n){Fe(t,e,r+n);let i=Qr(t,e+r,e+r+n);return new U(b.bytes,i,r+n)}function rc(t,e,r,n){return Dn(t,e,1,r)}function nc(t,e,r,n){return Dn(t,e,2,Zt(t,e+1,n))}function ic(t,e,r,n){return Dn(t,e,3,Yt(t,e+1,n))}function oc(t,e,r,n){return Dn(t,e,5,Qt(t,e+1,n))}function ac(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer bytes lengths not supported`);return Dn(t,e,9,i)}function Ui(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===b.string?zf(t.value):t.value),t.encodedBytes}function Xr(t,e){let r=Ui(e);Ut(t,e.type.majorEncoded,r.length),t.push(r)}Xr.encodedSize=function(e){let r=Ui(e);return Ut.encodedSize(r.length)+r.length};Xr.compareTokens=function(e,r){return B1(Ui(e),Ui(r))};function B1(t,e){return t.length<e.length?-1:t.length>e.length?1:$f(t,e)}function Un(t,e,r,n,i){let o=r+n;Fe(t,e,o);let a=new U(b.string,qf(t,e+r,e+o),o);return i.retainStringBytes===!0&&(a.byteValue=Qr(t,e+r,e+o)),a}function sc(t,e,r,n){return Un(t,e,1,r,n)}function uc(t,e,r,n){return Un(t,e,2,Zt(t,e+1,n),n)}function fc(t,e,r,n){return Un(t,e,3,Yt(t,e+1,n),n)}function cc(t,e,r,n){return Un(t,e,5,Qt(t,e+1,n),n)}function lc(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer string lengths not supported`);return Un(t,e,9,i,n)}var hc=Xr;function Jr(t,e,r,n){return new U(b.array,n,r)}function pc(t,e,r,n){return Jr(t,e,1,r)}function dc(t,e,r,n){return Jr(t,e,2,Zt(t,e+1,n))}function yc(t,e,r,n){return Jr(t,e,3,Yt(t,e+1,n))}function gc(t,e,r,n){return Jr(t,e,5,Qt(t,e+1,n))}function mc(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer array lengths not supported`);return Jr(t,e,9,i)}function xc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return Jr(t,e,1,1/0)}function Li(t,e){Ut(t,b.array.majorEncoded,e.value)}Li.compareTokens=re.compareTokens;Li.encodedSize=function(e){return Ut.encodedSize(e.value)};function jr(t,e,r,n){return new U(b.map,n,r)}function vc(t,e,r,n){return jr(t,e,1,r)}function wc(t,e,r,n){return jr(t,e,2,Zt(t,e+1,n))}function bc(t,e,r,n){return jr(t,e,3,Yt(t,e+1,n))}function Ec(t,e,r,n){return jr(t,e,5,Qt(t,e+1,n))}function Sc(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer map lengths not supported`);return jr(t,e,9,i)}function Bc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return jr(t,e,1,1/0)}function Pi(t,e){Ut(t,b.map.majorEncoded,e.value)}Pi.compareTokens=re.compareTokens;Pi.encodedSize=function(e){return Ut.encodedSize(e.value)};function Ac(t,e,r,n){return new U(b.tag,r,1)}function Cc(t,e,r,n){return new U(b.tag,Zt(t,e+1,n),2)}function Tc(t,e,r,n){return new U(b.tag,Yt(t,e+1,n),3)}function Ic(t,e,r,n){return new U(b.tag,Qt(t,e+1,n),5)}function _c(t,e,r,n){return new U(b.tag,Xt(t,e+1,n),9)}function Fi(t,e){Ut(t,b.tag.majorEncoded,e.value)}Fi.compareTokens=re.compareTokens;Fi.encodedSize=function(e){return Ut.encodedSize(e.value)};var R1=20,k1=21,N1=22,D1=23;function Rc(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${nt} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new U(b.null,null,1):new U(b.undefined,void 0,1)}function kc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return new U(b.break,void 0,1)}function La(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${nt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${nt} Infinity values are not supported`)}return new U(b.float,t,e)}function Nc(t,e,r,n){return La(Pa(t,e+1),3,n)}function Dc(t,e,r,n){return La(Fa(t,e+1),5,n)}function Uc(t,e,r,n){return La(Kc(t,e+1),9,n)}function Ki(t,e,r){let n=e.value;if(n===!1)t.push([b.float.majorEncoded|R1]);else if(n===!0)t.push([b.float.majorEncoded|k1]);else if(n===null)t.push([b.float.majorEncoded|N1]);else if(n===void 0)t.push([b.float.majorEncoded|D1]);else{let i,o=!1;(!r||r.float64!==!0)&&(Pc(n),i=Pa(he,1),n===i||Number.isNaN(n)?(he[0]=249,t.push(he.slice(0,3)),o=!0):(Fc(n),i=Fa(he,1),n===i&&(he[0]=250,t.push(he.slice(0,5)),o=!0))),o||(U1(n),i=Kc(he,1),he[0]=251,t.push(he.slice(0,9)))}}Ki.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){Pc(n);let i=Pa(he,1);if(n===i||Number.isNaN(n))return 3;if(Fc(n),i=Fa(he,1),n===i)return 5}return 9};var Lc=new ArrayBuffer(9),ne=new DataView(Lc,1),he=new Uint8Array(Lc,0);function Pc(t){if(t===1/0)ne.setUint16(0,31744,!1);else if(t===-1/0)ne.setUint16(0,64512,!1);else if(Number.isNaN(t))ne.setUint16(0,32256,!1);else{ne.setFloat32(0,t);let e=ne.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)ne.setUint16(0,31744,!1);else if(r===0)ne.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?ne.setUint16(0,0):i<-14?ne.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):ne.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Pa(t,e){if(t.length-e<2)throw new Error(`${nt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function Fc(t){ne.setFloat32(0,t,!1)}function Fa(t,e){if(t.length-e<4)throw new Error(`${nt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function U1(t){ne.setFloat64(0,t,!1)}function Kc(t,e){if(t.length-e<8)throw new Error(`${nt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Ki.compareTokens=re.compareTokens;function it(t,e,r){throw new Error(`${nt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Mi(t){return()=>{throw new Error(`${nt} ${t}`)}}var R=[];for(let t=0;t<=23;t++)R[t]=it;R[24]=Wf;R[25]=Zf;R[26]=Yf;R[27]=Qf;R[28]=it;R[29]=it;R[30]=it;R[31]=it;for(let t=32;t<=55;t++)R[t]=it;R[56]=Xf;R[57]=Jf;R[58]=jf;R[59]=ec;R[60]=it;R[61]=it;R[62]=it;R[63]=it;for(let t=64;t<=87;t++)R[t]=rc;R[88]=nc;R[89]=ic;R[90]=oc;R[91]=ac;R[92]=it;R[93]=it;R[94]=it;R[95]=Mi("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)R[t]=sc;R[120]=uc;R[121]=fc;R[122]=cc;R[123]=lc;R[124]=it;R[125]=it;R[126]=it;R[127]=Mi("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)R[t]=pc;R[152]=dc;R[153]=yc;R[154]=gc;R[155]=mc;R[156]=it;R[157]=it;R[158]=it;R[159]=xc;for(let t=160;t<=183;t++)R[t]=vc;R[184]=wc;R[185]=bc;R[186]=Ec;R[187]=Sc;R[188]=it;R[189]=it;R[190]=it;R[191]=Bc;for(let t=192;t<=215;t++)R[t]=Ac;R[216]=Cc;R[217]=Tc;R[218]=Ic;R[219]=_c;R[220]=it;R[221]=it;R[222]=it;R[223]=it;for(let t=224;t<=243;t++)R[t]=Mi("simple values are not supported");R[244]=it;R[245]=it;R[246]=it;R[247]=Rc;R[248]=Mi("simple values are not supported");R[249]=Nc;R[250]=Dc;R[251]=Uc;R[252]=it;R[253]=it;R[254]=it;R[255]=kc;var Ie=[];for(let t=0;t<24;t++)Ie[t]=new U(b.uint,t,1);for(let t=-1;t>=-24;t--)Ie[31-t]=new U(b.negint,t,1);Ie[64]=new U(b.bytes,new Uint8Array(0),1);Ie[96]=new U(b.string,"",1);Ie[128]=new U(b.array,0,1);Ie[160]=new U(b.map,0,1);Ie[244]=new U(b.false,!1,1);Ie[245]=new U(b.true,!0,1);Ie[246]=new U(b.null,null,1);function Mc(t){switch(t.type){case b.false:return Te([244]);case b.true:return Te([245]);case b.null:return Te([246]);case b.bytes:return t.value.length?void 0:Te([64]);case b.string:return t.value===""?Te([96]):void 0;case b.array:return t.value===0?Te([128]):void 0;case b.map:return t.value===0?Te([160]):void 0;case b.uint:return t.value<24?Te([Number(t.value)]):void 0;case b.negint:if(t.value>=-24)return Te([31-Number(t.value)])}}var P1={float64:!1,mapSorter:M1,quickEncodeToken:Mc};function F1(){let t=[];return t[b.uint.major]=re,t[b.negint.major]=Di,t[b.bytes.major]=Xr,t[b.string.major]=hc,t[b.array.major]=Li,t[b.map.major]=Pi,t[b.tag.major]=Fi,t[b.float.major]=Ki,t}var Oc=F1(),Ka=new kn,tn=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Da} object contains circular references`);return new tn(r,e)}},nr={null:new U(b.null,null),undefined:new U(b.undefined,void 0),true:new U(b.true,!0),false:new U(b.false,!1),emptyArray:new U(b.array,0),emptyMap:new U(b.map,0)},ir={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new U(b.float,t):t>=0?new U(b.uint,t):new U(b.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new U(b.uint,t):new U(b.negint,t)},Uint8Array(t,e,r,n){return new U(b.bytes,t)},string(t,e,r,n){return new U(b.string,t)},boolean(t,e,r,n){return t?nr.true:nr.false},null(t,e,r,n){return nr.null},undefined(t,e,r,n){return nr.undefined},ArrayBuffer(t,e,r,n){return new U(b.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new U(b.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[nr.emptyArray,new U(b.break)]:nr.emptyArray;n=tn.createCheck(n,t);let i=[],o=0;for(let a of t)i[o++]=Oi(a,r,n);return r.addBreakTokens?[new U(b.array,t.length),i,new U(b.break)]:[new U(b.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),a=i?t.size:o.length;if(!a)return r.addBreakTokens===!0?[nr.emptyMap,new U(b.break)]:nr.emptyMap;n=tn.createCheck(n,t);let s=[],f=0;for(let u of o)s[f++]=[Oi(u,r,n),Oi(i?t.get(u):t[u],r,n)];return K1(s,r),r.addBreakTokens?[new U(b.map,a),s,new U(b.break)]:[new U(b.map,a),s]}};ir.Map=ir.Object;ir.Buffer=ir.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ir[`${t}Array`]=ir.DataView;function Oi(t,e={},r){let n=Kf(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||ir[n];if(typeof i=="function"){let a=i(t,n,e,r);if(a!=null)return a}let o=ir[n];if(!o)throw new Error(`${Da} unsupported type: ${n}`);return o(t,n,e,r)}function K1(t,e){e.mapSorter&&t.sort(e.mapSorter)}function M1(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=Oc[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function Vc(t,e,r,n){if(Array.isArray(e))for(let i of e)Vc(t,i,r,n);else r[e.type.major](t,e,n)}function O1(t,e,r){let n=Oi(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let a=o.encodedSize(n,r),s=new kn(a);if(o(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Na(s.chunks[0])}}return Ka.reset(),Vc(Ka,n,e,r),Ka.toBytes(!0)}function Ma(t,e){return e=Object.assign({},P1,e),O1(t,Oc,e)}var aw=Symbol.for("DONE"),sw=Symbol.for("BREAK");var Ew=Ri("ipns:utils"),zc=Bt("/ipns/");var Hc=(t,e,r)=>{let n=Bt(e);return ue([t,r,n])},Gc=t=>{let e=Bt("ipns-signature:");return ue([e,t])},$c=t=>Ce.encode(t),Wc=t=>{let e=Ce.decode(t);return e.sequence!=null&&(e.sequence=BigInt(e.sequence)),e.ttl!=null&&(e.ttl=BigInt(e.ttl)),{value:e.value??new Uint8Array(0),signature:e.signature??new Uint8Array(0),validityType:e.validityType??Ce.ValidityType.EOL,validity:e.validity??new Uint8Array(0),sequence:e.sequence??0n,pubKey:e.pubKey,ttl:e.ttl??void 0,signatureV2:e.signatureV2,data:e.data}},Zc=t=>ue([zc,t.toBytes()]),Yc=t=>Sa(t.slice(zc.length)),Qc=(t,e,r,n,i)=>{let o;if(r===Ce.ValidityType.EOL)o=0;else throw(0,qc.default)(new Error("Unknown validity type"),Af);return Ma({Value:t,Validity:e,ValidityType:o,Sequence:n,TTL:i})};var Xc=Ri("ipns"),z1=Ve.code,Jc="/ipns/",H1=Jc.length,G1=async(t,e,r,n)=>{let i=new Oa.default(Date.now()+Number(n)),o=Ce.ValidityType.EOL,[a,s]=n.toString().split("."),f=BigInt(a)*BigInt(1e5)+BigInt(s??"0");return await jc(t,e,r,o,i,f)},$1=async(t,e,r,n)=>{let i=Oa.default.fromString(n),o=Ce.ValidityType.EOL,a=i.toDate().getTime()-Date.now(),s=BigInt(a)*BigInt(1e5)+BigInt(i.getNano());return await jc(t,e,r,o,i,s)},jc=async(t,e,r,n,i,o)=>{r=BigInt(r);let a=Bt(i.toString());if(t.privateKey==null)throw(0,Va.default)(new Error("Missing private key"),Tf);let s=await mf(t.privateKey),f=await Y1(s,e,n,a),u=Qc(e,a,n,r,o),c=Gc(u),l=await s.sign(c),h={value:e,signature:f,validityType:n,validity:a,sequence:r,ttl:o,signatureV2:l,data:u};if(t.publicKey!=null){let d=or(t.toBytes());(d.code!==z1||!Ot(t.publicKey,d.digest))&&(h.pubKey=t.publicKey)}return Xc("ipns entry for %b created",e),h},W1=t=>ji.encode(t).slice(1),Z1=t=>new Pt(`/ipns/${W1(t)}`),Y1=async(t,e,r,n)=>{try{let i=Hc(e,r,n);return await t.sign(i)}catch(i){throw Xc.error("record signature creation failed",i),(0,Va.default)(new Error("record signature creation failed"),Cf)}};return ol(Q1);})();
/*! Bundled license information:

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Ipns}));

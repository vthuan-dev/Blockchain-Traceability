(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PPeerRecord = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PPeerRecord=(()=>{var Bc=Object.create;var Pr=Object.defineProperty;var Ac=Object.getOwnPropertyDescriptor;var Cc=Object.getOwnPropertyNames;var Ic=Object.getPrototypeOf,Tc=Object.prototype.hasOwnProperty;var _c=(e,t,r)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var U=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Bt=(e,t)=>{for(var r in t)Pr(e,r,{get:t[r],enumerable:!0})},co=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cc(t))!Tc.call(e,i)&&i!==r&&Pr(e,i,{get:()=>t[i],enumerable:!(n=Ac(t,i))||n.enumerable});return e};var ct=(e,t,r)=>(r=e!=null?Bc(Ic(e)):{},co(t||!e||!e.__esModule?Pr(r,"default",{value:e,enumerable:!0}):r,e)),Rc=e=>co(Pr({},"__esModule",{value:!0}),e);var ue=(e,t,r)=>(_c(e,typeof t!="symbol"?t+"":t,r),r);var X=U((xy,uo)=>{uo.exports={options:{usePureJavaScript:!1}}});var po=U((vy,lo)=>{var pi={};lo.exports=pi;var ho={};pi.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=kc(e,t);else{var i=0,s=t.length,o=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var f=0,c=e[i];f<a.length;++f)c+=a[f]<<8,a[f]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=t[a[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};pi.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=ho[t];if(!r){r=ho[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),o=[0],n=0;n<e.length;n++){var a=r[e.charCodeAt(n)];if(a===void 0)return;for(var f=0,c=a;f<o.length;++f)c+=o[f]*i,o[f]=c&255,c>>=8;for(;c>0;)o.push(c&255),c>>=8}for(var u=0;e[u]===s&&u<e.length-1;++u)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function kc(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var o=0,a=e.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var f="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)f+=i;for(r=s.length-1;r>=0;--r)f+=t[s[r]];return f}});var dt=U((by,xo)=>{var yo=X(),go=po(),y=xo.exports=yo.util=yo.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){y.nextTick=process.nextTick,typeof setImmediate=="function"?y.setImmediate=setImmediate:y.setImmediate=y.nextTick;return}if(typeof setImmediate=="function"){y.setImmediate=function(){return setImmediate.apply(void 0,arguments)},y.nextTick=function(a){return setImmediate(a)};return}if(y.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(f){if(f.source===window&&f.data===e){f.stopPropagation();var c=t.slice();t.length=0,c.forEach(function(u){u()})}};var o=a,e="forge.setImmediate",t=[];y.setImmediate=function(f){t.push(f),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var f=t.slice();t.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var s=y.setImmediate;y.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),s(f)):(t.push(f),t.length===1&&i.setAttribute("a",n=!n))}}y.nextTick=y.setImmediate})();y.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;y.globalScope=function(){return y.isNodejs?globalThis:typeof self>"u"?window:self}();y.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};y.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};y.isArrayBufferView=function(e){return e&&y.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Ur(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}y.ByteBuffer=di;function di(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(y.isArrayBuffer(e)||y.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof di||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}y.ByteStringBuffer=di;var Nc=4096;y.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Nc&&(this.data.substr(0,1),this._constructedStringLength=0)};y.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};y.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};y.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};y.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};y.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};y.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(y.encodeUtf8(e))};y.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};y.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};y.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};y.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};y.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};y.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};y.ByteStringBuffer.prototype.putInt=function(e,t){Ur(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};y.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};y.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};y.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};y.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};y.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};y.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};y.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};y.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};y.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};y.ByteStringBuffer.prototype.getInt=function(e){Ur(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};y.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};y.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};y.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};y.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};y.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};y.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};y.ByteStringBuffer.prototype.copy=function(){var e=y.createBuffer(this.data);return e.read=this.read,e};y.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};y.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};y.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};y.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};y.ByteStringBuffer.prototype.toString=function(){return y.decodeUtf8(this.bytes())};function Dc(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=y.isArrayBuffer(e),n=y.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}y.DataBuffer=Dc;y.DataBuffer.prototype.length=function(){return this.write-this.read};y.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};y.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};y.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};y.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};y.DataBuffer.prototype.putBytes=function(e,t){if(y.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(y.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof y.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&y.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof y.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=y.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=y.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};y.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};y.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};y.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};y.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};y.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};y.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};y.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};y.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};y.DataBuffer.prototype.putInt=function(e,t){Ur(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};y.DataBuffer.prototype.putSignedInt=function(e,t){return Ur(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};y.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};y.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};y.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};y.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};y.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};y.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};y.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};y.DataBuffer.prototype.getInt=function(e){Ur(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};y.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};y.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};y.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};y.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};y.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};y.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};y.DataBuffer.prototype.copy=function(){return new y.DataBuffer(this)};y.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};y.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};y.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};y.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};y.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return y.binary.raw.encode(t);if(e==="hex")return y.binary.hex.encode(t);if(e==="base64")return y.binary.base64.encode(t);if(e==="utf8")return y.text.utf8.decode(t);if(e==="utf16")return y.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};y.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=y.encodeUtf8(e)),new y.ByteBuffer(e)};y.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};y.xorBytes=function(e,t,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};y.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};y.bytesToHex=function(e){return y.createBuffer(e).toHex()};y.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ae=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],mo="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";y.encode64=function(e,t){for(var r="",n="",i,s,o,a=0;a<e.length;)i=e.charCodeAt(a++),s=e.charCodeAt(a++),o=e.charCodeAt(a++),r+=Be.charAt(i>>2),r+=Be.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Be.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Be.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};y.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,o=0;o<e.length;)r=Ae[e.charCodeAt(o++)-43],n=Ae[e.charCodeAt(o++)-43],i=Ae[e.charCodeAt(o++)-43],s=Ae[e.charCodeAt(o++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};y.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};y.decodeUtf8=function(e){return decodeURIComponent(escape(e))};y.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:go.encode,decode:go.decode}};y.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};y.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};y.binary.hex.encode=y.bytesToHex;y.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};y.binary.base64.encode=function(e,t){for(var r="",n="",i,s,o,a=0;a<e.byteLength;)i=e[a++],s=e[a++],o=e[a++],r+=Be.charAt(i>>2),r+=Be.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Be.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":Be.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};y.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,f=0,c=r;f<e.length;)i=Ae[e.charCodeAt(f++)-43],s=Ae[e.charCodeAt(f++)-43],o=Ae[e.charCodeAt(f++)-43],a=Ae[e.charCodeAt(f++)-43],n[c++]=i<<2|s>>4,o!==64&&(n[c++]=(s&15)<<4|o>>2,a!==64&&(n[c++]=(o&3)<<6|a));return t?c-r:n.subarray(0,c)};y.binary.base58.encode=function(e,t){return y.binary.baseN.encode(e,mo,t)};y.binary.base58.decode=function(e,t){return y.binary.baseN.decode(e,mo,t)};y.text={utf8:{},utf16:{}};y.text.utf8.encode=function(e,t,r){e=y.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};y.text.utf8.decode=function(e){return y.decodeUtf8(String.fromCharCode.apply(null,e))};y.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<e.length;++a)i[o++]=e.charCodeAt(a),s+=2;return t?s-r:n};y.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};y.deflate=function(e,t,r){if(t=y.decode64(e.deflate(y.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};y.inflate=function(e,t,r){var n=e.inflate(y.encode64(t)).rval;return n===null?null:y.decode64(n)};var yi=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=y.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},gi=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(y.decode64(r))),r},Lc=function(e,t,r,n){var i=gi(e,t);i===null&&(i={}),i[r]=n,yi(e,t,i)},Pc=function(e,t,r){var n=gi(e,t);return n!==null&&(n=r in n?n[r]:null),n},Uc=function(e,t,r){var n=gi(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),yi(e,t,n)}},Kc=function(e,t){yi(e,t,null)},yn=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(f){o=f}if(s)break}if(!s)throw o;return n};y.setItem=function(e,t,r,n,i){yn(Lc,arguments,i)};y.getItem=function(e,t,r,n){return yn(Pc,arguments,n)};y.removeItem=function(e,t,r,n){yn(Uc,arguments,n)};y.clearItems=function(e,t,r){yn(Kc,arguments,r)};y.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};y.format=function(e){for(var t=/%./g,r,n,i=0,s=[],o=0;r=t.exec(e);){n=e.substring(o,t.lastIndex-2),n.length>0&&s.push(n),o=t.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(e.substring(o)),s.join("")};y.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,o=r===void 0?",":r,a=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+a:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-c).toFixed(s).slice(2):"")};y.formatSize=function(e){return e>=1073741824?e=y.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=y.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=y.formatNumber(e/1024,0)+" KiB":e=y.formatNumber(e,0)+" bytes",e};y.bytesFromIP=function(e){return e.indexOf(".")!==-1?y.bytesFromIPv4(e):e.indexOf(":")!==-1?y.bytesFromIPv6(e):null};y.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=y.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};y.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(o){return o.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=y.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=y.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};y.bytesToIP=function(e){return e.length===4?y.bytesToIPv4(e):e.length===16?y.bytesToIPv6(e):null};y.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};y.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=y.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=t.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var f=r[n];f.end-f.start>0&&(t.splice(f.start,f.end-f.start+1,""),f.start===0&&t.unshift(""),f.end===7&&t.push(""))}return t.join(":")};y.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in y&&!e.update)return t(null,y.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return y.cores=navigator.hardwareConcurrency,t(null,y.cores);if(typeof Worker>"u")return y.cores=1,t(null,y.cores);if(typeof Blob>"u")return y.cores=2,t(null,y.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),f=a+4;Date.now()<f;);self.postMessage({st:a,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,f){if(a===0){var c=Math.floor(o.reduce(function(u,h){return u+h},0)/o.length);return y.cores=Math.max(1,c),URL.revokeObjectURL(r),t(null,y.cores)}i(f,function(u,h){o.push(s(f,h)),n(o,a-1,f)})}function i(o,a){for(var f=[],c=[],u=0;u<o;++u){var h=new Worker(r);h.addEventListener("message",function(l){if(c.push(l.data),c.length===o){for(var d=0;d<o;++d)f[d].terminate();a(null,c)}}),f.push(h)}for(var u=0;u<o;++u)f[u].postMessage(u)}function s(o,a){for(var f=[],c=0;c<o;++c)for(var u=a[c],h=f[c]=[],l=0;l<o;++l)if(c!==l){var d=a[l];(u.st>d.st&&u.st<d.et||d.st>u.st&&d.st<u.et)&&h.push(l)}return f.reduce(function(p,g){return Math.max(p,g.length)},0)}}});var gn=U((wy,vo)=>{var Kr=X();Kr.pki=Kr.pki||{};var mi=vo.exports=Kr.pki.oids=Kr.oids=Kr.oids||{};function E(e,t){mi[e]=t,mi[t]=e}function Q(e,t){mi[e]=t}E("1.2.840.113549.1.1.1","rsaEncryption");E("1.2.840.113549.1.1.4","md5WithRSAEncryption");E("1.2.840.113549.1.1.5","sha1WithRSAEncryption");E("1.2.840.113549.1.1.7","RSAES-OAEP");E("1.2.840.113549.1.1.8","mgf1");E("1.2.840.113549.1.1.9","pSpecified");E("1.2.840.113549.1.1.10","RSASSA-PSS");E("1.2.840.113549.1.1.11","sha256WithRSAEncryption");E("1.2.840.113549.1.1.12","sha384WithRSAEncryption");E("1.2.840.113549.1.1.13","sha512WithRSAEncryption");E("1.3.101.112","EdDSA25519");E("1.2.840.10040.4.3","dsa-with-sha1");E("1.3.14.3.2.7","desCBC");E("1.3.14.3.2.26","sha1");E("1.3.14.3.2.29","sha1WithRSASignature");E("2.16.840.1.101.3.4.2.1","sha256");E("2.16.840.1.101.3.4.2.2","sha384");E("2.16.840.1.101.3.4.2.3","sha512");E("2.16.840.1.101.3.4.2.4","sha224");E("2.16.840.1.101.3.4.2.5","sha512-224");E("2.16.840.1.101.3.4.2.6","sha512-256");E("1.2.840.113549.2.2","md2");E("1.2.840.113549.2.5","md5");E("1.2.840.113549.1.7.1","data");E("1.2.840.113549.1.7.2","signedData");E("1.2.840.113549.1.7.3","envelopedData");E("1.2.840.113549.1.7.4","signedAndEnvelopedData");E("1.2.840.113549.1.7.5","digestedData");E("1.2.840.113549.1.7.6","encryptedData");E("1.2.840.113549.1.9.1","emailAddress");E("1.2.840.113549.1.9.2","unstructuredName");E("1.2.840.113549.1.9.3","contentType");E("1.2.840.113549.1.9.4","messageDigest");E("1.2.840.113549.1.9.5","signingTime");E("1.2.840.113549.1.9.6","counterSignature");E("1.2.840.113549.1.9.7","challengePassword");E("1.2.840.113549.1.9.8","unstructuredAddress");E("1.2.840.113549.1.9.14","extensionRequest");E("1.2.840.113549.1.9.20","friendlyName");E("1.2.840.113549.1.9.21","localKeyId");E("1.2.840.113549.1.9.22.1","x509Certificate");E("1.2.840.113549.1.12.10.1.1","keyBag");E("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");E("1.2.840.113549.1.12.10.1.3","certBag");E("1.2.840.113549.1.12.10.1.4","crlBag");E("1.2.840.113549.1.12.10.1.5","secretBag");E("1.2.840.113549.1.12.10.1.6","safeContentsBag");E("1.2.840.113549.1.5.13","pkcs5PBES2");E("1.2.840.113549.1.5.12","pkcs5PBKDF2");E("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");E("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");E("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");E("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");E("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");E("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");E("1.2.840.113549.2.7","hmacWithSHA1");E("1.2.840.113549.2.8","hmacWithSHA224");E("1.2.840.113549.2.9","hmacWithSHA256");E("1.2.840.113549.2.10","hmacWithSHA384");E("1.2.840.113549.2.11","hmacWithSHA512");E("1.2.840.113549.3.7","des-EDE3-CBC");E("2.16.840.1.101.3.4.1.2","aes128-CBC");E("2.16.840.1.101.3.4.1.22","aes192-CBC");E("2.16.840.1.101.3.4.1.42","aes256-CBC");E("2.5.4.3","commonName");E("2.5.4.4","surname");E("2.5.4.5","serialNumber");E("2.5.4.6","countryName");E("2.5.4.7","localityName");E("2.5.4.8","stateOrProvinceName");E("2.5.4.9","streetAddress");E("2.5.4.10","organizationName");E("2.5.4.11","organizationalUnitName");E("2.5.4.12","title");E("2.5.4.13","description");E("2.5.4.15","businessCategory");E("2.5.4.17","postalCode");E("2.5.4.42","givenName");E("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");E("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");E("2.16.840.1.113730.1.1","nsCertType");E("2.16.840.1.113730.1.13","nsComment");Q("2.5.29.1","authorityKeyIdentifier");Q("2.5.29.2","keyAttributes");Q("2.5.29.3","certificatePolicies");Q("2.5.29.4","keyUsageRestriction");Q("2.5.29.5","policyMapping");Q("2.5.29.6","subtreesConstraint");Q("2.5.29.7","subjectAltName");Q("2.5.29.8","issuerAltName");Q("2.5.29.9","subjectDirectoryAttributes");Q("2.5.29.10","basicConstraints");Q("2.5.29.11","nameConstraints");Q("2.5.29.12","policyConstraints");Q("2.5.29.13","basicConstraints");E("2.5.29.14","subjectKeyIdentifier");E("2.5.29.15","keyUsage");Q("2.5.29.16","privateKeyUsagePeriod");E("2.5.29.17","subjectAltName");E("2.5.29.18","issuerAltName");E("2.5.29.19","basicConstraints");Q("2.5.29.20","cRLNumber");Q("2.5.29.21","cRLReason");Q("2.5.29.22","expirationDate");Q("2.5.29.23","instructionCode");Q("2.5.29.24","invalidityDate");Q("2.5.29.25","cRLDistributionPoints");Q("2.5.29.26","issuingDistributionPoint");Q("2.5.29.27","deltaCRLIndicator");Q("2.5.29.28","issuingDistributionPoint");Q("2.5.29.29","certificateIssuer");Q("2.5.29.30","nameConstraints");E("2.5.29.31","cRLDistributionPoints");E("2.5.29.32","certificatePolicies");Q("2.5.29.33","policyMappings");Q("2.5.29.34","policyConstraints");E("2.5.29.35","authorityKeyIdentifier");Q("2.5.29.36","policyConstraints");E("2.5.29.37","extKeyUsage");Q("2.5.29.46","freshestCRL");Q("2.5.29.54","inhibitAnyPolicy");E("1.3.6.1.4.1.11129.2.4.2","timestampList");E("1.3.6.1.5.5.7.1.1","authorityInfoAccess");E("1.3.6.1.5.5.7.3.1","serverAuth");E("1.3.6.1.5.5.7.3.2","clientAuth");E("1.3.6.1.5.5.7.3.3","codeSigning");E("1.3.6.1.5.5.7.3.4","emailProtection");E("1.3.6.1.5.5.7.3.8","timeStamping")});var Or=U((Sy,wo)=>{var rt=X();dt();gn();var C=wo.exports=rt.asn1=rt.asn1||{};C.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};C.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};C.create=function(e,t,r,n,i){if(rt.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:e,type:t,constructed:r,composed:r||rt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=C.copy(a)),a};C.copy=function(e,t){var r;if(rt.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(C.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:C.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};C.equals=function(e,t,r){if(rt.util.isArray(e)){if(!rt.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!C.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&C.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};C.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Fr(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var Fc=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Fr(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};C.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=rt.util.createBuffer(e));var r=e.length(),n=mn(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function mn(e,t,r,n){var i;Fr(e,t,2);var s=e.getByte();t--;var o=s&192,a=s&31;i=e.length();var f=Fc(e,t);if(t-=i-e.length(),f!==void 0&&f>t){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=e.length(),c.remaining=t,c.requested=f,c}f=t}var u,h,l=(s&32)===32;if(l)if(u=[],f===void 0)for(;;){if(Fr(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),u.push(mn(e,t,r+1,n)),t-=i-e.length()}else for(;f>0;)i=e.length(),u.push(mn(e,f,r+1,n)),t-=i-e.length(),f-=i-e.length();if(u===void 0&&o===C.Class.UNIVERSAL&&a===C.Type.BITSTRING&&(h=e.bytes(f)),u===void 0&&n.decodeBitStrings&&o===C.Class.UNIVERSAL&&a===C.Type.BITSTRING&&f>1){var d=e.read,p=t,g=0;if(a===C.Type.BITSTRING&&(Fr(e,t,1),g=e.getByte(),t--),g===0)try{i=e.length();var x={strict:!0,decodeBitStrings:!0},v=mn(e,t,r+1,x),B=i-e.length();t-=B,a==C.Type.BITSTRING&&B++;var A=v.tagClass;B===f&&(A===C.Class.UNIVERSAL||A===C.Class.CONTEXT_SPECIFIC)&&(u=[v])}catch{}u===void 0&&(e.read=d,t=p)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(a===C.Type.BMPSTRING)for(u="";f>0;f-=2)Fr(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(f),t-=f}var D=h===void 0?null:{bitStringContents:h};return C.create(o,a,l,u,D)}C.toDer=function(e){var t=rt.util.createBuffer(),r=e.tagClass|e.type,n=rt.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=C.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(C.toDer(e.value[s]))}else if(e.type===C.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===C.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);t.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)t.putByte(a.charCodeAt(s))}return t.putBuffer(n),t};C.oidToDer=function(e){var t=e.split("."),r=rt.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,o,a=2;a<t.length;++a){n=!0,i=[],s=parseInt(t[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};C.derToOid=function(e){var t;typeof e=="string"&&(e=rt.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};C.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var f=e.charAt(10),c=10;f!=="+"&&f!=="-"&&(a=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,o,a,0),c&&(f=e.charAt(c),f==="+"||f==="-")){var u=parseInt(e.substr(c+1,2),10),h=parseInt(e.substr(c+4,2),10),l=u*60+h;l*=6e4,f==="+"?t.setTime(+t-l):t.setTime(+t+l)}return t};C.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),f=0,c=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var h=e.length-5,l=e.charAt(h);if(l==="+"||l==="-"){var d=parseInt(e.substr(h+1,2),10),p=parseInt(e.substr(h+4,2),10);c=d*60+p,c*=6e4,l==="+"&&(c*=-1),u=!0}return e.charAt(14)==="."&&(f=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,o,a,f),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(s,o,a,f)),t};C.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};C.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};C.integerToDer=function(e){var t=rt.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};C.derToInteger=function(e){typeof e=="string"&&(e=rt.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};C.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&rt.util.isArray(t.value))for(var s=0,o=0;i&&o<t.value.length;++o)i=t.value[o].optional||!1,e.value[s]&&(i=C.validate(e.value[s],t.value[o],r,n),i?++s:t.value[o].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var a;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var f=e.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var bo=/[^\\u0000-\\u00ff]/;C.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case C.Class.UNIVERSAL:n+="Universal:";break;case C.Class.APPLICATION:n+="Application:";break;case C.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case C.Class.PRIVATE:n+="Private:";break}if(e.tagClass===C.Class.UNIVERSAL)switch(n+=e.type,e.type){case C.Type.NONE:n+=" (None)";break;case C.Type.BOOLEAN:n+=" (Boolean)";break;case C.Type.INTEGER:n+=" (Integer)";break;case C.Type.BITSTRING:n+=" (Bit string)";break;case C.Type.OCTETSTRING:n+=" (Octet string)";break;case C.Type.NULL:n+=" (Null)";break;case C.Type.OID:n+=" (Object Identifier)";break;case C.Type.ODESC:n+=" (Object Descriptor)";break;case C.Type.EXTERNAL:n+=" (External or Instance of)";break;case C.Type.REAL:n+=" (Real)";break;case C.Type.ENUMERATED:n+=" (Enumerated)";break;case C.Type.EMBEDDED:n+=" (Embedded PDV)";break;case C.Type.UTF8:n+=" (UTF8)";break;case C.Type.ROID:n+=" (Relative Object Identifier)";break;case C.Type.SEQUENCE:n+=" (Sequence)";break;case C.Type.SET:n+=" (Set)";break;case C.Type.PRINTABLESTRING:n+=" (Printable String)";break;case C.Type.IA5String:n+=" (IA5String (ASCII))";break;case C.Type.UTCTIME:n+=" (UTC time)";break;case C.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case C.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var o=0,a="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(o+=1,a+=C.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",e.type===C.Type.OID){var f=C.derToOid(e.value);n+=f,rt.pki&&rt.pki.oids&&f in rt.pki.oids&&(n+=" ("+rt.pki.oids[f]+") ")}if(e.type===C.Type.INTEGER)try{n+=C.derToInteger(e.value)}catch{n+="0x"+rt.util.bytesToHex(e.value)}else if(e.type===C.Type.BITSTRING){if(e.value.length>1?n+="0x"+rt.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var c=e.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(e.type===C.Type.OCTETSTRING)bo.test(e.value)||(n+="("+e.value+") "),n+="0x"+rt.util.bytesToHex(e.value);else if(e.type===C.Type.UTF8)try{n+=rt.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+rt.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===C.Type.PRINTABLESTRING||e.type===C.Type.IA5String?n+=e.value:bo.test(e.value)?n+="0x"+rt.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var vi=U((Ey,So)=>{var xt=X();dt();So.exports=xt.cipher=xt.cipher||{};xt.cipher.algorithms=xt.cipher.algorithms||{};xt.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=xt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new xt.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};xt.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=xt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new xt.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};xt.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),xt.cipher.algorithms[e]=t};xt.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in xt.cipher.algorithms?xt.cipher.algorithms[e]:null};var xi=xt.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};xi.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=xt.util.createBuffer(),this.output=e.output||xt.util.createBuffer(),this.mode.start(t)};xi.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};xi.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var wi=U((By,Eo)=>{var vt=X();dt();vt.cipher=vt.cipher||{};var F=Eo.exports=vt.cipher.modes=vt.cipher.modes||{};F.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};F.ecb.prototype.start=function(e){};F.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};F.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};F.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};F.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};F.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};F.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=xn(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};F.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};F.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};F.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};F.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};F.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};F.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};F.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};F.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};F.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};F.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};F.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};F.ofb.prototype.decrypt=F.ofb.prototype.encrypt;F.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};F.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xn(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};F.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}vn(this._inBlock)};F.ctr.prototype.decrypt=F.ctr.prototype.encrypt;F.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};F.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=vt.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=vt.util.createBuffer(e.additionalData):r=vt.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=vt.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(bi(n*8)))}this._inBlock=this._j0.slice(0),vn(this._inBlock),this._partialBytes=0,r=vt.util.createBuffer(r),this._aDataLength=bi(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};F.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),vn(this._inBlock)};F.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),vn(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};F.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=vt.util.createBuffer();var n=this._aDataLength.concat(bi(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};F.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};F.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};F.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};F.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};F.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],f=o/n|0,c=(n-1-o%n)*t;a[f]=1<<t-1<<c,s[o]=this.generateSubHashTable(this.multiply(a,e),t)}return s};F.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],f=i[o];i[s+o]=[a[0]^f[0],a[1]^f[1],a[2]^f[2],a[3]^f[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i};function xn(e,t){if(typeof e=="string"&&(e=vt.util.createBuffer(e)),vt.util.isArray(e)&&e.length>4){var r=e;e=vt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!vt.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}function vn(e){e[e.length-1]=e[e.length-1]+1&4294967295}function bi(e){return[e/4294967296|0,e&4294967295]}});var Ai=U((Ay,Io)=>{var tt=X();vi();wi();dt();Io.exports=tt.aes=tt.aes||{};tt.aes.startEncrypting=function(e,t,r,n){var i=bn({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};tt.aes.createEncryptionCipher=function(e,t){return bn({key:e,output:null,decrypt:!1,mode:t})};tt.aes.startDecrypting=function(e,t,r,n){var i=bn({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};tt.aes.createDecryptionCipher=function(e,t){return bn({key:e,output:null,decrypt:!0,mode:t})};tt.aes.Algorithm=function(e,t){Bi||Ao();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return Ei(r._w,n,i,!1)},decrypt:function(n,i){return Ei(r._w,n,i,!0)}}}),r._init=!1};tt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=tt.util.createBuffer(t);else if(tt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=tt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!tt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!tt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Co(t,e.decrypt&&!o),this._init=!0}};tt.aes._expandKey=function(e,t){return Bi||Ao(),Co(e,t)};tt.aes._updateBlock=Ei;cr("AES-ECB",tt.cipher.modes.ecb);cr("AES-CBC",tt.cipher.modes.cbc);cr("AES-CFB",tt.cipher.modes.cfb);cr("AES-OFB",tt.cipher.modes.ofb);cr("AES-CTR",tt.cipher.modes.ctr);cr("AES-GCM",tt.cipher.modes.gcm);function cr(e,t){var r=function(){return new tt.aes.Algorithm(e,t)};tt.cipher.registerAlgorithm(e,r)}var Bi=!1,fr=4,Tt,Si,Bo,qe,zt;function Ao(){Bi=!0,Bo=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Tt=new Array(256),Si=new Array(256),qe=new Array(4),zt=new Array(4);for(var t=0;t<4;++t)qe[t]=new Array(256),zt[t]=new Array(256);for(var r=0,n=0,i,s,o,a,f,c,u,t=0;t<256;++t){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,Tt[r]=a,Si[a]=r,f=e[a],i=e[r],s=e[i],o=e[s],c=f<<24^a<<16^a<<8^(a^f),u=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var h=0;h<4;++h)qe[h][r]=c,zt[h][a]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^e[e[e[i^o]]],n^=e[e[n]])}}function Co(e,t){for(var r=e.slice(0),n,i=1,s=r.length,o=s+6+1,a=fr*o,f=s;f<a;++f)n=r[f-1],f%s===0?(n=Tt[n>>>16&255]<<24^Tt[n>>>8&255]<<16^Tt[n&255]<<8^Tt[n>>>24]^Bo[i]<<24,i++):s>6&&f%s===4&&(n=Tt[n>>>24]<<24^Tt[n>>>16&255]<<16^Tt[n>>>8&255]<<8^Tt[n&255]),r[f]=r[f-s]^n;if(t){var c,u=zt[0],h=zt[1],l=zt[2],d=zt[3],p=r.slice(0);a=r.length;for(var f=0,g=a-fr;f<a;f+=fr,g-=fr)if(f===0||f===a-fr)p[f]=r[g],p[f+1]=r[g+3],p[f+2]=r[g+2],p[f+3]=r[g+1];else for(var x=0;x<fr;++x)c=r[g+x],p[f+(3&-x)]=u[Tt[c>>>24]]^h[Tt[c>>>16&255]]^l[Tt[c>>>8&255]]^d[Tt[c&255]];r=p}return r}function Ei(e,t,r,n){var i=e.length/4-1,s,o,a,f,c;n?(s=zt[0],o=zt[1],a=zt[2],f=zt[3],c=Si):(s=qe[0],o=qe[1],a=qe[2],f=qe[3],c=Tt);var u,h,l,d,p,g,x;u=t[0]^e[0],h=t[n?3:1]^e[1],l=t[2]^e[2],d=t[n?1:3]^e[3];for(var v=3,B=1;B<i;++B)p=s[u>>>24]^o[h>>>16&255]^a[l>>>8&255]^f[d&255]^e[++v],g=s[h>>>24]^o[l>>>16&255]^a[d>>>8&255]^f[u&255]^e[++v],x=s[l>>>24]^o[d>>>16&255]^a[u>>>8&255]^f[h&255]^e[++v],d=s[d>>>24]^o[u>>>16&255]^a[h>>>8&255]^f[l&255]^e[++v],u=p,h=g,l=x;r[0]=c[u>>>24]<<24^c[h>>>16&255]<<16^c[l>>>8&255]<<8^c[d&255]^e[++v],r[n?3:1]=c[h>>>24]<<24^c[l>>>16&255]<<16^c[d>>>8&255]<<8^c[u&255]^e[++v],r[2]=c[l>>>24]<<24^c[d>>>16&255]<<16^c[u>>>8&255]<<8^c[h&255]^e[++v],r[n?1:3]=c[d>>>24]<<24^c[u>>>16&255]<<16^c[h>>>8&255]<<8^c[l&255]^e[++v]}function bn(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=tt.cipher.createDecipher(r,e.key):n=tt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof tt.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Ro=U((Cy,_o)=>{var ot=X();vi();wi();dt();_o.exports=ot.des=ot.des||{};ot.des.startEncrypting=function(e,t,r,n){var i=wn({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ot.des.createEncryptionCipher=function(e,t){return wn({key:e,output:null,decrypt:!1,mode:t})};ot.des.startDecrypting=function(e,t,r,n){var i=wn({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ot.des.createDecryptionCipher=function(e,t){return wn({key:e,output:null,decrypt:!0,mode:t})};ot.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return To(r._keys,n,i,!1)},decrypt:function(n,i){return To(r._keys,n,i,!0)}}}),r._init=!1};ot.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ot.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=$c(t),this._init=!0}};Qt("DES-ECB",ot.cipher.modes.ecb);Qt("DES-CBC",ot.cipher.modes.cbc);Qt("DES-CFB",ot.cipher.modes.cfb);Qt("DES-OFB",ot.cipher.modes.ofb);Qt("DES-CTR",ot.cipher.modes.ctr);Qt("3DES-ECB",ot.cipher.modes.ecb);Qt("3DES-CBC",ot.cipher.modes.cbc);Qt("3DES-CFB",ot.cipher.modes.cfb);Qt("3DES-OFB",ot.cipher.modes.ofb);Qt("3DES-CTR",ot.cipher.modes.ctr);function Qt(e,t){var r=function(){return new ot.des.Algorithm(e,t)};ot.cipher.registerAlgorithm(e,r)}var Oc=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Mc=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Vc=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],qc=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],zc=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Hc=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Gc=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Wc=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function $c(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,x=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,A,D=0;D<g;D++){var I=e.getInt32(),_=e.getInt32();A=(I>>>4^_)&252645135,_^=A,I^=A<<4,A=(_>>>-16^I)&65535,I^=A,_^=A<<-16,A=(I>>>2^_)&858993459,_^=A,I^=A<<2,A=(_>>>-16^I)&65535,I^=A,_^=A<<-16,A=(I>>>1^_)&1431655765,_^=A,I^=A<<1,A=(_>>>8^I)&16711935,I^=A,_^=A<<8,A=(I>>>1^_)&1431655765,_^=A,I^=A<<1,A=I<<8|_>>>20&240,I=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=A;for(var M=0;M<v.length;++M){v[M]?(I=I<<2|I>>>26,_=_<<2|_>>>26):(I=I<<1|I>>>27,_=_<<1|_>>>27),I&=-15,_&=-15;var Z=t[I>>>28]|r[I>>>24&15]|n[I>>>20&15]|i[I>>>16&15]|s[I>>>12&15]|o[I>>>8&15]|a[I>>>4&15],Et=f[_>>>28]|c[_>>>24&15]|u[_>>>20&15]|h[_>>>16&15]|l[_>>>12&15]|d[_>>>8&15]|p[_>>>4&15];A=(Et>>>16^Z)&65535,x[B++]=Z^A,x[B++]=Et^A<<16}}return x}function To(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=t[0],f=t[1];o=(a>>>4^f)&252645135,f^=o,a^=o<<4,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,a=a<<1|a>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=s[c+1],h=s[c+2],l=s[c];l!=u;l+=h){var d=f^e[l],p=(f>>>4|f<<28)^e[l+1];o=a,a=f,f=o^(Mc[d>>>24&63]|qc[d>>>16&63]|Hc[d>>>8&63]|Wc[d&63]|Oc[p>>>24&63]|Vc[p>>>16&63]|zc[p>>>8&63]|Gc[p&63])}o=a,a=f,f=o}a=a>>>1|a<<31,f=f>>>1|f<<31,o=(a>>>1^f)&1431655765,f^=o,a^=o<<1,o=(f>>>8^a)&16711935,a^=o,f^=o<<8,o=(f>>>2^a)&858993459,a^=o,f^=o<<2,o=(a>>>16^f)&65535,f^=o,a^=o<<16,o=(a>>>4^f)&252645135,f^=o,a^=o<<4,r[0]=a,r[1]=f}function wn(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ot.cipher.createDecipher(r,e.key):n=ot.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof ot.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var ze=U((Iy,ko)=>{var Sn=X();ko.exports=Sn.md=Sn.md||{};Sn.md.algorithms=Sn.md.algorithms||{}});var Do=U((Ty,No)=>{var he=X();ze();dt();var Zc=No.exports=he.hmac=he.hmac||{};Zc.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in he.md.algorithms)t=he.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(o===null)o=e;else{if(typeof o=="string")o=he.util.createBuffer(o);else if(he.util.isArray(o)){var a=o;o=he.util.createBuffer();for(var f=0;f<a.length;++f)o.putByte(a[f])}var c=o.length();c>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=he.util.createBuffer(),n=he.util.createBuffer(),c=o.length();for(var f=0;f<c;++f){var a=o.at(f);r.putByte(54^a),n.putByte(92^a)}if(c<t.blockLength)for(var a=t.blockLength-c,f=0;f<a;++f)r.putByte(54),n.putByte(92);e=o,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var ur=U(()=>{});var Po=U((ky,Lo)=>{var _t=X();Do();ze();dt();var Yc=_t.pkcs5=_t.pkcs5||{},le;_t.util.isNodejs&&!_t.options.usePureJavaScript&&(le=ur());Lo.exports=_t.pbkdf2=Yc.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),_t.util.isNodejs&&!_t.options.usePureJavaScript&&le.pbkdf2&&(i===null||typeof i!="object")&&(le.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?le.pbkdf2Sync.length===4?le.pbkdf2(e,t,r,n,function(A,D){if(A)return s(A);s(null,D.toString("binary"))}):le.pbkdf2(e,t,r,n,i,function(A,D){if(A)return s(A);s(null,D.toString("binary"))}):le.pbkdf2Sync.length===4?le.pbkdf2Sync(e,t,r,n).toString("binary"):le.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in _t.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=_t.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var f=Math.ceil(n/o),c=n-(f-1)*o,u=_t.hmac.create();u.start(i,e);var h="",l,d,p;if(!s){for(var g=1;g<=f;++g){u.start(null,null),u.update(t),u.update(_t.util.int32ToBytes(g)),l=p=u.digest().getBytes();for(var x=2;x<=r;++x)u.start(null,null),u.update(p),d=u.digest().getBytes(),l=_t.util.xorBytes(l,d,o),p=d;h+=g<f?l:l.substr(0,c)}return h}var g=1,x;function v(){if(g>f)return s(null,h);u.start(null,null),u.update(t),u.update(_t.util.int32ToBytes(g)),l=p=u.digest().getBytes(),x=2,B()}function B(){if(x<=r)return u.start(null,null),u.update(p),d=u.digest().getBytes(),l=_t.util.xorBytes(l,d,o),p=d,++x,_t.util.setImmediate(B);h+=g<f?l:l.substr(0,c),++g,v()}v()}});var Fo=U((Ny,Ko)=>{var Bn=X();dt();var Uo=Ko.exports=Bn.pem=Bn.pem||{};Uo.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=En(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=En(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=En(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=En(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Bn.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Uo.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var o=s[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var a={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Bn.util.decode64(s[3])};if(t.push(a),!!s[2]){for(var f=s[2].split(i),c=0;s&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),h=c+1;h<f.length;++h){var l=f[h];if(!/\s/.test(l[0]))break;u+=l,c=h}if(s=u.match(n),s){for(var d={name:s[1],values:[]},p=s[2].split(","),g=0;g<p.length;++g)d.values.push(Qc(p[g]));if(a.procType)if(!a.contentDomain&&d.name==="Content-Domain")a.contentDomain=p[0]||"";else if(!a.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:p[0],parameters:p[1]||null}}else a.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:p[0],type:p[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function En(e){for(var t=e.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<t.length;++i,++s)if(s>65&&o!==-1){var a=t[o];a===","?(++o,t=t.substr(0,o)+`\r
 `+t.substr(o)):t=t.substr(0,o)+`\r
`+a+t.substr(o+1),s=i-o-1,o=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(o=i);return t}function Qc(e){return e.replace(/^\s+/,"")}});var Ho=U((Dy,zo)=>{var Xt=X();ze();dt();var Mo=zo.exports=Xt.sha256=Xt.sha256||{};Xt.md.sha256=Xt.md.algorithms.sha256=Mo;Mo.create=function(){Vo||Xc();var e=null,t=Xt.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Xt.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Xt.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),Oo(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Xt.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ci.substr(0,n.blockLength-o));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};Oo(h,r,i);var l=Xt.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l.putInt32(h.h5),l.putInt32(h.h6),l.putInt32(h.h7),l},n};var Ci=null,Vo=!1,qo=null;function Xc(){Ci=String.fromCharCode(128),Ci+=Xt.util.fillString(String.fromCharCode(0),64),qo=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Vo=!0}function Oo(e,t,r){for(var n,i,s,o,a,f,c,u,h,l,d,p,g,x,v,B=r.length();B>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=t[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,h=e.h1,l=e.h2,d=e.h3,p=e.h4,g=e.h5,x=e.h6,v=e.h7,c=0;c<64;++c)o=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),a=x^p&(g^x),s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&h|l&(u^h),n=v+o+a+qo[c]+t[c],i=s+f,v=x,x=g,g=p,p=d+n>>>0,d=l,l=h,h=u,u=n+i>>>0;e.h0=e.h0+u|0,e.h1=e.h1+h|0,e.h2=e.h2+l|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+g|0,e.h6=e.h6+x|0,e.h7=e.h7+v|0,B-=64}}});var Wo=U((Ly,Go)=>{var Jt=X();dt();var An=null;Jt.util.isNodejs&&!Jt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(An=ur());var Jc=Go.exports=Jt.prng=Jt.prng||{};Jc.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(c,u){if(!u)return t.generateSync(c);var h=t.plugin.cipher,l=t.plugin.increment,d=t.plugin.formatKey,p=t.plugin.formatSeed,g=Jt.util.createBuffer();t.key=null,x();function x(v){if(v)return u(v);if(g.length()>=c)return u(null,g.getBytes(c));if(t.generated>1048575&&(t.key=null),t.key===null)return Jt.util.nextTick(function(){s(x)});var B=h(t.key,t.seed);t.generated+=B.length,g.putBytes(B),t.key=d(h(t.key,l(t.seed))),t.seed=p(h(t.key,t.seed)),Jt.util.setImmediate(x)}},t.generateSync=function(c){var u=t.plugin.cipher,h=t.plugin.increment,l=t.plugin.formatKey,d=t.plugin.formatSeed;t.key=null;for(var p=Jt.util.createBuffer();p.length()<c;){t.generated>1048575&&(t.key=null),t.key===null&&o();var g=u(t.key,t.seed);t.generated+=g.length,p.putBytes(g),t.key=l(u(t.key,h(t.seed))),t.seed=d(u(t.key,t.seed))}return p.getBytes(c)};function s(c){if(t.pools[0].messageLength>=32)return a(),c();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(h,l){if(h)return c(h);t.collect(l),a(),c()})}function o(){if(t.pools[0].messageLength>=32)return a();var c=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(c)),a()}function a(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var c=t.plugin.md.create();c.update(t.keyBytes);for(var u=1,h=0;h<32;++h)t.reseeds%u===0&&(c.update(t.pools[h].digest().getBytes()),t.pools[h].start()),u=u<<1;t.keyBytes=c.digest().getBytes(),c.start(),c.update(t.keyBytes);var l=c.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(l),t.generated=0}function f(c){var u=null,h=Jt.util.globalScope,l=h.crypto||h.msCrypto;l&&l.getRandomValues&&(u=function(I){return l.getRandomValues(I)});var d=Jt.util.createBuffer();if(u)for(;d.length()<c;){var p=Math.max(1,Math.min(c-d.length(),65536)/4),g=new Uint32Array(Math.floor(p));try{u(g);for(var x=0;x<g.length;++x)d.putInt32(g[x])}catch(I){if(!(typeof QuotaExceededError<"u"&&I instanceof QuotaExceededError))throw I}}if(d.length()<c)for(var v,B,A,D=Math.floor(Math.random()*65536);d.length()<c;){B=16807*(D&65535),v=16807*(D>>16),B+=(v&32767)<<16,B+=v>>15,B=(B&2147483647)+(B>>31),D=B&4294967295;for(var x=0;x<3;++x)A=D>>>(x<<3),A^=Math.floor(Math.random()*256),d.putByte(A&255)}return d.getBytes(c)}return An?(t.seedFile=function(c,u){An.randomBytes(c,function(h,l){if(h)return u(h);u(null,l.toString())})},t.seedFileSync=function(c){return An.randomBytes(c).toString()}):(t.seedFile=function(c,u){try{u(null,f(c))}catch(h){u(h)}},t.seedFileSync=f),t.collect=function(c){for(var u=c.length,h=0;h<u;++h)t.pools[t.pool].update(c.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(c,u){for(var h="",l=0;l<u;l+=8)h+=String.fromCharCode(c>>l&255);t.collect(h)},t.registerWorker=function(c){if(c===self)t.seedFile=function(h,l){function d(p){var g=p.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",d),l(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var l=h.data;l.forge&&l.forge.prng&&t.seedFile(l.forge.prng.needed,function(d,p){c.postMessage({forge:{prng:{err:d,bytes:p}}})})};c.addEventListener("message",u)}},t}});var Mr=U((Py,Ii)=>{var bt=X();Ai();Ho();Wo();dt();(function(){if(bt.random&&bt.random.getBytes){Ii.exports=bt.random;return}(function(e){var t={},r=new Array(4),n=bt.util.createBuffer();t.formatKey=function(h){var l=bt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),bt.aes._expandKey(h,!1)},t.formatSeed=function(h){var l=bt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),h},t.cipher=function(h,l){return bt.aes._updateBlock(h,l,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=bt.md.sha256;function i(){var h=bt.prng.create(t);return h.getBytes=function(l,d){return h.generate(l,d)},h.getBytesSync=function(l){return h.generate(l)},h}var s=i(),o=null,a=bt.util.globalScope,f=a.crypto||a.msCrypto;if(f&&f.getRandomValues&&(o=function(h){return f.getRandomValues(h)}),bt.options.usePureJavaScript||!bt.util.isNodejs&&!o){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}s.collect(c),c=null}e&&(e().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),e().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!bt.random)bt.random=s;else for(var u in s)bt.random[u]=s[u];bt.random.createInstance=i,Ii.exports=bt.random})(typeof jQuery<"u"?jQuery:null)})()});var Qo=U((Uy,Yo)=>{var kt=X();dt();var Ti=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],$o=[1,2,3,5],jc=function(e,t){return e<<t&65535|(e&65535)>>16-t},tu=function(e,t){return(e&65535)>>t|e<<16-t&65535};Yo.exports=kt.rc2=kt.rc2||{};kt.rc2.expandKey=function(e,t){typeof e=="string"&&(e=kt.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(Ti[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,Ti[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,Ti[r.at(a+1)^r.at(a+s)]);return r};var Zo=function(e,t,r){var n=!1,i=null,s=null,o=null,a,f,c,u,h=[];for(e=kt.rc2.expandKey(e,t),c=0;c<64;c++)h.push(e.getInt16Le());r?(a=function(p){for(c=0;c<4;c++)p[c]+=h[u]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),p[c]=jc(p[c],$o[c]),u++},f=function(p){for(c=0;c<4;c++)p[c]+=h[p[(c+3)%4]&63]}):(a=function(p){for(c=3;c>=0;c--)p[c]=tu(p[c],$o[c]),p[c]-=h[u]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),u--},f=function(p){for(c=3;c>=0;c--)p[c]-=h[p[(c+3)%4]&63]});var l=function(p){var g=[];for(c=0;c<4;c++){var x=i.getInt16Le();o!==null&&(r?x^=o.getInt16Le():o.putInt16Le(x)),g.push(x&65535)}u=r?0:63;for(var v=0;v<p.length;v++)for(var B=0;B<p[v][0];B++)p[v][1](g);for(c=0;c<4;c++)o!==null&&(r?o.putInt16Le(g[c]):g[c]^=o.getInt16Le()),s.putInt16Le(g[c])},d=null;return d={start:function(p,g){p&&typeof p=="string"&&(p=kt.util.createBuffer(p)),n=!1,i=kt.util.createBuffer(),s=g||new kt.util.createBuffer,o=p,d.output=s},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)l([[5,a],[1,f],[6,a],[1,f],[5,a]])},finish:function(p){var g=!0;if(r)if(p)g=p(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(g&&(n=!0,d.update()),!r&&(g=i.length()===0,g))if(p)g=p(8,s,!r);else{var v=s.length(),B=s.at(v-1);B>v?g=!1:s.truncate(B)}return g}},d};kt.rc2.startEncrypting=function(e,t,r){var n=kt.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};kt.rc2.createEncryptionCipher=function(e,t){return Zo(e,t,!0)};kt.rc2.startDecrypting=function(e,t,r){var n=kt.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};kt.rc2.createDecryptionCipher=function(e,t){return Zo(e,t,!1)}});var Tn=U((Ky,ia)=>{var _i=X();ia.exports=_i.jsbn=_i.jsbn||{};var pe,eu=0xdeadbeefcafe,Xo=(eu&16777215)==15715070;function w(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}_i.jsbn.BigInteger=w;function H(){return new w(null)}function ru(e,t,r,n,i,s){for(;--s>=0;){var o=t*this.data[e++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function nu(e,t,r,n,i,s){for(var o=t&32767,a=t>>15;--s>=0;){var f=this.data[e]&32767,c=this.data[e++]>>15,u=a*f+c*o;f=o*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+a*c+(i>>>30),r.data[n++]=f&1073741823}return i}function Jo(e,t,r,n,i,s){for(var o=t&16383,a=t>>14;--s>=0;){var f=this.data[e]&16383,c=this.data[e++]>>14,u=a*f+c*o;f=o*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+a*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(w.prototype.am=Jo,pe=28):Xo&&navigator.appName=="Microsoft Internet Explorer"?(w.prototype.am=nu,pe=30):Xo&&navigator.appName!="Netscape"?(w.prototype.am=ru,pe=26):(w.prototype.am=Jo,pe=28);w.prototype.DB=pe;w.prototype.DM=(1<<pe)-1;w.prototype.DV=1<<pe;var Ri=52;w.prototype.FV=Math.pow(2,Ri);w.prototype.F1=Ri-pe;w.prototype.F2=2*pe-Ri;var iu="0123456789abcdefghijklmnopqrstuvwxyz",Cn=new Array,hr,Ft;hr="0".charCodeAt(0);for(Ft=0;Ft<=9;++Ft)Cn[hr++]=Ft;hr="a".charCodeAt(0);for(Ft=10;Ft<36;++Ft)Cn[hr++]=Ft;hr="A".charCodeAt(0);for(Ft=10;Ft<36;++Ft)Cn[hr++]=Ft;function jo(e){return iu.charAt(e)}function ta(e,t){var r=Cn[e.charCodeAt(t)];return r??-1}function su(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function ou(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Ce(e){var t=H();return t.fromInt(e),t}function au(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var o=r==8?e[n]&255:ta(e,n);if(o<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&e[0]&128&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&w.ZERO.subTo(this,this)}function fu(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function cu(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=jo(n));o>=0;)a<t?(n=(this.data[o]&(1<<a)-1)<<t-a,n|=this.data[--o]>>(a+=this.DB-t)):(n=this.data[o]>>(a-=t)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=jo(n));return i?s:"0"}function uu(){var e=H();return w.ZERO.subTo(this,e),e}function hu(){return this.s<0?this.negate():this}function lu(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function In(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function pu(){return this.t<=0?0:this.DB*(this.t-1)+In(this.data[this.t-1]^this.s&this.DM)}function du(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function yu(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function gu(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)t.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)t.data[a]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function mu(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&s)<<i,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function xu(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function vu(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)}function bu(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function wu(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=H());var s=H(),o=this.s,a=e.s,f=this.DB-In(n.data[n.t-1]);f>0?(n.lShiftTo(f,s),i.lShiftTo(f,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,u=s.data[c-1];if(u!=0){var h=u*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),l=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,g=r.t,x=g-c,v=t??H();for(s.dlShiftTo(x,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),w.ONE.dlShiftTo(c,v),v.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--x>=0;){var B=r.data[--g]==u?this.DM:Math.floor(r.data[g]*l+(r.data[g-1]+p)*d);if((r.data[g]+=s.am(0,B,r,x,0,c))<B)for(s.dlShiftTo(x,v),r.subTo(v,r);r.data[g]<--B;)r.subTo(v,r)}t!=null&&(r.drShiftTo(c,t),o!=a&&w.ZERO.subTo(t,t)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),o<0&&w.ZERO.subTo(r,r)}}}function Su(e){var t=H();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t}function He(e){this.m=e}function Eu(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Bu(e){return e}function Au(e){e.divRemTo(this.m,null,e)}function Cu(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Iu(e,t){e.squareTo(t),this.reduce(t)}He.prototype.convert=Eu;He.prototype.revert=Bu;He.prototype.reduce=Au;He.prototype.mulTo=Cu;He.prototype.sqrTo=Iu;function Tu(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Ge(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function _u(e){var t=H();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t}function Ru(e){var t=H();return e.copyTo(t),this.reduce(t),t}function ku(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Nu(e,t){e.squareTo(t),this.reduce(t)}function Du(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Ge.prototype.convert=_u;Ge.prototype.revert=Ru;Ge.prototype.reduce=ku;Ge.prototype.mulTo=Du;Ge.prototype.sqrTo=Nu;function Lu(){return(this.t>0?this.data[0]&1:this.s)==0}function Pu(e,t){if(e>4294967295||e<1)return w.ONE;var r=H(),n=H(),i=t.convert(this),s=In(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var o=r;r=n,n=o}return t.revert(r)}function Uu(e,t){var r;return e<256||t.isEven()?r=new He(t):r=new Ge(t),this.exp(e,r)}w.prototype.copyTo=su;w.prototype.fromInt=ou;w.prototype.fromString=au;w.prototype.clamp=fu;w.prototype.dlShiftTo=du;w.prototype.drShiftTo=yu;w.prototype.lShiftTo=gu;w.prototype.rShiftTo=mu;w.prototype.subTo=xu;w.prototype.multiplyTo=vu;w.prototype.squareTo=bu;w.prototype.divRemTo=wu;w.prototype.invDigit=Tu;w.prototype.isEven=Lu;w.prototype.exp=Pu;w.prototype.toString=cu;w.prototype.negate=uu;w.prototype.abs=hu;w.prototype.compareTo=lu;w.prototype.bitLength=pu;w.prototype.mod=Su;w.prototype.modPowInt=Uu;w.ZERO=Ce(0);w.ONE=Ce(1);function Ku(){var e=H();return this.copyTo(e),e}function Fu(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Ou(){return this.t==0?this.s:this.data[0]<<24>>24}function Mu(){return this.t==0?this.s:this.data[0]<<16>>16}function Vu(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function qu(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function zu(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Ce(r),i=H(),s=H(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o}function Hu(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var f=ta(e,a);if(f<0){e.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=t*o+f,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&w.ZERO.subTo(this,this)}function Gu(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),ki,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Wu(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function $u(e){return this.compareTo(e)==0}function Zu(e){return this.compareTo(e)<0?this:e}function Yu(e){return this.compareTo(e)>0?this:e}function Qu(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function Xu(e,t){return e&t}function Ju(e){var t=H();return this.bitwiseTo(e,Xu,t),t}function ki(e,t){return e|t}function ju(e){var t=H();return this.bitwiseTo(e,ki,t),t}function ea(e,t){return e^t}function th(e){var t=H();return this.bitwiseTo(e,ea,t),t}function ra(e,t){return e&~t}function eh(e){var t=H();return this.bitwiseTo(e,ra,t),t}function rh(){for(var e=H(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function nh(e){var t=H();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ih(e){var t=H();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function sh(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function oh(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+sh(this.data[e]);return this.s<0?this.t*this.DB:-1}function ah(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function fh(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=ah(this.data[r]^t);return e}function ch(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function uh(e,t){var r=w.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function hh(e){return this.changeBit(e,ki)}function lh(e){return this.changeBit(e,ra)}function ph(e){return this.changeBit(e,ea)}function dh(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function yh(e){var t=H();return this.addTo(e,t),t}function gh(e){var t=H();return this.subTo(e,t),t}function mh(e){var t=H();return this.multiplyTo(e,t),t}function xh(e){var t=H();return this.divRemTo(e,t,null),t}function vh(e){var t=H();return this.divRemTo(e,null,t),t}function bh(e){var t=H(),r=H();return this.divRemTo(e,t,r),new Array(t,r)}function wh(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Sh(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Vr(){}function na(e){return e}function Eh(e,t,r){e.multiplyTo(t,r)}function Bh(e,t){e.squareTo(t)}Vr.prototype.convert=na;Vr.prototype.revert=na;Vr.prototype.mulTo=Eh;Vr.prototype.sqrTo=Bh;function Ah(e){return this.exp(e,new Vr)}function Ch(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function Ih(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function lr(e){this.r2=H(),this.q3=H(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Th(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=H();return e.copyTo(t),this.reduce(t),t}function _h(e){return e}function Rh(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function kh(e,t){e.squareTo(t),this.reduce(t)}function Nh(e,t,r){e.multiplyTo(t,r),this.reduce(r)}lr.prototype.convert=Th;lr.prototype.revert=_h;lr.prototype.reduce=Rh;lr.prototype.mulTo=Nh;lr.prototype.sqrTo=kh;function Dh(e,t){var r=e.bitLength(),n,i=Ce(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new He(t):t.isEven()?s=new lr(t):s=new Ge(t);var o=new Array,a=3,f=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var u=H();for(s.sqrTo(o[1],u);a<=c;)o[a]=H(),s.mulTo(u,o[a-2],o[a]),a+=2}var h=e.t-1,l,d=!0,p=H(),g;for(r=In(e.data[h])-1;h>=0;){for(r>=f?l=e.data[h]>>r-f&c:(l=(e.data[h]&(1<<r+1)-1)<<f-r,h>0&&(l|=e.data[h-1]>>this.DB+r-f)),a=n;!(l&1);)l>>=1,--a;if((r-=a)<0&&(r+=this.DB,--h),d)o[l].copyTo(i),d=!1;else{for(;a>1;)s.sqrTo(i,p),s.sqrTo(p,i),a-=2;a>0?s.sqrTo(i,p):(g=i,i=p,p=g),s.mulTo(p,o[l],i)}for(;h>=0&&!(e.data[h]&1<<r);)s.sqrTo(i,p),g=i,i=p,p=g,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}function Lh(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function Ph(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function Uh(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return w.ZERO;for(var r=e.clone(),n=this.clone(),i=Ce(1),s=Ce(0),o=Ce(0),a=Ce(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(w.ONE)!=0)return w.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var Ht=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Kh=(1<<26)/Ht[Ht.length-1];function Fh(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Ht[Ht.length-1]){for(t=0;t<Ht.length;++t)if(r.data[0]==Ht[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Ht.length;){for(var n=Ht[t],i=t+1;i<Ht.length&&n<Kh;)n*=Ht[i++];for(n=r.modInt(n);t<i;)if(n%Ht[t++]==0)return!1}return r.millerRabin(e)}function Oh(e){var t=this.subtract(w.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Mh(),s,o=0;o<e;++o){do s=new w(this.bitLength(),i);while(s.compareTo(w.ONE)<=0||s.compareTo(t)>=0);var a=s.modPow(n,this);if(a.compareTo(w.ONE)!=0&&a.compareTo(t)!=0){for(var f=1;f++<r&&a.compareTo(t)!=0;)if(a=a.modPowInt(2,this),a.compareTo(w.ONE)==0)return!1;if(a.compareTo(t)!=0)return!1}}return!0}function Mh(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}w.prototype.chunkSize=Vu;w.prototype.toRadix=zu;w.prototype.fromRadix=Hu;w.prototype.fromNumber=Gu;w.prototype.bitwiseTo=Qu;w.prototype.changeBit=uh;w.prototype.addTo=dh;w.prototype.dMultiply=wh;w.prototype.dAddOffset=Sh;w.prototype.multiplyLowerTo=Ch;w.prototype.multiplyUpperTo=Ih;w.prototype.modInt=Ph;w.prototype.millerRabin=Oh;w.prototype.clone=Ku;w.prototype.intValue=Fu;w.prototype.byteValue=Ou;w.prototype.shortValue=Mu;w.prototype.signum=qu;w.prototype.toByteArray=Wu;w.prototype.equals=$u;w.prototype.min=Zu;w.prototype.max=Yu;w.prototype.and=Ju;w.prototype.or=ju;w.prototype.xor=th;w.prototype.andNot=eh;w.prototype.not=rh;w.prototype.shiftLeft=nh;w.prototype.shiftRight=ih;w.prototype.getLowestSetBit=oh;w.prototype.bitCount=fh;w.prototype.testBit=ch;w.prototype.setBit=hh;w.prototype.clearBit=lh;w.prototype.flipBit=ph;w.prototype.add=yh;w.prototype.subtract=gh;w.prototype.multiply=mh;w.prototype.divide=xh;w.prototype.remainder=vh;w.prototype.divideAndRemainder=bh;w.prototype.modPow=Dh;w.prototype.modInverse=Uh;w.prototype.pow=Ah;w.prototype.gcd=Lh;w.prototype.isProbablePrime=Fh});var ca=U((Fy,fa)=>{var jt=X();ze();dt();var oa=fa.exports=jt.sha1=jt.sha1||{};jt.md.sha1=jt.md.algorithms.sha1=oa;oa.create=function(){aa||Vh();var e=null,t=jt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=jt.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=jt.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),sa(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=jt.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ni.substr(0,n.blockLength-o));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};sa(h,r,i);var l=jt.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l},n};var Ni=null,aa=!1;function Vh(){Ni=String.fromCharCode(128),Ni+=jt.util.fillString(String.fromCharCode(0),64),aa=!0}function sa(e,t,r){for(var n,i,s,o,a,f,c,u,h=r.length();h>=64;){for(i=e.h0,s=e.h1,o=e.h2,a=e.h3,f=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=a^s&(o^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=s&o|a&(s^o),n=(i<<5|i>>>27)+c+f+2400959708+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=s^o^a,n=(i<<5|i>>>27)+c+f+3395469782+n,f=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+f|0,h-=64}}});var la=U((Oy,ha)=>{var te=X();dt();Mr();ca();var ua=ha.exports=te.pkcs1=te.pkcs1||{};ua.encode_rsa_oaep=function(e,t,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=te.md.sha1.create(),o||(o=s);var a=Math.ceil(e.n.bitLength()/8),f=a-2*s.digestLength-2;if(t.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=t.length,c.maxLength=f,c}n||(n=""),s.update(n,"raw");for(var u=s.digest(),h="",l=f-t.length,d=0;d<l;d++)h+="\0";var p=u.getBytes()+h+""+t;if(!i)i=te.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=s.digestLength,c}var g=_n(i,a-s.digestLength-1,o),x=te.util.xorBytes(p,g,p.length),v=_n(x,s.digestLength,o),B=te.util.xorBytes(i,v,i.length);return"\0"+B+x};ua.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=t.length,x.expectedLength=o,x}if(i===void 0?i=te.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),f=t.charAt(0),c=t.substring(1,i.digestLength+1),u=t.substring(1+i.digestLength),h=_n(u,i.digestLength,s),l=te.util.xorBytes(c,h,c.length),d=_n(l,o-i.digestLength-1,s),p=te.util.xorBytes(u,d,u.length),g=p.substring(0,i.digestLength),x=f!=="\0",v=0;v<i.digestLength;++v)x|=a.charAt(v)!==g.charAt(v);for(var B=1,A=i.digestLength,D=i.digestLength;D<p.length;D++){var I=p.charCodeAt(D),_=I&1^1,M=B?65534:0;x|=I&M,B=B&_,A+=B}if(x||p.charCodeAt(A)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(A+1)};function _n(e,t,r){r||(r=te.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}});var pa=U((My,Di)=>{var Ie=X();dt();Tn();Mr();(function(){if(Ie.prime){Di.exports=Ie.prime;return}var e=Di.exports=Ie.prime=Ie.prime||{},t=Ie.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(h,l){return h|l};e.generateProbablePrime=function(h,l,d){typeof l=="function"&&(d=l,l={}),l=l||{};var p=l.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var g=l.prng||Ie.random,x={nextBytes:function(v){for(var B=g.getBytesSync(v.length),A=0;A<v.length;++A)v[A]=B.charCodeAt(A)}};if(p.name==="PRIMEINC")return s(h,x,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function s(h,l,d,p){return"workers"in d?f(h,l,d,p):o(h,l,d,p)}function o(h,l,d,p){var g=c(h,l),x=0,v=u(g.bitLength());"millerRabinTests"in d&&(v=d.millerRabinTests);var B=10;"maxBlockTime"in d&&(B=d.maxBlockTime),a(g,h,l,x,v,B,p)}function a(h,l,d,p,g,x,v){var B=+new Date;do{if(h.bitLength()>l&&(h=c(l,d)),h.isProbablePrime(g))return v(null,h);h.dAddOffset(r[p++%8],0)}while(x<0||+new Date-B<x);Ie.util.setImmediate(function(){a(h,l,d,p,g,x,v)})}function f(h,l,d,p){if(typeof Worker>"u")return o(h,l,d,p);var g=c(h,l),x=d.workers,v=d.workLoad||100,B=v*30/8,A=d.workerScript||"forge/prime.worker.js";if(x===-1)return Ie.util.estimateCores(function(I,_){I&&(_=2),x=_-1,D()});D();function D(){x=Math.max(1,x);for(var I=[],_=0;_<x;++_)I[_]=new Worker(A);for(var M=x,_=0;_<x;++_)I[_].addEventListener("message",Et);var Z=!1;function Et(qt){if(!Z){--M;var Lt=qt.data;if(Lt.found){for(var It=0;It<I.length;++It)I[It].terminate();return Z=!0,p(null,new t(Lt.prime,16))}g.bitLength()>h&&(g=c(h,l));var ar=g.toString(16);qt.target.postMessage({hex:ar,workLoad:v}),g.dAddOffset(B,0)}}}}function c(h,l){var d=new t(h,l),p=h-1;return d.testBit(p)||d.bitwiseTo(t.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var kn=U((Vy,ba)=>{var N=X();Or();Tn();gn();la();pa();Mr();dt();typeof V>"u"&&(V=N.jsbn.BigInteger);var V,Li=N.util.isNodejs?ur():null,m=N.asn1,Ot=N.util;N.pki=N.pki||{};ba.exports=N.pki.rsa=N.rsa=N.rsa||{};var P=N.pki,qh=[6,4,2,4,2,4,6,2],zh={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Hh={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Gh={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Wh=N.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},$h={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Zh=function(e){var t;if(e.algorithm in P.oids)t=P.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=m.oidToDer(t).getBytes(),i=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),s=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);s.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,n)),s.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var o=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(o),m.toDer(i).getBytes()},xa=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(V.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(V.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new V(N.util.bytesToHex(N.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(V.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var o=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return o=o.multiply(n.modInverse(t.n)).mod(t.n),o};P.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=va(e,t,r)):(i=N.util.createBuffer(),i.putBytes(e));for(var o=new V(i.toHex(),16),a=xa(o,t,n),f=a.toString(16),c=N.util.createBuffer(),u=s-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(N.util.hexToBytes(f)),c.getBytes()};P.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var o=new V(N.util.createBuffer(e).toHex(),16);if(o.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=xa(o,t,r),f=a.toString(16),c=N.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(N.util.hexToBytes(f)),n!==!1?Rn(c.getBytes(),t,r):c.getBytes()};P.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||N.random,i={nextBytes:function(a){for(var f=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=f.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new V(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};P.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new V(null);r.fromInt(30);for(var n=0,i=function(h,l){return h|l},s=+new Date,o,a=0;e.keys===null&&(t<=0||a<t);){if(e.state===0){var f=e.p===null?e.pBits:e.qBits,c=f-1;e.pqState===0?(e.num=new V(f,e.rng),e.num.testBit(c)||e.num.bitwiseTo(V.ONE.shiftLeft(c),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(Qh(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(qh[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(V.ONE).gcd(e.e).compareTo(V.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(V.ONE),e.q1=e.q.subtract(V.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(V.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:P.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:P.rsa.setPublicKey(e.n,e.e)}}o=+new Date,a+=o-s,s=o}return e.keys!==null};P.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!N.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(da("generateKeyPair"))return Li.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,f,c){if(a)return n(a);n(null,{privateKey:P.privateKeyFromPem(c),publicKey:P.publicKeyFromPem(f)})});if(ya("generateKey")&&ya("exportKey"))return Ot.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:ma(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Ot.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var f=P.privateKeyFromAsn1(m.fromDer(N.util.createBuffer(a)));n(null,{privateKey:f,publicKey:P.setRsaPublicKey(f.n,f.e)})}});if(ga("generateKey")&&ga("exportKey")){var i=Ot.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:ma(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var f=a.target.result,c=Ot.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var h=u.target.result,l=P.privateKeyFromAsn1(m.fromDer(N.util.createBuffer(h)));n(null,{privateKey:l,publicKey:P.setRsaPublicKey(l.n,l.e)})},c.onerror=function(u){n(u)}},i.onerror=function(a){n(a)};return}}else if(da("generateKeyPairSync")){var s=Li.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:P.privateKeyFromPem(s.privateKey),publicKey:P.publicKeyFromPem(s.publicKey)}}}var o=P.rsa.createKeyPairGenerationState(e,t,r);if(!n)return P.rsa.stepKeyPairGenerationState(o,0),o.keys;Yh(o,r,n)};P.setRsaPublicKey=P.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,f,c){return va(a,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,f){return N.pkcs1.encode_rsa_oaep(f,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return P.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s,o){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(f,c){c=Rn(c,r,!0);var u=m.fromDer(c,{parseAllBytes:o._parseAllDigestBytes}),h={},l=[];if(!m.validate(u,$h,h,l)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=l,d}var p=m.derToOid(h.algorithmIdentifier);if(!(p===N.oids.md2||p===N.oids.md5||p===N.oids.sha1||p===N.oids.sha224||p===N.oids.sha256||p===N.oids.sha384||p===N.oids.sha512||p===N.oids["sha512-224"]||p===N.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===N.oids.md2||p===N.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===h.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(f,c){return c=Rn(c,r,!0),f===c}});var a=P.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};P.setRsaPrivateKey=P.rsa.setPrivateKey=function(e,t,r,n,i,s,o,a){var f={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return f.decrypt=function(c,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var l=P.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:Rn};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(d,p){return N.pkcs1.decode_rsa_oaep(p,d,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(l,f,!1)},f.sign=function(c,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:Zh},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},h=1);var l=u.encode(c,f.n.bitLength());return P.rsa.encrypt(l,f,h)},f};P.wrapRsaPrivateKey=function(e){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(P.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(e).getBytes())])};P.privateKeyFromAsn1=function(e){var t={},r=[];if(m.validate(e,zh,t,r)&&(e=m.fromDer(N.util.createBuffer(t.privateKey))),t={},r=[],!m.validate(e,Hh,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,f,c,u,h;return i=N.util.createBuffer(t.privateKeyModulus).toHex(),s=N.util.createBuffer(t.privateKeyPublicExponent).toHex(),o=N.util.createBuffer(t.privateKeyPrivateExponent).toHex(),a=N.util.createBuffer(t.privateKeyPrime1).toHex(),f=N.util.createBuffer(t.privateKeyPrime2).toHex(),c=N.util.createBuffer(t.privateKeyExponent1).toHex(),u=N.util.createBuffer(t.privateKeyExponent2).toHex(),h=N.util.createBuffer(t.privateKeyCoefficient).toHex(),P.setRsaPrivateKey(new V(i,16),new V(s,16),new V(o,16),new V(a,16),new V(f,16),new V(c,16),new V(u,16),new V(h,16))};P.privateKeyToAsn1=P.privateKeyToRSAPrivateKey=function(e){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.qInv))])};P.publicKeyFromAsn1=function(e){var t={},r=[];if(m.validate(e,Wh,t,r)){var n=m.derToOid(t.publicKeyOid);if(n!==P.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!m.validate(e,Gh,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=N.util.createBuffer(t.publicKeyModulus).toHex(),o=N.util.createBuffer(t.publicKeyExponent).toHex();return P.setRsaPublicKey(new V(s,16),new V(o,16))};P.publicKeyToAsn1=P.publicKeyToSubjectPublicKeyInfo=function(e){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(P.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[P.publicKeyToRSAPublicKey(e)])])};P.publicKeyToRSAPublicKey=function(e){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ee(e.e))])};function va(e,t,r){var n=N.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-e.length,a;if(r===0||r===1){a=r===0?0:255;for(var f=0;f<o;++f)n.putByte(a)}else for(;o>0;){for(var c=0,u=N.random.getBytes(o),f=0;f<o;++f)a=u.charCodeAt(f),a===0?++c:n.putByte(a);o=c}return n.putByte(0),n.putBytes(e),n}function Rn(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=N.util.createBuffer(e),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(a===0){f=i-3-n;for(var c=0;c<f;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(f=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++f}else if(a===2)for(f=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++f}var u=s.getByte();if(u!==0||f!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function Yh(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(a,f){if(a)return r(a);if(e.p=f,e.q!==null)return o(a,e.q);s(e.qBits,o)})}function s(a,f){N.prime.generateProbablePrime(a,n,f)}function o(a,f){if(a)return r(a);if(e.q=f,e.p.compareTo(e.q)<0){var c=e.p;e.p=e.q,e.q=c}if(e.p.subtract(V.ONE).gcd(e.e).compareTo(V.ONE)!==0){e.p=null,i();return}if(e.q.subtract(V.ONE).gcd(e.e).compareTo(V.ONE)!==0){e.q=null,s(e.qBits,o);return}if(e.p1=e.p.subtract(V.ONE),e.q1=e.q.subtract(V.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(V.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,o);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:P.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:P.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function ee(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=N.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function Qh(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function da(e){return N.util.isNodejs&&typeof Li[e]=="function"}function ya(e){return typeof Ot.globalScope<"u"&&typeof Ot.globalScope.crypto=="object"&&typeof Ot.globalScope.crypto.subtle=="object"&&typeof Ot.globalScope.crypto.subtle[e]=="function"}function ga(e){return typeof Ot.globalScope<"u"&&typeof Ot.globalScope.msCrypto=="object"&&typeof Ot.globalScope.msCrypto.subtle=="object"&&typeof Ot.globalScope.msCrypto.subtle[e]=="function"}function ma(e){for(var t=N.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var Ca=U((qy,Aa)=>{var T=X();Ai();Or();Ro();ze();gn();Po();Fo();Mr();Qo();kn();dt();typeof wa>"u"&&(wa=T.jsbn.BigInteger);var wa,b=T.asn1,K=T.pki=T.pki||{};Aa.exports=K.pbe=T.pbe=T.pbe||{};var We=K.oids,Xh={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Jh={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},jh={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};K.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=T.random.getBytesSync(r.saltSize),i=r.count,s=b.integerToDer(i),o,a,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,h;switch(r.algorithm){case"aes128":o=16,c=16,u=We["aes128-CBC"],h=T.aes.createEncryptionCipher;break;case"aes192":o=24,c=16,u=We["aes192-CBC"],h=T.aes.createEncryptionCipher;break;case"aes256":o=32,c=16,u=We["aes256-CBC"],h=T.aes.createEncryptionCipher;break;case"des":o=8,c=8,u=We.desCBC,h=T.des.createEncryptionCipher;break;default:var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=Ba(d),g=T.pkcs5.pbkdf2(t,n,i,o,p),x=T.random.getBytesSync(c),v=h(g);v.start(x),v.update(b.toDer(e)),v.finish(),f=v.output.getBytes();var B=tl(n,s,o,d);a=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(We.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(We.pkcs5PBKDF2).getBytes()),B]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(u).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){o=24;var A=new T.util.ByteBuffer(n),g=K.pbe.generatePkcs12Key(t,A,1,i,o),x=K.pbe.generatePkcs12Key(t,A,2,i,o),v=T.des.createEncryptionCipher(g);v.start(x),v.update(b.toDer(e)),v.finish(),f=v.output.getBytes(),a=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(We["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,s.getBytes())])])}else{var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var D=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[a,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,f)]);return D};K.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!b.validate(e,Xh,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=b.derToOid(n.encryptionOid),a=K.pbe.getCipher(o,n.encryptionParams,t),f=T.util.createBuffer(n.encryptedData);return a.update(f),a.finish()&&(r=b.fromDer(a.output)),r};K.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(e).getBytes()};return T.pem.encode(r,{maxline:t})};K.encryptedPrivateKeyFromPem=function(e){var t=T.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(t.body)};K.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=K.wrapRsaPrivateKey(K.privateKeyToAsn1(e));return n=K.encryptPrivateKeyInfo(n,t,r),K.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=T.random.getBytesSync(16),a=T.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=T.random.getBytesSync(16),a=T.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=T.random.getBytesSync(16),a=T.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=T.random.getBytesSync(8),a=T.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=T.random.getBytesSync(8),a=T.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=T.pbe.opensslDeriveBytes(t,s.substr(0,8),o),u=a(c);u.start(s),u.update(b.toDer(K.privateKeyToAsn1(e))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:T.util.bytesToHex(s).toUpperCase()},body:u.output.getBytes()};return T.pem.encode(h)};K.decryptRsaPrivateKey=function(e,t){var r=null,n=T.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=T.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=T.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=T.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=T.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=T.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(h){return T.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,o=function(h){return T.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,o=function(h){return T.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=T.util.hexToBytes(n.dekInfo.parameters),f=T.pbe.opensslDeriveBytes(t,a.substr(0,8),s),c=o(f);if(c.start(a),c.update(T.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=K.decryptPrivateKeyInfo(b.fromDer(r),t):r=b.fromDer(r),r!==null&&(r=K.privateKeyFromAsn1(r)),r};K.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var o,a;if(typeof s>"u"||s===null){if(!("sha1"in T.md))throw new Error('"sha1" hash algorithm unavailable.');s=T.md.sha1.create()}var f=s.digestLength,c=s.blockLength,u=new T.util.ByteBuffer,h=new T.util.ByteBuffer;if(e!=null){for(a=0;a<e.length;a++)h.putInt16(e.charCodeAt(a));h.putInt16(0)}var l=h.length(),d=t.length(),p=new T.util.ByteBuffer;p.fillWithByte(r,c);var g=c*Math.ceil(d/c),x=new T.util.ByteBuffer;for(a=0;a<g;a++)x.putByte(t.at(a%d));var v=c*Math.ceil(l/c),B=new T.util.ByteBuffer;for(a=0;a<v;a++)B.putByte(h.at(a%l));var A=x;A.putBuffer(B);for(var D=Math.ceil(i/f),I=1;I<=D;I++){var _=new T.util.ByteBuffer;_.putBytes(p.bytes()),_.putBytes(A.bytes());for(var M=0;M<n;M++)s.start(),s.update(_.getBytes()),_=s.digest();var Z=new T.util.ByteBuffer;for(a=0;a<c;a++)Z.putByte(_.at(a%f));var Et=Math.ceil(d/c)+Math.ceil(l/c),qt=new T.util.ByteBuffer;for(o=0;o<Et;o++){var Lt=new T.util.ByteBuffer(A.getBytes(c)),It=511;for(a=Z.length()-1;a>=0;a--)It=It>>8,It+=Z.at(a)+Lt.at(a),Lt.setAt(a,It&255);qt.putBuffer(Lt)}A=qt,u.putBuffer(_)}return u.truncate(u.length()-i),u};K.pbe.getCipher=function(e,t,r){switch(e){case K.oids.pkcs5PBES2:return K.pbe.getCipherForPBES2(e,t,r);case K.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case K.oids["pbewithSHAAnd40BitRC2-CBC"]:return K.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};K.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!b.validate(t,Jh,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=b.derToOid(n.kdfOid),e!==K.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=b.derToOid(n.encOid),e!==K.oids["aes128-CBC"]&&e!==K.oids["aes192-CBC"]&&e!==K.oids["aes256-CBC"]&&e!==K.oids["des-EDE3-CBC"]&&e!==K.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=T.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var f,c;switch(K.oids[e]){case"aes128-CBC":f=16,c=T.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=T.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=T.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=T.des.createDecryptionCipher;break;case"desCBC":f=8,c=T.des.createDecryptionCipher;break}var u=Ea(n.prfOid),h=T.pkcs5.pbkdf2(r,o,a,f,u),l=n.encIv,d=c(h);return d.start(l),d};K.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!b.validate(t,jh,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=T.util.createBuffer(n.salt),a=T.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var f,c,u;switch(e){case K.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=T.des.startDecrypting;break;case K.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(g,x){var v=T.rc2.createDecryptionCipher(g,40);return v.start(x,null),v};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var h=Ea(n.prfOid),l=K.pbe.generatePkcs12Key(r,o,1,a,f,h);h.start();var d=K.pbe.generatePkcs12Key(r,o,2,a,c,h);return u(l,d)};K.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in T.md))throw new Error('"md5" hash algorithm unavailable.');n=T.md.md5.create()}t===null&&(t="");for(var i=[Sa(n,e+t)],s=16,o=1;s<r;++o,s+=16)i.push(Sa(n,i[o-1]+e+t));return i.join("").substr(0,r)};function Sa(e,t){return e.start().update(t).digest().getBytes()}function Ea(e){var t;if(!e)t="hmacWithSHA1";else if(t=K.oids[b.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Ba(t)}function Ba(e){var t=T.md;switch(e){case"hmacWithSHA224":t=T.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function tl(e,t,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,T.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(K.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var c0=U((W1,f0)=>{"use strict";f0.exports=Bp;function Bp(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,f){r[n]=function(u){if(s)if(s=!1,u)f(u);else{for(var h=new Array(arguments.length-1),l=0;l<h.length;)h[l++]=arguments[l];a.apply(null,h)}};try{e.apply(t||null,r)}catch(c){s&&(s=!1,f(c))}})}});var p0=U(l0=>{"use strict";var Mn=l0;Mn.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var vr=new Array(64),h0=new Array(123);for(Gt=0;Gt<64;)h0[vr[Gt]=Gt<26?Gt+65:Gt<52?Gt+71:Gt<62?Gt-4:Gt-59|43]=Gt++;var Gt;Mn.encode=function(t,r,n){for(var i=null,s=[],o=0,a=0,f;r<n;){var c=t[r++];switch(a){case 0:s[o++]=vr[c>>2],f=(c&3)<<4,a=1;break;case 1:s[o++]=vr[f|c>>4],f=(c&15)<<2,a=2;break;case 2:s[o++]=vr[f|c>>6],s[o++]=vr[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=vr[f],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var u0="invalid encoding";Mn.decode=function(t,r,n){for(var i=n,s=0,o,a=0;a<t.length;){var f=t.charCodeAt(a++);if(f===61&&s>1)break;if((f=h0[f])===void 0)throw Error(u0);switch(s){case 0:o=f,s=1;break;case 1:r[n++]=o<<2|(f&48)>>4,o=f,s=2;break;case 2:r[n++]=(o&15)<<4|(f&60)>>2,o=f,s=3;break;case 3:r[n++]=(o&3)<<6|f,s=0;break}}if(s===1)throw Error(u0);return n-i};Mn.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var y0=U((Z1,d0)=>{"use strict";d0.exports=Vn;function Vn(){this._listeners={}}Vn.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Vn.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Vn.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var S0=U((Y1,w0)=>{"use strict";w0.exports=g0(g0);function g0(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(f,c,u){t[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function s(f,c,u){t[0]=f,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i;function o(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],t[0]}function a(f,c){return r[3]=f[c],r[2]=f[c+1],r[1]=f[c+2],r[0]=f[c+3],t[0]}e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var f=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((a<<31|f+127<<23|c)>>>0,s,o)}}e.writeFloatLE=t.bind(null,m0),e.writeFloatBE=t.bind(null,x0);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,f=o>>>23&255,c=o&8388607;return f===255?c?NaN:a*(1/0):f===0?a*1401298464324817e-60*c:a*Math.pow(2,f-150)*(c+8388608)}e.readFloatLE=r.bind(null,v0),e.readFloatBE=r.bind(null,b0)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(f,c,u){t[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function s(f,c,u){t[0]=f,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i;function o(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],r[4]=f[c+4],r[5]=f[c+5],r[6]=f[c+6],r[7]=f[c+7],t[0]}function a(f,c){return r[7]=f[c],r[6]=f[c+1],r[5]=f[c+2],r[4]=f[c+3],r[3]=f[c+4],r[2]=f[c+5],r[1]=f[c+6],r[0]=f[c+7],t[0]}e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(n,i,s,o,a,f){var c=o<0?1:0;if(c&&(o=-o),o===0)n(0,a,f+i),n(1/o>0?0:2147483648,a,f+s);else if(isNaN(o))n(0,a,f+i),n(2146959360,a,f+s);else if(o>17976931348623157e292)n(0,a,f+i),n((c<<31|2146435072)>>>0,a,f+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,n(u>>>0,a,f+i),n((c<<31|u/4294967296)>>>0,a,f+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),u=o*Math.pow(2,-h),n(u*4503599627370496>>>0,a,f+i),n((c<<31|h+1023<<20|u*1048576&1048575)>>>0,a,f+s)}}}e.writeDoubleLE=t.bind(null,m0,0,4),e.writeDoubleBE=t.bind(null,x0,4,0);function r(n,i,s,o,a){var f=n(o,a+i),c=n(o,a+s),u=(c>>31)*2+1,h=c>>>20&2047,l=4294967296*(c&1048575)+f;return h===2047?l?NaN:u*(1/0):h===0?u*5e-324*l:u*Math.pow(2,h-1075)*(l+4503599627370496)}e.readDoubleLE=r.bind(null,v0,0,4),e.readDoubleBE=r.bind(null,b0,4,0)}(),e}function m0(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function x0(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function v0(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function b0(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var E0=U((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var A0=U(B0=>{"use strict";var ls=B0;ls.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};ls.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,f;r<n;)f=t[r++],f<128?o[a++]=f:f>191&&f<224?o[a++]=(f&31)<<6|t[r++]&63:f>239&&f<365?(f=((f&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,o[a++]=55296+(f>>10),o[a++]=56320+(f&1023)):o[a++]=(f&15)<<12|(t[r++]&63)<<6|t[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};ls.write=function(t,r,n){for(var i=n,s,o,a=0;a<t.length;++a)s=t.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=t.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var I0=U((X1,C0)=>{"use strict";C0.exports=Ap;function Ap(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(f){if(f<1||f>i)return e(f);o+f>n&&(s=e(n),o=0);var c=t.call(s,o,o+=f);return o&7&&(o=(o|7)+1),c}}});var _0=U((J1,T0)=>{"use strict";T0.exports=St;var Yr=Je();function St(e,t){this.lo=e>>>0,this.hi=t>>>0}var Xe=St.zero=new St(0,0);Xe.toNumber=function(){return 0};Xe.zzEncode=Xe.zzDecode=function(){return this};Xe.length=function(){return 1};var Cp=St.zeroHash="\0\0\0\0\0\0\0\0";St.fromNumber=function(t){if(t===0)return Xe;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new St(n,i)};St.from=function(t){if(typeof t=="number")return St.fromNumber(t);if(Yr.isString(t))if(Yr.Long)t=Yr.Long.fromString(t);else return St.fromNumber(parseInt(t,10));return t.low||t.high?new St(t.low>>>0,t.high>>>0):Xe};St.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};St.prototype.toLong=function(t){return Yr.Long?new Yr.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Ue=String.prototype.charCodeAt;St.fromHash=function(t){return t===Cp?Xe:new St((Ue.call(t,0)|Ue.call(t,1)<<8|Ue.call(t,2)<<16|Ue.call(t,3)<<24)>>>0,(Ue.call(t,4)|Ue.call(t,5)<<8|Ue.call(t,6)<<16|Ue.call(t,7)<<24)>>>0)};St.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};St.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};St.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};St.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Je=U(ps=>{"use strict";var k=ps;k.asPromise=c0();k.base64=p0();k.EventEmitter=y0();k.float=S0();k.inquire=E0();k.utf8=A0();k.pool=I0();k.LongBits=_0();k.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);k.global=k.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||ps;k.emptyArray=Object.freeze?Object.freeze([]):[];k.emptyObject=Object.freeze?Object.freeze({}):{};k.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};k.isString=function(t){return typeof t=="string"||t instanceof String};k.isObject=function(t){return t&&typeof t=="object"};k.isset=k.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};k.Buffer=function(){try{var e=k.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();k._Buffer_from=null;k._Buffer_allocUnsafe=null;k.newBuffer=function(t){return typeof t=="number"?k.Buffer?k._Buffer_allocUnsafe(t):new k.Array(t):k.Buffer?k._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};k.Array=typeof Uint8Array<"u"?Uint8Array:Array;k.Long=k.global.dcodeIO&&k.global.dcodeIO.Long||k.global.Long||k.inquire("long");k.key2Re=/^true|false|0|1$/;k.key32Re=/^-?(?:0|[1-9][0-9]*)$/;k.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;k.longToHash=function(t){return t?k.LongBits.from(t).toHash():k.LongBits.zeroHash};k.longFromHash=function(t,r){var n=k.LongBits.fromHash(t);return k.Long?k.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function R0(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}k.merge=R0;k.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function k0(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&R0(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}k.newError=k0;k.ProtocolError=k0("ProtocolError");k.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};k.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};k.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};k._configure=function(){var e=k.Buffer;if(!e){k._Buffer_from=k._Buffer_allocUnsafe=null;return}k._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},k._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var gs=U((t2,U0)=>{"use strict";U0.exports=lt;var ie=Je(),ys,L0=ie.LongBits,Ip=ie.utf8;function Wt(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function lt(e){this.buf=e,this.pos=0,this.len=e.length}var N0=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new lt(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new lt(t);throw Error("illegal buffer")},P0=function(){return ie.Buffer?function(r){return(lt.create=function(i){return ie.Buffer.isBuffer(i)?new ys(i):N0(i)})(r)}:N0};lt.create=P0();lt.prototype._slice=ie.Array.prototype.subarray||ie.Array.prototype.slice;lt.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Wt(this,10);return t}}();lt.prototype.int32=function(){return this.uint32()|0};lt.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function ds(){var e=new L0(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Wt(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Wt(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}lt.prototype.bool=function(){return this.uint32()!==0};function qn(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}lt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Wt(this,4);return qn(this.buf,this.pos+=4)};lt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Wt(this,4);return qn(this.buf,this.pos+=4)|0};function D0(){if(this.pos+8>this.len)throw Wt(this,8);return new L0(qn(this.buf,this.pos+=4),qn(this.buf,this.pos+=4))}lt.prototype.float=function(){if(this.pos+4>this.len)throw Wt(this,4);var t=ie.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};lt.prototype.double=function(){if(this.pos+8>this.len)throw Wt(this,4);var t=ie.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};lt.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Wt(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};lt.prototype.string=function(){var t=this.bytes();return Ip.read(t,0,t.length)};lt.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Wt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Wt(this);while(this.buf[this.pos++]&128);return this};lt.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};lt._configure=function(e){ys=e,lt.create=P0(),ys._configure();var t=ie.Long?"toLong":"toNumber";ie.merge(lt.prototype,{int64:function(){return ds.call(this)[t](!1)},uint64:function(){return ds.call(this)[t](!0)},sint64:function(){return ds.call(this).zzDecode()[t](!1)},fixed64:function(){return D0.call(this)[t](!0)},sfixed64:function(){return D0.call(this)[t](!1)}})}});var M0=U((e2,O0)=>{"use strict";O0.exports=je;var F0=gs();(je.prototype=Object.create(F0.prototype)).constructor=je;var K0=Je();function je(e){F0.call(this,e)}je._configure=function(){K0.Buffer&&(je.prototype._slice=K0.Buffer.prototype.slice)};je.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};je._configure()});var Es=U((r2,H0)=>{"use strict";H0.exports=G;var Mt=Je(),ms,zn=Mt.LongBits,V0=Mt.base64,q0=Mt.utf8;function Qr(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function vs(){}function Tp(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function G(){this.len=0,this.head=new Qr(vs,0,0),this.tail=this.head,this.states=null}var z0=function(){return Mt.Buffer?function(){return(G.create=function(){return new ms})()}:function(){return new G}};G.create=z0();G.alloc=function(t){return new Mt.Array(t)};Mt.Array!==Array&&(G.alloc=Mt.pool(G.alloc,Mt.Array.prototype.subarray));G.prototype._push=function(t,r,n){return this.tail=this.tail.next=new Qr(t,r,n),this.len+=r,this};function bs(e,t,r){t[r]=e&255}function _p(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function ws(e,t){this.len=e,this.next=void 0,this.val=t}ws.prototype=Object.create(Qr.prototype);ws.prototype.fn=_p;G.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new ws((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};G.prototype.int32=function(t){return t<0?this._push(Ss,10,zn.fromNumber(t)):this.uint32(t)};G.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Ss(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}G.prototype.uint64=function(t){var r=zn.from(t);return this._push(Ss,r.length(),r)};G.prototype.int64=G.prototype.uint64;G.prototype.sint64=function(t){var r=zn.from(t).zzEncode();return this._push(Ss,r.length(),r)};G.prototype.bool=function(t){return this._push(bs,1,t?1:0)};function xs(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}G.prototype.fixed32=function(t){return this._push(xs,4,t>>>0)};G.prototype.sfixed32=G.prototype.fixed32;G.prototype.fixed64=function(t){var r=zn.from(t);return this._push(xs,4,r.lo)._push(xs,4,r.hi)};G.prototype.sfixed64=G.prototype.fixed64;G.prototype.float=function(t){return this._push(Mt.float.writeFloatLE,4,t)};G.prototype.double=function(t){return this._push(Mt.float.writeDoubleLE,8,t)};var Rp=Mt.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};G.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(bs,1,0);if(Mt.isString(t)){var n=G.alloc(r=V0.length(t));V0.decode(t,n,0),t=n}return this.uint32(r)._push(Rp,r,t)};G.prototype.string=function(t){var r=q0.length(t);return r?this.uint32(r)._push(q0.write,r,t):this._push(bs,1,0)};G.prototype.fork=function(){return this.states=new Tp(this),this.head=this.tail=new Qr(vs,0,0),this.len=0,this};G.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Qr(vs,0,0),this.len=0),this};G.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};G.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};G._configure=function(e){ms=e,G.create=z0(),ms._configure()}});var $0=U((n2,W0)=>{"use strict";W0.exports=se;var G0=Es();(se.prototype=Object.create(G0.prototype)).constructor=se;var Ke=Je();function se(){G0.call(this)}se._configure=function(){se.alloc=Ke._Buffer_allocUnsafe,se.writeBytesBuffer=Ke.Buffer&&Ke.Buffer.prototype instanceof Uint8Array&&Ke.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};se.prototype.bytes=function(t){Ke.isString(t)&&(t=Ke._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(se.writeBytesBuffer,r,t),this};function kp(e,t,r){e.length<40?Ke.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}se.prototype.string=function(t){var r=Ke.Buffer.byteLength(t);return this.uint32(r),r&&this._push(kp,r,t),this};se._configure()});var of=U((ng,sf)=>{var it=X();ze();dt();var Jr=sf.exports=it.sha512=it.sha512||{};it.md.sha512=it.md.algorithms.sha512=Jr;var rf=it.sha384=it.sha512.sha384=it.sha512.sha384||{};rf.create=function(){return Jr.create("SHA-384")};it.md.sha384=it.md.algorithms.sha384=rf;it.sha512.sha256=it.sha512.sha256||{create:function(){return Jr.create("SHA-512/256")}};it.md["sha512/256"]=it.md.algorithms["sha512/256"]=it.sha512.sha256;it.sha512.sha224=it.sha512.sha224||{create:function(){return Jr.create("SHA-512/224")}};it.md["sha512/224"]=it.md.algorithms["sha512/224"]=it.sha512.sha224;Jr.create=function(e){if(nf||Vp(),typeof e>"u"&&(e="SHA-512"),!(e in er))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=er[e],r=null,n=it.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(e){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var f=a.messageLengthSize/4,c=0;c<f;++c)a.fullMessageLength.push(0);n=it.util.createBuffer(),r=new Array(t.length);for(var c=0;c<t.length;++c)r[c]=t[c].slice(0);return a},a.start(),a.update=function(f,c){c==="utf8"&&(f=it.util.encodeUtf8(f));var u=f.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=a.fullMessageLength.length-1;h>=0;--h)a.fullMessageLength[h]+=u[1],u[1]=u[0]+(a.fullMessageLength[h]/4294967296>>>0),a.fullMessageLength[h]=a.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),ef(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var f=it.util.createBuffer();f.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,u=c&a.blockLength-1;f.putBytes(ks.substr(0,a.blockLength-u));for(var h,l,d=a.fullMessageLength[0]*8,p=0;p<a.fullMessageLength.length-1;++p)h=a.fullMessageLength[p+1]*8,l=h/4294967296>>>0,d+=l,f.putInt32(d>>>0),d=h>>>0;f.putInt32(d);for(var g=new Array(r.length),p=0;p<r.length;++p)g[p]=r[p].slice(0);ef(g,i,f);var x=it.util.createBuffer(),v;e==="SHA-512"?v=g.length:e==="SHA-384"?v=g.length-2:v=g.length-4;for(var p=0;p<v;++p)x.putInt32(g[p][0]),(p!==v-1||e!=="SHA-512/224")&&x.putInt32(g[p][1]);return x},a};var ks=null,nf=!1,Ns=null,er=null;function Vp(){ks=String.fromCharCode(128),ks+=it.util.fillString(String.fromCharCode(0),128),Ns=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],er={},er["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],er["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],er["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],er["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],nf=!0}function ef(e,t,r){for(var n,i,s,o,a,f,c,u,h,l,d,p,g,x,v,B,A,D,I,_,M,Z,Et,qt,Lt,It,ar,dn,pt,Rt,L,ci,ui,hi,li,fo=r.length();fo>=128;){for(pt=0;pt<16;++pt)t[pt][0]=r.getInt32()>>>0,t[pt][1]=r.getInt32()>>>0;for(;pt<80;++pt)ci=t[pt-2],Rt=ci[0],L=ci[1],n=((Rt>>>19|L<<13)^(L>>>29|Rt<<3)^Rt>>>6)>>>0,i=((Rt<<13|L>>>19)^(L<<3|Rt>>>29)^(Rt<<26|L>>>6))>>>0,hi=t[pt-15],Rt=hi[0],L=hi[1],s=((Rt>>>1|L<<31)^(Rt>>>8|L<<24)^Rt>>>7)>>>0,o=((Rt<<31|L>>>1)^(Rt<<24|L>>>8)^(Rt<<25|L>>>7))>>>0,ui=t[pt-7],li=t[pt-16],L=i+ui[1]+o+li[1],t[pt][0]=n+ui[0]+s+li[0]+(L/4294967296>>>0)>>>0,t[pt][1]=L>>>0;for(g=e[0][0],x=e[0][1],v=e[1][0],B=e[1][1],A=e[2][0],D=e[2][1],I=e[3][0],_=e[3][1],M=e[4][0],Z=e[4][1],Et=e[5][0],qt=e[5][1],Lt=e[6][0],It=e[6][1],ar=e[7][0],dn=e[7][1],pt=0;pt<80;++pt)c=((M>>>14|Z<<18)^(M>>>18|Z<<14)^(Z>>>9|M<<23))>>>0,u=((M<<18|Z>>>14)^(M<<14|Z>>>18)^(Z<<23|M>>>9))>>>0,h=(Lt^M&(Et^Lt))>>>0,l=(It^Z&(qt^It))>>>0,a=((g>>>28|x<<4)^(x>>>2|g<<30)^(x>>>7|g<<25))>>>0,f=((g<<4|x>>>28)^(x<<30|g>>>2)^(x<<25|g>>>7))>>>0,d=(g&v|A&(g^v))>>>0,p=(x&B|D&(x^B))>>>0,L=dn+u+l+Ns[pt][1]+t[pt][1],n=ar+c+h+Ns[pt][0]+t[pt][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=f+p,s=a+d+(L/4294967296>>>0)>>>0,o=L>>>0,ar=Lt,dn=It,Lt=Et,It=qt,Et=M,qt=Z,L=_+i,M=I+n+(L/4294967296>>>0)>>>0,Z=L>>>0,I=A,_=D,A=v,D=B,v=g,B=x,L=i+o,g=n+s+(L/4294967296>>>0)>>>0,x=L>>>0;L=e[0][1]+x,e[0][0]=e[0][0]+g+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+B,e[1][0]=e[1][0]+v+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+D,e[2][0]=e[2][0]+A+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+_,e[3][0]=e[3][0]+I+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+Z,e[4][0]=e[4][0]+M+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+qt,e[5][0]=e[5][0]+Et+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+It,e[6][0]=e[6][0]+Lt+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+dn,e[7][0]=e[7][0]+ar+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,fo-=128}}});var Jf=U((Im,Xf)=>{Xf.exports=$s;var Qf=128,Rd=127,kd=~Rd,Nd=Math.pow(2,31);function $s(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw $s.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=Nd;)t[r++]=e&255|Qf,e/=128;for(;e&kd;)t[r++]=e&255|Qf,e>>>=7;return t[r]=e|0,$s.bytes=r-n+1,t}});var ec=U((Tm,tc)=>{tc.exports=Zs;var Dd=128,jf=127;function Zs(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a||i>49)throw Zs.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&jf)<<i:(o&jf)*Math.pow(2,i),i+=7}while(o>=Dd);return Zs.bytes=s-n,r}});var nc=U((_m,rc)=>{var Ld=Math.pow(2,7),Pd=Math.pow(2,14),Ud=Math.pow(2,21),Kd=Math.pow(2,28),Fd=Math.pow(2,35),Od=Math.pow(2,42),Md=Math.pow(2,49),Vd=Math.pow(2,56),qd=Math.pow(2,63);rc.exports=function(e){return e<Ld?1:e<Pd?2:e<Ud?3:e<Kd?4:e<Fd?5:e<Od?6:e<Md?7:e<Vd?8:e<qd?9:10}});var ri=U((Rm,ic)=>{ic.exports={encode:Jf(),decode:ec(),encodingLength:nc()}});var gy={};Bt(gy,{PeerRecord:()=>or,RecordEnvelope:()=>sr});var Fg=ct(Or(),1),Og=ct(Ca(),1);var $=class extends Error{code;props;constructor(t,r,n){super(t),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var md=ct(X(),1);function $e(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var Oi={};Bt(Oi,{identity:()=>ol});function el(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,f=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,x=0,v=0,B=p.length;v!==B&&p[v]===0;)v++,g++;for(var A=(B-v)*u+1>>>0,D=new Uint8Array(A);v!==B;){for(var I=p[v],_=0,M=A-1;(I!==0||_<x)&&M!==-1;M--,_++)I+=256*D[M]>>>0,D[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");x=_,v++}for(var Z=A-x;Z!==A&&D[Z]===0;)Z++;for(var Et=f.repeat(g);Z<A;++Z)Et+=e.charAt(D[Z]);return Et}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var x=0,v=0;p[g]===f;)x++,g++;for(var B=(p.length-g)*c+1>>>0,A=new Uint8Array(B);p[g];){var D=r[p.charCodeAt(g)];if(D===255)return;for(var I=0,_=B-1;(D!==0||I<v)&&_!==-1;_--,I++)D+=a*A[_]>>>0,A[_]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");v=I,g++}if(p[g]!==" "){for(var M=B-v;M!==B&&A[M]===0;)M++;for(var Z=new Uint8Array(x+(B-M)),Et=x;M!==B;)Z[Et++]=A[M++];return Z}}}function d(p){var g=l(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:d}}var rl=el,nl=rl,Ia=nl;var $y=new Uint8Array(0);var Ta=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},de=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var _a=e=>new TextEncoder().encode(e),Ra=e=>new TextDecoder().decode(e);var Pi=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Ui=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Na(this,t)}},Ki=class{constructor(t){this.decoders=t}or(t){return Na(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Na=(e,t)=>new Ki({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Fi=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Pi(t,r,n),this.decoder=new Ui(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},pr=({name:e,prefix:t,encode:r,decode:n})=>new Fi(e,t,r,n),Te=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Ia(r,t);return pr({prefix:e,name:t,encode:n,decode:s=>de(i(s))})},il=(e,t,r,n)=>{let i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,f=0,c=0;for(let u=0;u<s;++u){let h=i[e[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},sl=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let f=0;f<e.length;++f)for(a=a<<8|e[f],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ut=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pr({prefix:t,name:e,encode(i){return sl(i,n,r)},decode(i){return il(i,n,r,e)}});var ol=pr({prefix:"\0",name:"identity",encode:e=>Ra(e),decode:e=>_a(e)});var Mi={};Bt(Mi,{base2:()=>al});var al=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vi={};Bt(Vi,{base8:()=>fl});var fl=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qi={};Bt(qi,{base10:()=>cl});var cl=Te({prefix:"9",name:"base10",alphabet:"0123456789"});var zi={};Bt(zi,{base16:()=>ul,base16upper:()=>hl});var ul=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hl=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Hi={};Bt(Hi,{base32:()=>ye,base32hex:()=>yl,base32hexpad:()=>ml,base32hexpadupper:()=>xl,base32hexupper:()=>gl,base32pad:()=>pl,base32padupper:()=>dl,base32upper:()=>ll,base32z:()=>vl});var ye=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ll=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pl=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dl=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yl=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gl=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ml=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xl=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vl=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gi={};Bt(Gi,{base36:()=>bl,base36upper:()=>wl});var bl=Te({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wl=Te({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Wi={};Bt(Wi,{base58btc:()=>yt,base58flickr:()=>Sl});var yt=Te({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sl=Te({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var $i={};Bt($i,{base64:()=>Nn,base64pad:()=>El,base64url:()=>Bl,base64urlpad:()=>Al});var Nn=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),El=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Bl=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Al=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Zi={};Bt(Zi,{base256emoji:()=>Rl});var Da=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Cl=Da.reduce((e,t,r)=>(e[r]=t,e),[]),Il=Da.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Tl(e){return e.reduce((t,r)=>(t+=Cl[r],t),"")}function _l(e){let t=[];for(let r of e){let n=Il[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Rl=pr({prefix:"\u{1F680}",name:"base256emoji",encode:Tl,decode:_l});var Ji={};Bt(Ji,{sha256:()=>At,sha512:()=>Yl});var kl=Ua,La=128,Nl=127,Dl=~Nl,Ll=Math.pow(2,31);function Ua(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Ll;)t[r++]=e&255|La,e/=128;for(;e&Dl;)t[r++]=e&255|La,e>>>=7;return t[r]=e|0,Ua.bytes=r-n+1,t}var Pl=Yi,Ul=128,Pa=127;function Yi(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw Yi.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Pa)<<i:(o&Pa)*Math.pow(2,i),i+=7}while(o>=Ul);return Yi.bytes=s-n,r}var Kl=Math.pow(2,7),Fl=Math.pow(2,14),Ol=Math.pow(2,21),Ml=Math.pow(2,28),Vl=Math.pow(2,35),ql=Math.pow(2,42),zl=Math.pow(2,49),Hl=Math.pow(2,56),Gl=Math.pow(2,63),Wl=function(e){return e<Kl?1:e<Fl?2:e<Ol?3:e<Ml?4:e<Vl?5:e<ql?6:e<zl?7:e<Hl?8:e<Gl?9:10},$l={encode:kl,decode:Pl,encodingLength:Wl},Zl=$l,qr=Zl;var zr=(e,t=0)=>[qr.decode(e,t),qr.decode.bytes],dr=(e,t,r=0)=>(qr.encode(e,t,r),t),yr=e=>qr.encodingLength(e);var re=(e,t)=>{let r=t.byteLength,n=yr(e),i=n+yr(r),s=new Uint8Array(i+r);return dr(e,s,0),dr(r,s,n),s.set(t,i),new gr(e,r,t,s)},Ze=e=>{let t=de(e),[r,n]=zr(t),[i,s]=zr(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new gr(r,i,o,t)},Ka=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&Ta(e.bytes,r.bytes)}},gr=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};var Xi=({name:e,code:t,encode:r})=>new Qi(e,t,r),Qi=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?re(this.code,r):r.then(n=>re(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Oa=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),At=Xi({name:"sha2-256",code:18,encode:Oa("SHA-256")}),Yl=Xi({name:"sha2-512",code:19,encode:Oa("SHA-512")});var ji={};Bt(ji,{identity:()=>_e});var Ma=0,Ql="identity",Va=de,Xl=e=>re(Ma,Va(e)),_e={code:Ma,name:Ql,encode:Va,digest:Xl};var d1=new TextEncoder,y1=new TextDecoder;var qa=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return ep(r,ts(e),t||yt.encoder);default:return rp(r,ts(e),t||ye.encoder)}};var za=new WeakMap,ts=e=>{let t=za.get(e);if(t==null){let r=new Map;return za.set(e,r),r}return t},J=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==Hr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==np)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return J.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=re(t,r);return J.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return J.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&Ka(t.multihash,n.multihash)}toString(t){return qa(this,t)}toJSON(){return{"/":qa(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof J)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:s,bytes:o}=r;return new J(n,i,s,o||Ha(n,i,s.bytes))}else if(r[ip]===!0){let{version:n,multihash:i,code:s}=r,o=Ze(i);return J.create(n,s,o)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==Hr)throw new Error(`Version 0 CID must use dag-pb (code: ${Hr}) block encoding`);return new J(t,r,n,n.bytes)}case 1:{let i=Ha(t,r,n.bytes);return new J(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return J.create(0,Hr,t)}static createV1(t,r){return J.create(1,t,r)}static decode(t){let[r,n]=J.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=J.inspectBytes(t),n=r.size-r.multihashSize,i=de(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new gr(r.multihashCode,r.digestSize,s,i);return[r.version===0?J.createV0(o):J.createV1(r.codec,o),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[h,l]=zr(t.subarray(r));return r+=l,h},i=n(),s=Hr;if(i===18?(i=0,r=0):s=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),f=n(),c=r+f,u=c-o;return{version:i,codec:s,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(t,r){let[n,i]=tp(t,r),s=J.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return ts(s).set(n,t),s}},tp=(e,t)=>{switch(e[0]){case"Q":{let r=t||yt;return[yt.prefix,r.decode(`${yt.prefix}${e}`)]}case yt.prefix:{let r=t||yt;return[yt.prefix,r.decode(e)]}case ye.prefix:{let r=t||ye;return[ye.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},ep=(e,t,r)=>{let{prefix:n}=r;if(n!==yt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return i},rp=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let s=r.encode(e);return t.set(n,s),s}else return i},Hr=112,np=18,Ha=(e,t,r)=>{let n=yr(e),i=n+yr(t),s=new Uint8Array(i+r.byteLength);return dr(e,s,0),dr(t,s,n),s.set(r,i),s},ip=Symbol.for("@ipld/js-cid/CID");var Re={...Oi,...Mi,...Vi,...qi,...zi,...Hi,...Gi,...Wi,...$i,...Zi},A1={...Ji,...ji};function ge(e=0){return globalThis.Buffer?.alloc!=null?$e(globalThis.Buffer.alloc(e)):new Uint8Array(e)}function me(e=0){return globalThis.Buffer?.allocUnsafe!=null?$e(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Wa(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Ga=Wa("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),es=Wa("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=me(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),sp={utf8:Ga,"utf-8":Ga,hex:Re.base16,latin1:es,ascii:es,binary:es,...Re},Ln=sp;function Ct(e,t="utf8"){let r=Ln[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$e(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var Rs={};Bt(Rs,{Ed25519PrivateKey:()=>tr,Ed25519PublicKey:()=>Xr,generateKeyPair:()=>Kp,generateKeyPairFromSeed:()=>J0,unmarshalEd25519PrivateKey:()=>Pp,unmarshalEd25519PublicKey:()=>Up});function gt(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var op=ct(ur(),1);var wt=BigInt(0),q=BigInt(1),De=BigInt(2),ap=BigInt(8),$a=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),nt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:$a,n:$a,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Ja=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Gr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),U1=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),fp=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),cp=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),up=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),hp=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),O=class{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof at))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(at.ZERO)?O.ZERO:new O(t.x,t.y,q,S(t.x*t.y))}static toAffineBatch(t){let r=dp(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Ya(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t,f=S(r*a),c=S(s*i),u=S(n*a),h=S(o*i);return f===c&&u===h}negate(){return new O(S(-this.x),this.y,this.z,S(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=nt,s=S(t*t),o=S(r*r),a=S(De*S(n*n)),f=S(i*s),c=t+r,u=S(S(c*c)-s-o),h=f+o,l=h-a,d=f-o,p=S(u*l),g=S(h*d),x=S(u*d),v=S(l*h);return new O(p,g,v,x)}add(t){Ya(t);let{x:r,y:n,z:i,t:s}=this,{x:o,y:a,z:f,t:c}=t,u=S((n-r)*(a+o)),h=S((n+r)*(a-o)),l=S(h-u);if(l===wt)return this.double();let d=S(i*De*c),p=S(s*De*f),g=p+d,x=h+u,v=p-d,B=S(g*l),A=S(x*v),D=S(g*v),I=S(l*x);return new O(B,A,I,D)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(O.BASE)&&(r=at.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&os.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=O.normalizeZ(i),os.set(r,i)));let s=O.ZERO,o=O.BASE,a=1+256/n,f=2**(n-1),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<a;l++){let d=l*f,p=Number(t&c);t>>=h,p>f&&(p-=u,t+=q);let g=d,x=d+Math.abs(p)-1,v=l%2!==0,B=p<0;p===0?o=o.add(Za(v,i[g])):s=s.add(Za(B,i[x]))}return O.normalizeZ([s,o])[0]}multiply(t,r){return this.wNAF(Un(t,nt.l),r)}multiplyUnsafe(t){let r=Un(t,nt.l,!1),n=O.BASE,i=O.ZERO;if(r===wt)return i;if(this.equals(i)||r===q)return this;if(this.equals(n))return this.wNAF(r);let s=i,o=this;for(;r>wt;)r&q&&(s=s.add(o)),o=o.double(),r>>=q;return s}isSmallOrder(){return this.multiplyUnsafe(nt.h).equals(O.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(nt.l/De).double();return nt.l%De&&(t=t.add(this)),t.equals(O.ZERO)}toAffine(t){let{x:r,y:n,z:i}=this,s=this.equals(O.ZERO);t==null&&(t=s?ap:Kn(i));let o=S(r*t),a=S(n*t),f=S(i*t);if(s)return at.ZERO;if(f!==q)throw new Error("invZ was invalid");return new at(o,a)}fromRistrettoBytes(){ns()}toRistrettoBytes(){ns()}fromRistrettoHash(){ns()}};O.BASE=new O(nt.Gx,nt.Gy,q,S(nt.Gx*nt.Gy));O.ZERO=new O(wt,q,q,wt);function Za(e,t){let r=t.negate();return e?r:t}function Ya(e){if(!(e instanceof O))throw new TypeError("ExtendedPoint expected")}function rs(e){if(!(e instanceof Nt))throw new TypeError("RistrettoPoint expected")}function ns(){throw new Error("Legacy method: switch to RistrettoPoint")}var Nt=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=nt,n=S(Gr*t*t),i=S((n+q)*up),s=BigInt(-1),o=S((s-r*n)*S(n+r)),{isValid:a,value:f}=fs(i,o),c=S(f*t);Ne(c)||(c=S(-c)),a||(f=c),a||(s=n);let u=S(s*(n-q)*hp-o),h=f*f,l=S((f+f)*o),d=S(u*fp),p=S(q-h),g=S(q+h);return new O(S(l*g),S(p*d),S(d*g),S(l*p))}static hashToCurve(t){t=Le(t,64);let r=is(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=is(t.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new Nt(n.add(s))}static fromHex(t){t=Le(t,32);let{a:r,d:n}=nt,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=is(t);if(!gp(Wr(s),t)||Ne(s))throw new Error(i);let o=S(s*s),a=S(q+r*o),f=S(q-r*o),c=S(a*a),u=S(f*f),h=S(r*n*c-u),{isValid:l,value:d}=Xa(S(h*u)),p=S(d*f),g=S(d*p*h),x=S((s+s)*p);Ne(x)&&(x=S(-x));let v=S(a*g),B=S(x*v);if(!l||Ne(B)||v===wt)throw new Error(i);return new Nt(new O(x,v,q,B))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,s=S(S(n+r)*S(n-r)),o=S(t*r),a=S(o*o),{value:f}=Xa(S(s*a)),c=S(f*s),u=S(f*o),h=S(c*u*i),l;if(Ne(i*h)){let p=S(r*Gr),g=S(t*Gr);t=p,r=g,l=S(c*cp)}else l=u;Ne(t*h)&&(r=S(-r));let d=S((n-r)*l);return Ne(d)&&(d=S(-d)),Wr(d)}toHex(){return $r(this.toRawBytes())}toString(){return this.toHex()}equals(t){rs(t);let r=this.ep,n=t.ep,i=S(r.x*n.y)===S(r.y*n.x),s=S(r.y*n.y)===S(r.x*n.x);return i||s}add(t){return rs(t),new Nt(this.ep.add(t.ep))}subtract(t){return rs(t),new Nt(this.ep.subtract(t.ep))}multiply(t){return new Nt(this.ep.multiply(t))}multiplyUnsafe(t){return new Nt(this.ep.multiplyUnsafe(t))}};Nt.BASE=new Nt(O.BASE);Nt.ZERO=new Nt(O.ZERO);var os=new WeakMap,at=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,os.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=nt;t=Le(t,32);let s=t.slice();s[31]=t[31]&-129;let o=Zr(s);if(r&&o>=i)throw new Error("Expected 0 < hex < P");if(!r&&o>=Ja)throw new Error("Expected 0 < hex < 2**256");let a=S(o*o),f=S(a-q),c=S(n*a+q),{isValid:u,value:h}=fs(f,c);if(!u)throw new Error("Point.fromHex: invalid y coordinate");let l=(h&q)===q;return(t[31]&128)!==0!==l&&(h=S(-h)),new at(h,o)}static async fromPrivateKey(t){return(await Fn(t)).point}toRawBytes(){let t=Wr(this.y);return t[31]|=this.x&q?128:0,t}toHex(){return $r(this.toRawBytes())}toX25519(){let{y:t}=this,r=S((q+t)*Kn(q-t));return Wr(r)}isTorsionFree(){return O.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new at(S(-this.x),this.y)}add(t){return O.fromAffine(this).add(O.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return O.fromAffine(this).multiply(t,this).toAffine()}};at.BASE=new at(nt.Gx,nt.Gy);at.ZERO=new at(wt,q);var Qe=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=Le(t,64),n=at.fromHex(r.slice(0,32),!1),i=Zr(r.slice(32,64));return new Qe(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof at))throw new Error("Expected Point instance");return Un(r,nt.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(Wr(this.s),32),t}toHex(){return $r(this.toRawBytes())}};function Qa(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var lp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $r(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=lp[e[r]];return t}function as(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function ja(e){let r=e.toString(16).padStart(64,"0");return as(r)}function Wr(e){return ja(e).reverse()}function Ne(e){return(S(e)&q)===q}function Zr(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+$r(Uint8Array.from(e).reverse()))}var pp=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function is(e){return S(Zr(e)&pp)}function S(e,t=nt.P){let r=e%t;return r>=wt?r:t+r}function Kn(e,t=nt.P){if(e===wt||t<=wt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=S(e,t),n=t,i=wt,s=q,o=q,a=wt;for(;r!==wt;){let c=n/r,u=n%r,h=i-o*c,l=s-a*c;n=r,r=u,i=o,s=a,o=h,a=l}if(n!==q)throw new Error("invert: does not exist");return S(i,t)}function dp(e,t=nt.P){let r=new Array(e.length),n=e.reduce((s,o,a)=>o===wt?s:(r[a]=s,S(s*o,t)),q),i=Kn(n,t);return e.reduceRight((s,o,a)=>o===wt?s:(r[a]=S(s*r[a],t),S(s*o,t)),i),r}function ne(e,t){let{P:r}=nt,n=e;for(;t-- >wt;)n*=n,n%=r;return n}function yp(e){let{P:t}=nt,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),f=e*e%t*e%t,c=ne(f,De)*f%t,u=ne(c,q)*e%t,h=ne(u,r)*u%t,l=ne(h,n)*h%t,d=ne(l,i)*l%t,p=ne(d,s)*d%t,g=ne(p,o)*p%t,x=ne(g,o)*p%t,v=ne(x,n)*h%t;return{pow_p_5_8:ne(v,De)*e%t,b2:f}}function fs(e,t){let r=S(t*t*t),n=S(r*r*t),i=yp(e*n).pow_p_5_8,s=S(e*r*i),o=S(t*s*s),a=s,f=S(s*Gr),c=o===e,u=o===S(-e),h=o===S(-e*Gr);return c&&(s=a),(u||h)&&(s=f),Ne(s)&&(s=S(-s)),{isValid:c||u,value:s}}function Xa(e){return fs(q,e)}function Pn(e){return S(Zr(e),nt.l)}function gp(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Le(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):as(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function Un(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(wt<e)return e}else if(wt<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function mp(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function xp(e){if(e=typeof e=="bigint"||typeof e=="number"?ja(Un(e,Ja)):Le(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function vp(e){let t=mp(e.slice(0,32)),r=e.slice(32,64),n=Pn(t),i=at.BASE.multiply(n),s=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}var ss;async function Fn(e){return vp(await Pe.sha512(xp(e)))}async function cs(e){return(await Fn(e)).pointBytes}async function t0(e,t){e=Le(e);let{prefix:r,scalar:n,pointBytes:i}=await Fn(t),s=Pn(await Pe.sha512(r,e)),o=at.BASE.multiply(s),a=Pn(await Pe.sha512(o.toRawBytes(),i,e)),f=S(s+a*n,nt.l);return new Qe(o,f).toRawBytes()}function bp(e,t,r){t=Le(t),r instanceof at||(r=at.fromHex(r,!1));let{r:n,s:i}=e instanceof Qe?e.assertValidity():Qe.fromHex(e),s=O.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:t}}function wp(e,t,r,n){let i=Pn(n),s=O.fromAffine(e).multiplyUnsafe(i);return O.fromAffine(t).add(s).subtract(r).multiplyUnsafe(nt.h).equals(O.ZERO)}async function e0(e,t,r){let{r:n,SB:i,msg:s,pub:o}=bp(e,t,r),a=await Pe.sha512(n.toRawBytes(),o.toRawBytes(),s);return wp(o,n,i,a)}at.BASE._setWindowSize(8);var ke={node:op,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Pe={bytesToHex:$r,hexToBytes:as,concatBytes:Qa,getExtendedPublicKey:Fn,mod:S,invert:Kn,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=Le(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return S(Zr(e),nt.l-q)+q},randomBytes:(e=32)=>{if(ke.web)return ke.web.getRandomValues(new Uint8Array(e));if(ke.node){let{randomBytes:t}=ke.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Pe.randomBytes(32),sha512:async(...e)=>{let t=Qa(...e);if(ke.web){let r=await ke.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if(ke.node)return Uint8Array.from(ke.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=at.BASE){let r=t.equals(at.BASE)?t:new at(t.x,t.y);return r._setWindowSize(e),r.multiply(De),r},sha512Sync:void 0};Object.defineProperties(Pe,{sha512Sync:{configurable:!1,get(){return ss},set(e){ss||(ss=e)}}});var mr=32,xe=64,On=32;async function r0(){let e=Pe.randomPrivateKey(),t=await cs(e);return{privateKey:o0(e,t),publicKey:t}}async function n0(e){if(e.length!==On)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let t=e,r=await cs(t);return{privateKey:o0(t,r),publicKey:r}}async function i0(e,t){let r=e.subarray(0,On);return t0(t,r)}async function s0(e,t,r){return e0(t,r,e)}function o0(e,t){let r=new Uint8Array(xe);for(let n=0;n<On;n++)r[n]=e[n],r[On+n]=t[n];return r}function mt(e,t){t==null&&(t=e.reduce((i,s)=>i+s.length,0));let r=me(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return $e(r)}var Dt={get(e=globalThis){let t=e.crypto;if(t==null||t.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}};var us={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function hs(e){let t=e?.algorithm??"AES-GCM",r=e?.keyLength??16,n=e?.nonceLength??12,i=e?.digest??"SHA-256",s=e?.saltLength??16,o=e?.iterations??32767,a=Dt.get();r*=8;async function f(h,l){let d=a.getRandomValues(new Uint8Array(s)),p=a.getRandomValues(new Uint8Array(n)),g={name:t,iv:p};typeof l=="string"&&(l=Ct(l));let x;if(l.length===0){x=await a.subtle.importKey("jwk",us,{name:"AES-GCM"},!0,["encrypt"]);try{let B={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},A=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);x=await a.subtle.deriveKey(B,A,{name:t,length:r},!0,["encrypt"])}catch{x=await a.subtle.importKey("jwk",us,{name:"AES-GCM"},!0,["encrypt"])}}else{let B={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},A=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);x=await a.subtle.deriveKey(B,A,{name:t,length:r},!0,["encrypt"])}let v=await a.subtle.encrypt(g,x,h);return mt([d,g.iv,new Uint8Array(v)])}async function c(h,l){let d=h.subarray(0,s),p=h.subarray(s,s+n),g=h.subarray(s+n),x={name:t,iv:p};typeof l=="string"&&(l=Ct(l));let v;if(l.length===0)try{let A={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},D=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);v=await a.subtle.deriveKey(A,D,{name:t,length:r},!0,["decrypt"])}catch{v=await a.subtle.importKey("jwk",us,{name:"AES-GCM"},!0,["decrypt"])}else{let A={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},D=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);v=await a.subtle.deriveKey(A,D,{name:t,length:r},!0,["decrypt"])}let B=await a.subtle.decrypt(x,v,g);return new Uint8Array(B)}return{encrypt:f,decrypt:c}}async function xr(e,t){let n=await hs().encrypt(e,t);return Nn.encode(n)}var Bs=ct(gs(),1),Z0=ct(M0(),1),Y0=ct(Je(),1),As=ct(Es(),1),Q0=ct($0(),1);function Np(){Y0.default._configure(),Bs.default._configure(Z0.default),As.default._configure(Q0.default)}Np();var X0=["uint64","int64","sint64","fixed64","sfixed64"];function Dp(e){for(let t of X0){if(e[t]==null)continue;let r=e[t];e[t]=function(){return BigInt(r.call(this).toString())}}return e}function Cs(e){return Dp(new Bs.default(e))}function Lp(e){for(let t of X0){if(e[t]==null)continue;let r=e[t];e[t]=function(n){return r.call(this,n.toString())}}return e}function Is(){return Lp(As.default.create())}function ve(e,t){let r=Cs(e instanceof Uint8Array?e:e.subarray());return t.decode(r)}function be(e,t){let r=Is();return t.encode(e,r,{lengthDelimited:!1}),r.finish()}var br;(function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"})(br||(br={}));function Hn(e,t,r,n){return{name:e,type:t,encode:r,decode:n}}function Ts(e){function t(i){if(e[i.toString()]==null)throw new Error("Invalid enum value");return e[i]}let r=function(s,o){let a=t(s);o.int32(a)},n=function(s){let o=s.int32();return t(o)};return Hn("enum",br.VARINT,r,n)}function we(e,t){return Hn("message",br.LENGTH_DELIMITED,e,t)}var ft;(function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"})(ft||(ft={}));var _s;(function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"})(_s||(_s={}));(function(e){e.codec=()=>Ts(_s)})(ft||(ft={}));var oe;(function(e){let t;e.codec=()=>(t==null&&(t=we((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),ft.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=ft.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>be(r,e.codec()),e.decode=r=>ve(r,e.codec())})(oe||(oe={}));var ae;(function(e){let t;e.codec=()=>(t==null&&(t=we((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),ft.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=ft.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>be(r,e.codec()),e.decode=r=>ve(r,e.codec())})(ae||(ae={}));var Xr=class{_key;constructor(t){this._key=wr(t,mr)}async verify(t,r){return s0(this._key,r,t)}marshal(){return this._key}get bytes(){return oe.encode({Type:ft.Ed25519,Data:this.marshal()}).subarray()}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}},tr=class{_key;_publicKey;constructor(t,r){this._key=wr(t,xe),this._publicKey=wr(r,mr)}async sign(t){return i0(this._key,t)}get public(){return new Xr(this._publicKey)}marshal(){return this._key}get bytes(){return ae.encode({Type:ft.Ed25519,Data:this.marshal()}).subarray()}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}async id(){let t=_e.digest(this.public.bytes);return yt.encode(t.bytes).substring(1)}async export(t,r="libp2p-key"){if(r==="libp2p-key")return xr(this.bytes,t);throw new $(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Pp(e){if(e.length>xe){e=wr(e,xe+mr);let n=e.subarray(0,xe),i=e.subarray(xe,e.length);return new tr(n,i)}e=wr(e,xe);let t=e.subarray(0,xe),r=e.subarray(mr);return new tr(t,r)}function Up(e){return e=wr(e,mr),new Xr(e)}async function Kp(){let{privateKey:e,publicKey:t}=await r0();return new tr(e,t)}async function J0(e){let{privateKey:t,publicKey:r}=await n0(e);return new tr(t,r)}function wr(e,t){if(e=Uint8Array.from(e??[]),e.length!==t)throw new $(`Key must be a Uint8Array of length ${t}, got ${e.length}`,"ERR_INVALID_KEY_TYPE");return e}function j(e,t="utf8"){let r=Ln[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var _2=ct(dt(),1),R2=ct(Tn(),1),j0=ct(X(),1);function $t(e,t){let r=Uint8Array.from(e.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=mt([new Uint8Array(t-r.length),r])}return j(r,"base64url")}function Pt(e){let t=tf(e);return new j0.default.jsbn.BigInteger(j(t,"base16"),16)}function tf(e,t){let r=Ct(e,"base64urlpad");if(t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=mt([new Uint8Array(t-r.length),r])}return r}var Fp={"P-256":256,"P-384":384,"P-521":521},Op=Object.keys(Fp),V2=Op.join(" / ");var Vs={};Bt(Vs,{RsaPrivateKey:()=>Tr,RsaPublicKey:()=>sn,fromJwk:()=>hd,generateKeyPair:()=>ld,unmarshalRsaPrivateKey:()=>cd,unmarshalRsaPublicKey:()=>ud});var nn=ct(X(),1);var Ag=ct(of(),1);var qp=ct(ur(),1);var z=BigInt(0),st=BigInt(1),Oe=BigInt(2),tn=BigInt(3),af=BigInt(8),ht=Object.freeze({a:z,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:st,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),ff=(e,t)=>(e+t/Oe)/t,Wn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=ht,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-st*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=ff(s*e,t),f=ff(-n*e,t),c=R(e-a*r-f*i,t),u=R(-a*n-f*s,t),h=c>o,l=u>o;if(h&&(c=t-c),l&&(u=t-u),c>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:l,k2:u}}},Zt=32,Br=32,zp=32,cf=Zt+1,uf=2*Zt+1;function hf(e){let{a:t,b:r}=ht,n=R(e*e),i=R(n*e);return R(i+t*e+r)}var $n=ht.a===z,Qn=class extends Error{constructor(t){super(t)}};function lf(e){if(!(e instanceof W))throw new TypeError("JacobianPoint expected")}var W=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof Y))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Y.ZERO)?W.ZERO:new W(t.x,t.y,st)}static toAffineBatch(t){let r=Zp(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return W.toAffineBatch(t).map(W.fromAffine)}equals(t){lf(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t,f=R(i*i),c=R(a*a),u=R(r*c),h=R(s*f),l=R(R(n*a)*c),d=R(R(o*i)*f);return u===h&&l===d}negate(){return new W(this.x,R(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=R(t*t),s=R(r*r),o=R(s*s),a=t+s,f=R(Oe*(R(a*a)-i-o)),c=R(tn*i),u=R(c*c),h=R(u-Oe*f),l=R(c*(f-h)-af*o),d=R(Oe*r*n);return new W(h,l,d)}add(t){lf(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t;if(s===z||o===z)return this;if(r===z||n===z)return t;let f=R(i*i),c=R(a*a),u=R(r*c),h=R(s*f),l=R(R(n*a)*c),d=R(R(o*i)*f),p=R(h-u),g=R(d-l);if(p===z)return g===z?this.double():W.ZERO;let x=R(p*p),v=R(p*x),B=R(u*x),A=R(g*g-v-Oe*B),D=R(g*(B-A)-l*v),I=R(i*a*p);return new W(A,D,I)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=W.ZERO;if(typeof t=="bigint"&&t===z)return r;let n=yf(t);if(n===st)return this;if(!$n){let h=r,l=this;for(;n>z;)n&st&&(h=h.add(l)),l=l.double(),n>>=st;return h}let{k1neg:i,k1:s,k2neg:o,k2:a}=Wn.splitScalar(n),f=r,c=r,u=this;for(;s>z||a>z;)s&st&&(f=f.add(u)),a&st&&(c=c.add(u)),u=u.double(),s>>=st,a>>=st;return i&&(f=f.negate()),o&&(c=c.negate()),c=new W(R(c.x*Wn.beta),c.y,c.z),f.add(c)}precomputeWindow(t){let r=$n?128/t+1:256/t+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(W.BASE)&&(r=Y.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Ls.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=W.normalizeZ(i),Ls.set(r,i)));let s=W.ZERO,o=W.BASE,a=1+($n?128/n:256/n),f=2**(n-1),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<a;l++){let d=l*f,p=Number(t&c);t>>=h,p>f&&(p-=u,t+=st);let g=d,x=d+Math.abs(p)-1,v=l%2!==0,B=p<0;p===0?o=o.add(Zn(v,i[g])):s=s.add(Zn(B,i[x]))}return{p:s,f:o}}multiply(t,r){let n=yf(t),i,s;if($n){let{k1neg:o,k1:a,k2neg:f,k2:c}=Wn.splitScalar(n),{p:u,f:h}=this.wNAF(a,r),{p:l,f:d}=this.wNAF(c,r);u=Zn(o,u),l=Zn(f,l),l=new W(R(l.x*Wn.beta),l.y,l.z),i=u.add(l),s=h.add(d)}else{let{p:o,f:a}=this.wNAF(n,r);i=o,s=a}return W.normalizeZ([i,s])[0]}toAffine(t){let{x:r,y:n,z:i}=this,s=this.equals(W.ZERO);t==null&&(t=s?af:Ir(i));let o=t,a=R(o*o),f=R(a*o),c=R(r*a),u=R(n*f),h=R(i*o);if(s)return Y.ZERO;if(h!==st)throw new Error("invZ was invalid");return new Y(c,u)}};W.BASE=new W(ht.Gx,ht.Gy,st);W.ZERO=new W(z,st,z);function Zn(e,t){let r=t.negate();return e?r:t}var Ls=new WeakMap,Y=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Ls.delete(this)}hasEvenY(){return this.y%Oe===z}static fromCompressedHex(t){let r=t.length===32,n=Me(r?t:t.subarray(1));if(!Ds(n))throw new Error("Point is not on curve");let i=hf(n),s=$p(i),o=(s&st)===st;r?o&&(s=R(-s)):(t[0]&1)===1!==o&&(s=R(-s));let a=new Y(n,s);return a.assertValidity(),a}static fromUncompressedHex(t){let r=Me(t.subarray(1,Zt+1)),n=Me(t.subarray(Zt+1,Zt*2+1)),i=new Y(r,n);return i.assertValidity(),i}static fromHex(t){let r=Cr(t),n=r.length,i=r[0];if(n===Zt)return this.fromCompressedHex(r);if(n===cf&&(i===2||i===3))return this.fromCompressedHex(r);if(n===uf&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${cf} compressed bytes or ${uf} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return Y.BASE.multiply(Jn(t))}static fromSignature(t,r,n){let{r:i,s}=gf(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let o=Ks(Cr(t)),{n:a}=ht,f=n===2||n===3?i+a:i,c=Ir(f,a),u=R(-o*c,a),h=R(s*c,a),l=n&1?"03":"02",d=Y.fromHex(l+Sr(f)),p=Y.BASE.multiplyAndAddUnsafe(d,u,h);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return rr(this.toHex(t))}toHex(t=!1){let r=Sr(this.x);return t?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Sr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!Ds(r)||!Ds(n))throw new Error(t);let i=R(n*n),s=hf(r);if(R(i-s)!==z)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Y(this.x,R(-this.y))}double(){return W.fromAffine(this).double().toAffine()}add(t){return W.fromAffine(this).add(W.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return W.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=W.fromAffine(this),s=r===z||r===st||this!==Y.BASE?i.multiplyUnsafe(r):i.multiply(r),o=W.fromAffine(t).multiplyUnsafe(n),a=s.add(o);return a.equals(W.ZERO)?void 0:a.toAffine()}};Y.BASE=new Y(ht.Gx,ht.Gy);Y.ZERO=new Y(z,z);function pf(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function df(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Ar(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Me(r),left:e.subarray(t+2)}}function Hp(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Ar(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=df(e.subarray(2)),{data:n,left:i}=df(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Ar(i)}`);return{r:t,s:n}}var fe=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Ar(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new fe(Xn(i.slice(0,64)),Xn(i.slice(64,128)))}static fromDER(t){let r=t instanceof Uint8Array;if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Hp(r?t:rr(t));return new fe(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!rn(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!rn(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=ht.n>>st;return this.s>t}normalizeS(){return this.hasHighS()?new fe(this.r,R(-this.s,ht.n)):this}toDERRawBytes(){return rr(this.toDERHex())}toDERHex(){let t=pf(jr(this.s)),r=pf(jr(this.r)),n=t.length/2,i=r.length/2,s=jr(n),o=jr(i);return`30${jr(i+n+4)}02${o}${r}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return rr(this.toCompactHex())}toCompactHex(){return Sr(this.r)+Sr(this.s)}};function Fe(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var Gp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ar(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Gp[e[r]];return t}var Wp=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Sr(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(z<=e&&e<Wp))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Ps(e){let t=rr(Sr(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function jr(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Xn(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function rr(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function Me(e){return Xn(Ar(e))}function Cr(e){return e instanceof Uint8Array?Uint8Array.from(e):rr(e)}function yf(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&rn(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function R(e,t=ht.P){let r=e%t;return r>=z?r:t+r}function Vt(e,t){let{P:r}=ht,n=e;for(;t-- >z;)n*=n,n%=r;return n}function $p(e){let{P:t}=ht,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),f=e*e*e%t,c=f*f*e%t,u=Vt(c,tn)*c%t,h=Vt(u,tn)*c%t,l=Vt(h,Oe)*f%t,d=Vt(l,n)*l%t,p=Vt(d,i)*d%t,g=Vt(p,o)*p%t,x=Vt(g,a)*g%t,v=Vt(x,o)*p%t,B=Vt(v,tn)*c%t,A=Vt(B,s)*d%t,D=Vt(A,r)*f%t,I=Vt(D,Oe);if(I*I%t!==e)throw new Error("Cannot find square root");return I}function Ir(e,t=ht.P){if(e===z||t<=z)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=R(e,t),n=t,i=z,s=st,o=st,a=z;for(;r!==z;){let c=n/r,u=n%r,h=i-o*c,l=s-a*c;n=r,r=u,i=o,s=a,o=h,a=l}if(n!==st)throw new Error("invert: does not exist");return R(i,t)}function Zp(e,t=ht.P){let r=new Array(e.length),n=e.reduce((s,o,a)=>o===z?s:(r[a]=s,R(s*o,t)),st),i=Ir(n,t);return e.reduceRight((s,o,a)=>o===z?s:(r[a]=R(s*r[a],t),R(s*o,t)),i),r}function Yp(e){let t=e.length*8-Br*8,r=Me(e);return t>0?r>>BigInt(t):r}function Ks(e,t=!1){let r=Yp(e);if(t)return r;let{n}=ht;return r>=n?r-n:r}var Er,en,Us=class{constructor(t,r){if(this.hashLen=t,this.qByteLen=r,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Yt.hmacSha256(this.k,...t)}hmacSync(...t){return en(this.k,...t)}checkSync(){if(typeof en!="function")throw new Qn("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Fe(...r)}generateSync(){this.checkSync(),this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Fe(...r)}};function rn(e){return z<e&&e<ht.n}function Ds(e){return z<e&&e<ht.P}function Qp(e,t,r,n=!0){let{n:i}=ht,s=Ks(e,!0);if(!rn(s))return;let o=Ir(s,i),a=Y.BASE.multiply(s),f=R(a.x,i);if(f===z)return;let c=R(o*R(t+r*f,i),i);if(c===z)return;let u=new fe(f,c),h=(a.x===u.r?0:2)|Number(a.y&st);return n&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function Jn(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Br)throw new Error("Expected 32 bytes of private key");t=Xn(e)}else if(e instanceof Uint8Array){if(e.length!==Br)throw new Error("Expected 32 bytes of private key");t=Me(e)}else throw new TypeError("Expected valid private key");if(!rn(t))throw new Error("Expected private key: 0 < key < n");return t}function Xp(e){return e instanceof Y?(e.assertValidity(),e):Y.fromHex(e)}function gf(e){if(e instanceof fe)return e.assertValidity(),e;try{return fe.fromDER(e)}catch{return fe.fromCompact(e)}}function Fs(e,t=!1){return Y.fromPrivateKey(e).toRawBytes(t)}function mf(e){let t=e.length>Zt?e.slice(0,Zt):e;return Me(t)}function Jp(e){let t=mf(e),r=R(t,ht.n);return xf(r<z?t:r)}function xf(e){return Ps(e)}function jp(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=Cr(e),i=Jn(t),s=[xf(i),Jp(n)];if(r!=null){r===!0&&(r=Yt.randomBytes(Zt));let f=Cr(r);if(f.length!==Zt)throw new Error(`sign: Expected ${Zt} bytes of extra data`);s.push(f)}let o=Fe(...s),a=mf(n);return{seed:o,m:a,d:i}}function td(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},t),o=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}async function vf(e,t,r={}){let{seed:n,m:i,d:s}=jp(e,t,r.extraEntropy),o=new Us(zp,Br);await o.reseed(n);let a;for(;!(a=Qp(await o.generate(),i,s,r.canonical));)await o.reseed();return td(a,r)}var ed={strict:!0};function bf(e,t,r,n=ed){let i;try{i=gf(e),t=Cr(t)}catch{return!1}let{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;let a=Ks(t),f;try{f=Xp(r)}catch{return!1}let{n:c}=ht,u=Ir(o,c),h=R(a*u,c),l=R(s*u,c),d=Y.BASE.multiplyAndAddUnsafe(f,h,l);return d?R(d.x,c)===s:!1}Y.BASE._setWindowSize(8);var Ut={node:qp,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Yn={},Yt={bytesToHex:Ar,hexToBytes:rr,concatBytes:Fe,mod:R,invert:Ir,isValidPrivateKey(e){try{return Jn(e),!0}catch{return!1}},_bigintTo32Bytes:Ps,_normalizePrivateKey:Jn,hashToPrivateKey:e=>{e=Cr(e);let t=Br+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=R(Me(e),ht.n-st)+st;return Ps(r)},randomBytes:(e=32)=>{if(Ut.web)return Ut.web.getRandomValues(new Uint8Array(e));if(Ut.node){let{randomBytes:t}=Ut.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Yt.hashToPrivateKey(Yt.randomBytes(Br+8)),precompute(e=8,t=Y.BASE){let r=t===Y.BASE?t:new Y(t.x,t.y);return r._setWindowSize(e),r.multiply(tn),r},sha256:async(...e)=>{if(Ut.web){let t=await Ut.web.subtle.digest("SHA-256",Fe(...e));return new Uint8Array(t)}else if(Ut.node){let{createHash:t}=Ut.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Ut.web){let r=await Ut.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Fe(...t),i=await Ut.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Ut.node){let{createHmac:r}=Ut.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=Yn[e];if(r===void 0){let n=await Yt.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Fe(n,n),Yn[e]=r}return Yt.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof Er!="function")throw new Qn("sha256Sync is undefined, you need to set it");let r=Yn[e];if(r===void 0){let n=Er(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Fe(n,n),Yn[e]=r}return Er(r,...t)},_JacobianPoint:W};Object.defineProperties(Yt,{sha256Sync:{configurable:!1,get(){return Er},set(e){Er||(Er=e)}},hmacSha256Sync:{configurable:!1,get(){return en},set(e){en||(en=e)}}});function jn(e){if(isNaN(e)||e<=0)throw new $("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return Yt.randomBytes(e)}var ag=ct(kn(),1),Os=ct(X(),1);function wf(e,t){return t.map(r=>Pt(e[r]))}function Sf(e){return Os.default.pki.setRsaPrivateKey(...wf(e,["n","e","d","p","q","dp","dq","qi"]))}function Ef(e){return Os.default.pki.setRsaPublicKey(...wf(e,["n","e"]))}var nr={};Bt(nr,{jwkToPkcs1:()=>id,jwkToPkix:()=>od,pkcs1ToJwk:()=>nd,pkixToJwk:()=>sd});var ug=ct(Or(),1),hg=ct(kn(),1);var Se=ct(X(),1);function nd(e){let t=Se.default.asn1.fromDer(j(e,"ascii")),r=Se.default.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:$t(r.n),e:$t(r.e),d:$t(r.d),p:$t(r.p),q:$t(r.q),dp:$t(r.dP),dq:$t(r.dQ),qi:$t(r.qInv),alg:"RS256"}}function id(e){if(e.n==null||e.e==null||e.d==null||e.p==null||e.q==null||e.dp==null||e.dq==null||e.qi==null)throw new $("JWK was missing components","ERR_INVALID_PARAMETERS");let t=Se.default.pki.privateKeyToAsn1({n:Pt(e.n),e:Pt(e.e),d:Pt(e.d),p:Pt(e.p),q:Pt(e.q),dP:Pt(e.dp),dQ:Pt(e.dq),qInv:Pt(e.qi)});return Ct(Se.default.asn1.toDer(t).getBytes(),"ascii")}function sd(e){let t=Se.default.asn1.fromDer(j(e,"ascii")),r=Se.default.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:$t(r.n),e:$t(r.e)}}function od(e){if(e.n==null||e.e==null)throw new $("JWK was missing components","ERR_INVALID_PARAMETERS");let t=Se.default.pki.publicKeyToAsn1({n:Pt(e.n),e:Pt(e.e)});return Ct(Se.default.asn1.toDer(t).getBytes(),"ascii")}async function Bf(e){let t=await Dt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await If(t);return{privateKey:r[0],publicKey:r[1]}}async function Ms(e){let r=[await Dt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await ad(e)],n=await If({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function Af(e,t){let r=await Dt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Dt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(t));return new Uint8Array(n,0,n.byteLength)}async function Cf(e,t,r){let n=await Dt.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Dt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,t,r)}async function If(e){if(e.privateKey==null||e.publicKey==null)throw new $("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([Dt.get().subtle.exportKey("jwk",e.privateKey),Dt.get().subtle.exportKey("jwk",e.publicKey)])}async function ad(e){return Dt.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Tf(e,t,r,n){let i=t?Ef(e):Sf(e),s=j(Uint8Array.from(r),"ascii"),o=n(s,i);return Ct(o,"ascii")}function _f(e,t){return Tf(e,!0,t,(r,n)=>n.encrypt(r))}function Rf(e,t){return Tf(e,!1,t,(r,n)=>n.decrypt(r))}var sn=class{_key;constructor(t){this._key=t}async verify(t,r){return Cf(this._key,r,t)}marshal(){return nr.jwkToPkix(this._key)}get bytes(){return oe.encode({Type:ft.RSA,Data:this.marshal()}).subarray()}encrypt(t){return _f(this._key,t)}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}},Tr=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r}genSecret(){return jn(16)}async sign(t){return Af(this._key,t)}get public(){if(this._publicKey==null)throw new $("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new sn(this._publicKey)}decrypt(t){return Rf(this._key,t)}marshal(){return nr.jwkToPkcs1(this._key)}get bytes(){return ae.encode({Type:ft.RSA,Data:this.marshal()}).subarray()}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}async id(){let t=await this.public.hash();return j(t,"base58btc")}async export(t,r="pkcs-8"){if(r==="pkcs-8"){let n=new nn.default.util.ByteBuffer(this.marshal()),i=nn.default.asn1.fromDer(n),s=nn.default.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return nn.default.pki.encryptRsaPrivateKey(s,t,o)}else{if(r==="libp2p-key")return xr(this.bytes,t);throw new $(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function cd(e){let t=nr.pkcs1ToJwk(e),r=await Ms(t);return new Tr(r.privateKey,r.publicKey)}function ud(e){let t=nr.pkixToJwk(e);return new sn(t)}async function hd(e){let t=await Ms(e);return new Tr(t.privateKey,t.publicKey)}async function ld(e){let t=await Bf(e);return new Tr(t.privateKey,t.publicKey)}var zs={};Bt(zs,{Secp256k1PrivateKey:()=>an,Secp256k1PublicKey:()=>on,generateKeyPair:()=>gd,unmarshalSecp256k1PrivateKey:()=>dd,unmarshalSecp256k1PublicKey:()=>yd});function kf(){return Yt.randomPrivateKey()}async function Nf(e,t){let{digest:r}=await At.digest(t);try{return await vf(r,e)}catch(n){throw new $(String(n),"ERR_INVALID_INPUT")}}async function Df(e,t,r){try{let{digest:n}=await At.digest(r);return bf(t,n,e)}catch(n){throw new $(String(n),"ERR_INVALID_INPUT")}}function Lf(e){return Y.fromHex(e).toRawBytes(!0)}function Pf(e){try{Fs(e,!0)}catch(t){throw new $(String(t),"ERR_INVALID_PRIVATE_KEY")}}function qs(e){try{Y.fromHex(e)}catch(t){throw new $(String(t),"ERR_INVALID_PUBLIC_KEY")}}function Uf(e){try{return Fs(e,!0)}catch(t){throw new $(String(t),"ERR_INVALID_PRIVATE_KEY")}}var on=class{_key;constructor(t){qs(t),this._key=t}async verify(t,r){return Df(this._key,r,t)}marshal(){return Lf(this._key)}get bytes(){return oe.encode({Type:ft.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}},an=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r??Uf(t),Pf(this._key),qs(this._publicKey)}async sign(t){return Nf(this._key,t)}get public(){return new on(this._publicKey)}marshal(){return this._key}get bytes(){return ae.encode({Type:ft.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return gt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await At.digest(this.bytes);return t}async id(){let t=await this.public.hash();return j(t,"base58btc")}async export(t,r="libp2p-key"){if(r==="libp2p-key")return xr(this.bytes,t);throw new $(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function dd(e){return new an(e)}function yd(e){return new on(e)}async function gd(){let e=kf();return new an(e)}var ir={rsa:Vs,ed25519:Rs,secp256k1:zs};function Kf(e){let t=Object.keys(ir).join(" / ");return new $(`invalid or unsupported key type ${e}. Must be ${t}`,"ERR_UNSUPPORTED_KEY_TYPE")}function Ff(e){let t=oe.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case ft.RSA:return ir.rsa.unmarshalRsaPublicKey(r);case ft.Ed25519:return ir.ed25519.unmarshalEd25519PublicKey(r);case ft.Secp256k1:return ir.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Kf(t.Type??"RSA")}}async function Of(e){let t=ae.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case ft.RSA:return ir.rsa.unmarshalRsaPrivateKey(r);case ft.Ed25519:return ir.ed25519.unmarshalEd25519PrivateKey(r);case ft.Secp256k1:return ir.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Kf(t.Type??"RSA")}}var Mf=Symbol.for("@libp2p/peer-id");var xd=Symbol.for("nodejs.util.inspect.custom"),Vf=Object.values(Re).map(e=>e.decoder).reduce((e,t)=>e.or(t),Re.identity.decoder),qf=114,Hs=36,Gs=37,fn=class{constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Mf](){return!0}toString(){return this.string==null&&(this.string=yt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return J.createV1(qf,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t instanceof Uint8Array)return gt(this.multihash.bytes,t);if(typeof t=="string")return vd(t).equals(this);if(t?.multihash?.bytes!=null)return gt(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}[xd](){return`PeerId(${this.toString()})`}},_r=class extends fn{constructor(t){super({...t,type:"RSA"}),this.type="RSA",this.publicKey=t.publicKey}},Rr=class extends fn{constructor(t){super({...t,type:"Ed25519"}),this.type="Ed25519",this.publicKey=t.multihash.digest}},kr=class extends fn{constructor(t){super({...t,type:"secp256k1"}),this.type="secp256k1",this.publicKey=t.multihash.digest}};function vd(e,t){if(t=t??Vf,e.charAt(0)==="1"||e.charAt(0)==="Q"){let r=Ze(yt.decode(`z${e}`));return e.startsWith("12D")?new Rr({multihash:r}):e.startsWith("16U")?new kr({multihash:r}):new _r({multihash:r})}return Ws(Vf.decode(e))}function Ws(e){try{let t=Ze(e);if(t.code===_e.code){if(t.digest.length===Hs)return new Rr({multihash:t});if(t.digest.length===Gs)return new kr({multihash:t})}if(t.code===At.code)return new _r({multihash:t})}catch{return bd(J.decode(e))}throw new Error("Supplied PeerID CID is invalid")}function bd(e){if(e==null||e.multihash==null||e.version==null||e.version===1&&e.code!==qf)throw new Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===At.code)return new _r({multihash:e.multihash});if(t.code===_e.code){if(t.digest.length===Hs)return new Rr({multihash:e.multihash});if(t.digest.length===Gs)return new kr({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function zf(e,t){return e.length===Hs?new Rr({multihash:re(_e.code,e),privateKey:t}):e.length===Gs?new kr({multihash:re(_e.code,e),privateKey:t}):new _r({multihash:await At.digest(e),publicKey:e,privateKey:t})}function ti(e){return e instanceof Uint8Array?{get(t){return e[t]},set(t,r){e[t]=r}}:{get(t){return e.get(t)},set(t,r){e.set(t,r)}}}var Hf=4294967296,Kt=class{constructor(t=0,r=0){this.hi=t,this.lo=r}toBigInt(t){if(t===!0)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toNumber(t){return Number(this.toBigInt(t))}zzDecode(){let t=-(this.lo&1),r=((this.lo>>>1|this.hi<<31)^t)>>>0,n=(this.hi>>>1^t)>>>0;return new Kt(n,r)}zzEncode(){let t=this.hi>>31,r=((this.hi<<1|this.lo>>>31)^t)>>>0,n=(this.lo<<1^t)>>>0;return new Kt(r,n)}toBytes(t,r=0){let n=ti(t);for(;this.hi>0;)n.set(r++,this.lo&127|128),this.lo=(this.lo>>>7|this.hi<<25)>>>0,this.hi>>>=7;for(;this.lo>127;)n.set(r++,this.lo&127|128),this.lo=this.lo>>>7;n.set(r++,this.lo)}static fromBigInt(t){if(t===0n)return new Kt;let r=t<0;r&&(t=-t);let n=Number(t>>32n)|0,i=Number(t-(BigInt(n)<<32n))|0;return r&&(n=~n>>>0,i=~i>>>0,++i>Hf&&(i=0,++n>Hf&&(n=0))),new Kt(n,i)}static fromNumber(t){if(t===0)return new Kt;let r=t<0;r&&(t=-t);let n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(i,n)}static fromBytes(t,r=0){let n=ti(t),i=new Kt,s=0;if(t.length-r>4){for(;s<4;++s)if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i;if(i.lo=(i.lo|(n.get(r)&127)<<28)>>>0,i.hi=(i.hi|(n.get(r)&127)>>4)>>>0,n.get(r++)<128)return i;s=0}else for(;s<4;++s){if(r>=t.length)throw RangeError(`index out of range: ${r} > ${t.length}`);if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i}if(t.length-r>4){for(;s<5;++s)if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}else if(r<t.byteLength)for(;s<5;++s){if(r>=t.length)throw RangeError(`index out of range: ${r} > ${t.length}`);if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}throw RangeError("invalid varint encoding")}};var wd=Math.pow(2,7),Sd=Math.pow(2,14),Ed=Math.pow(2,21),Bd=Math.pow(2,28),Ad=Math.pow(2,35),Cd=Math.pow(2,42),Id=Math.pow(2,49),Td=Math.pow(2,56),_d=Math.pow(2,63),cn={encodingLength(e){return e<wd?1:e<Sd?2:e<Ed?3:e<Bd?4:e<Ad?5:e<Cd?6:e<Id?7:e<Td?8:e<_d?9:10},encode(e,t,r=0){if(Number.MAX_SAFE_INTEGER!=null&&e>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return t==null&&(t=me(cn.encodingLength(e))),Kt.fromNumber(e).toBytes(t,r),t},decode(e,t=0){return Kt.fromBytes(e,t).toNumber(!0)}};var Wf=Symbol.for("@achingbrain/uint8arraylist");function Gf(e,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let r=0;for(let n of e){let i=r+n.byteLength;if(t<i)return{buf:n,index:t-r};r=i}throw new RangeError("index is out of bounds")}function ei(e){return!!e?.[Wf]}var Ve=class{constructor(...t){Object.defineProperty(this,Wf,{value:!0}),this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let r=0;for(let n of t)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(ei(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...t){this.prependAll(t)}prependAll(t){let r=0;for(let n of t.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(ei(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(t){let r=Gf(this.bufs,t);return r.buf[r.index]}set(t,r){let n=Gf(this.bufs,t);n.buf[n.index]=r}write(t,r=0){if(t instanceof Uint8Array)for(let n=0;n<t.length;n++)this.set(r+n,t[n]);else if(ei(t))for(let n=0;n<t.length;n++)this.set(r+n,t.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,r){let{bufs:n,length:i}=this._subList(t,r);return mt(n,i)}subarray(t,r){let{bufs:n,length:i}=this._subList(t,r);return n.length===1?n[0]:mt(n,i)}sublist(t,r){let{bufs:n,length:i}=this._subList(t,r),s=new Ve;return s.length=i,s.bufs=n,s}_subList(t,r){if(t=t??0,r=r??this.length,t<0&&(t=this.length+t),r<0&&(r=this.length+r),t<0||r>this.length)throw new RangeError("index is out of bounds");if(t===r)return{bufs:[],length:0};if(t===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let n=[],i=0;for(let s=0;s<this.bufs.length;s++){let o=this.bufs[s],a=i,f=a+o.byteLength;if(i=f,t>=f)continue;let c=t>=a&&t<f,u=r>a&&r<=f;if(c&&u){if(t===a&&r===f){n.push(o);break}let h=t-a;n.push(o.subarray(h,h+(r-t)));break}if(c){if(t===0){n.push(o);continue}n.push(o.subarray(t-a));continue}if(u){if(r===f){n.push(o);break}n.push(o.subarray(0,r-a));break}n.push(o)}return{bufs:n,length:r-t}}indexOf(t,r=0){if(!ei(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let n=t instanceof Uint8Array?t:t.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),t.length===0)return r>this.length?this.length:r;let i=n.byteLength;if(i===0)throw new TypeError("search must be at least 1 byte long");let s=256,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=-1;for(let h=0;h<i;h++)o[n[h]]=h;let a=o,f=this.byteLength-n.byteLength,c=n.byteLength-1,u;for(let h=r;h<=f;h+=u){u=0;for(let l=c;l>=0;l--){let d=this.get(h+l);if(n[l]!==d){u=Math.max(1,l-a[d]);break}}if(u===0)return h}return-1}getInt8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(t,r){let n=me(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,t)}getInt16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(t,r,n){let i=ge(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,r,n),this.write(i,t)}getInt32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(t,r,n){let i=ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,r,n),this.write(i,t)}getBigInt64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(t,r,n){let i=ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,r,n),this.write(i,t)}getUint8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(t,r){let n=me(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,t)}getUint16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(t,r,n){let i=ge(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,r,n),this.write(i,t)}getUint32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(t,r,n){let i=ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,r,n),this.write(i,t)}getBigUint64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(t,r,n){let i=ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,r,n),this.write(i,t)}getFloat32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(t,r,n){let i=ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,r,n),this.write(i,t)}getFloat64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(t,r,n){let i=ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,r,n),this.write(i,t)}equals(t){if(t==null||!(t instanceof Ve)||t.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!gt(this.bufs[r],t.bufs[r]))return!1;return!0}static fromUint8Arrays(t,r){let n=new Ve;return n.bufs=t,r==null&&(r=t.reduce((i,s)=>i+s.byteLength,0)),n.length=r,n}};var $f={ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"};var un;(function(e){let t;e.codec=()=>(t==null&&(t=we((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.publicKey!=null&&r.publicKey.byteLength>0&&(n.uint32(10),n.bytes(r.publicKey)),r.payloadType!=null&&r.payloadType.byteLength>0&&(n.uint32(18),n.bytes(r.payloadType)),r.payload!=null&&r.payload.byteLength>0&&(n.uint32(26),n.bytes(r.payload)),r.signature!=null&&r.signature.byteLength>0&&(n.uint32(42),n.bytes(r.signature)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={publicKey:new Uint8Array(0),payloadType:new Uint8Array(0),payload:new Uint8Array(0),signature:new Uint8Array(0)},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.publicKey=r.bytes();break;case 2:i.payloadType=r.bytes();break;case 3:i.payload=r.bytes();break;case 5:i.signature=r.bytes();break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>be(r,e.codec()),e.decode=r=>ve(r,e.codec())})(un||(un={}));var hn=class{peerId;payloadType;payload;signature;marshaled;constructor(t){let{peerId:r,payloadType:n,payload:i,signature:s}=t;this.peerId=r,this.payloadType=n,this.payload=i,this.signature=s}marshal(){if(this.peerId.publicKey==null)throw new Error("Missing public key");return this.marshaled==null&&(this.marshaled=un.encode({publicKey:this.peerId.publicKey,payloadType:this.payloadType,payload:this.payload.subarray(),signature:this.signature})),this.marshaled}equals(t){return gt(this.marshal(),t.marshal())}async validate(t){let r=Zf(t,this.payloadType,this.payload);if(this.peerId.publicKey==null)throw new Error("Missing public key");return Ff(this.peerId.publicKey).verify(r.subarray(),this.signature)}},sr=hn;ue(sr,"createFromProtobuf",async t=>{let r=un.decode(t),n=await zf(r.publicKey);return new hn({peerId:n,payloadType:r.payloadType,payload:r.payload,signature:r.signature})}),ue(sr,"seal",async(t,r)=>{if(r.privateKey==null)throw new Error("Missing private key");let n=t.domain,i=t.codec,s=t.marshal(),o=Zf(n,i,s),f=await(await Of(r.privateKey)).sign(o.subarray());return new hn({peerId:r,payloadType:i,payload:s,signature:f})}),ue(sr,"openAndCertify",async(t,r)=>{let n=await hn.createFromProtobuf(t);if(!await n.validate(r))throw new $("envelope signature is not valid for the given domain",$f.ERR_SIGNATURE_NOT_VALID);return n});var Zf=(e,t,r)=>{let n=Ct(e),i=cn.encode(n.byteLength),s=cn.encode(t.length),o=cn.encode(r.length);return new Ve(i,n,s,t,o,r)};function Yf(e,t){let r=(n,i)=>n.toString().localeCompare(i.toString());return e.length!==t.length?!1:(t.sort(r),e.sort(r).every((n,i)=>t[i].equals(n)))}var ao=ct(ri(),1);var Dr=ct(ri(),1);var ni=class{index=0;input="";new(t){return this.index=0,this.input=t,this}readAtomically(t){let r=this.index,n=t();return n===void 0&&(this.index=r),n}parseWith(t){let r=t();if(this.index===this.input.length)return r}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{let r=this.readChar();if(r===t)return r})}readSeparator(t,r,n){return this.readAtomically(()=>{if(!(r>0&&this.readGivenChar(t)===void 0))return n()})}readNumber(t,r,n,i){return this.readAtomically(()=>{let s=0,o=0,a=this.peekChar();if(a===void 0)return;let f=a==="0",c=2**(8*i)-1;for(;;){let u=this.readAtomically(()=>{let h=this.readChar();if(h===void 0)return;let l=Number.parseInt(h,t);if(!Number.isNaN(l))return l});if(u===void 0)break;if(s*=t,s+=u,s>c||(o+=1,r!==void 0&&o>r))return}if(o!==0)return!n&&f&&o>1?void 0:s})}readIPv4Addr(){return this.readAtomically(()=>{let t=new Uint8Array(4);for(let r=0;r<t.length;r++){let n=this.readSeparator(".",r,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;t[r]=n}return t})}readIPv6Addr(){let t=r=>{for(let n=0;n<r.length/2;n++){let i=n*2;if(n<r.length-3){let o=this.readSeparator(":",n,()=>this.readIPv4Addr());if(o!==void 0)return r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2],r[i+3]=o[3],[i+4,!0]}let s=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(s===void 0)return[i,!1];r[i]=s>>8,r[i+1]=s&255}return[r.length,!1]};return this.readAtomically(()=>{let r=new Uint8Array(16),[n,i]=t(r);if(n===16)return r;if(i||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let s=new Uint8Array(14),o=16-(n+2),[a]=t(s.subarray(0,o));return r.set(s.subarray(0,a),16-a),r})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var sc=45,zd=15,Nr=new ni;function Ys(e){if(!(e.length>zd))return Nr.new(e).parseWith(()=>Nr.readIPv4Addr())}function Qs(e){if(!(e.length>sc))return Nr.new(e).parseWith(()=>Nr.readIPv6Addr())}function ii(e){if(!(e.length>sc))return Nr.new(e).parseWith(()=>Nr.readIPAddr())}var Mm=parseInt("0xFFFF",16),Vm=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);var ce=ct(ri(),1);function fc(e){return!!Ys(e)}function cc(e){return!!Qs(e)}function si(e){return!!ii(e)}var uc=fc,Zd=cc,Xs=function(e){let t=0;if(e=e.toString().trim(),uc(e)){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(n=>{r[t++]=parseInt(n,10)&255}),r}if(Zd(e)){let r=e.split(":",8),n;for(n=0;n<r.length;n++){let s=uc(r[n]),o;s&&(o=Xs(r[n]),r[n]=j(o.slice(0,2),"base16")),o!=null&&++n<8&&r.splice(n,0,j(o.slice(2,4),"base16"))}if(r[0]==="")for(;r.length<8;)r.unshift("0");else if(r[r.length-1]==="")for(;r.length<8;)r.push("0");else if(r.length<8){for(n=0;n<r.length&&r[n]!=="";n++);let s=[n,1];for(n=9-r.length;n>0;n--)s.push("0");r.splice.apply(r,s)}let i=new Uint8Array(t+16);for(n=0;n<r.length;n++){let s=parseInt(r[n],16);i[t++]=s>>8&255,i[t++]=s&255}return i}throw new Error("invalid ip address")},hc=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(r===4){let i=[];for(let s=0;s<r;s++)i.push(e[t+s]);return i.join(".")}if(r===16){let i=[];for(let s=0;s<r;s+=2)i.push(n.getUint16(t+s).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var ln={},Js={},Qd=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]];Qd.forEach(e=>{let t=Xd(...e);Js[t.code]=t,ln[t.name]=t});function Xd(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:!!n,path:!!i}}function et(e){if(typeof e=="number"){if(Js[e]!=null)return Js[e];throw new Error(`no protocol with code: ${e}`)}else if(typeof e=="string"){if(ln[e]!=null)return ln[e];throw new Error(`no protocol with name: ${e}`)}throw new Error(`invalid protocol id type: ${typeof e}`)}var Bx=et("ip4"),Ax=et("ip6"),Cx=et("ipcidr");function gc(e,t){switch(et(e).code){case 4:case 41:return jd(t);case 42:return dc(t);case 6:case 273:case 33:case 132:return xc(t).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return dc(t);case 421:return ny(t);case 444:return yc(t);case 445:return yc(t);case 466:return ry(t);default:return j(t,"base16")}}function mc(e,t){switch(et(e).code){case 4:return lc(t);case 41:return lc(t);case 42:return pc(t);case 6:case 273:case 33:case 132:return to(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return pc(t);case 421:return ty(t);case 444:return iy(t);case 445:return sy(t);case 466:return ey(t);default:return Ct(t,"base16")}}var js=Object.values(Re).map(e=>e.decoder),Jd=function(){let e=js[0].or(js[1]);return js.slice(2).forEach(t=>e=e.or(t)),e}();function lc(e){if(!si(e))throw new Error("invalid ip address");return Xs(e)}function jd(e){let t=hc(e,0,e.length);if(t==null)throw new Error("ipBuff is required");if(!si(t))throw new Error("invalid ip address");return t}function to(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function xc(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function pc(e){let t=Ct(e),r=Uint8Array.from(ce.default.encode(t.length));return mt([r,t],r.length+t.length)}function dc(e){let t=ce.default.decode(e);if(e=e.slice(ce.default.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return j(e)}function ty(e){let t;e[0]==="Q"||e[0]==="1"?t=Ze(yt.decode(`z${e}`)).bytes:t=J.parse(e).multihash.bytes;let r=Uint8Array.from(ce.default.encode(t.length));return mt([r,t],r.length+t.length)}function ey(e){let t=Jd.decode(e),r=Uint8Array.from(ce.default.encode(t.length));return mt([r,t],r.length+t.length)}function ry(e){let t=ce.default.decode(e),r=e.slice(ce.default.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return"u"+j(r,"base64url")}function ny(e){let t=ce.default.decode(e),r=e.slice(ce.default.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return j(r,"base58btc")}function iy(e){let t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=ye.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=to(n);return mt([r,i],r.length+i.length)}function sy(e){let t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=ye.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=to(n);return mt([r,i],r.length+i.length)}function yc(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=j(t,"base32"),i=xc(r);return`${n}:${i}`}function oy(e){let t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=et(i);if(s.size===0){t.push([i]);continue}if(n++,n>=r.length)throw bc("invalid address: "+e);if(s.path===!0){t.push([i,so(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function ay(e){let t=[];return e.map(r=>{let n=fi(r);return t.push(n.name),r.length>1&&r[1]!=null&&t.push(r[1]),null}),so(t.join("/"))}function fy(e){return e.map(t=>{Array.isArray(t)||(t=[t]);let r=fi(t);return t.length>1?[r.code,mc(r.code,t[1])]:[r.code]})}function eo(e){return e.map(t=>{let r=fi(t);return t[1]!=null?[r.code,gc(r.code,t[1])]:[r.code]})}function ro(e){return ai(mt(e.map(t=>{let r=fi(t),n=Uint8Array.from(Dr.default.encode(r.code));return t.length>1&&t[1]!=null&&(n=mt([n,t[1]])),n})))}function no(e,t){return e.size>0?e.size/8:e.size===0?0:Dr.default.decode(t)+(Dr.default.decode.bytes??0)}function oi(e){let t=[],r=0;for(;r<e.length;){let n=Dr.default.decode(e,r),i=Dr.default.decode.bytes??0,s=et(n),o=no(s,e.slice(r+i));if(o===0){t.push([n]),r+=i;continue}let a=e.slice(r+i,r+i+o);if(r+=o+i,r>e.length)throw bc("Invalid address Uint8Array: "+j(e,"base16"));t.push([n,a])}return t}function io(e){let t=oi(e),r=eo(t);return ay(r)}function cy(e){e=so(e);let t=oy(e),r=fy(t);return ro(r)}function vc(e){return cy(e)}function ai(e){let t=uy(e);if(t!=null)throw t;return Uint8Array.from(e)}function uy(e){try{oi(e)}catch(t){return t}}function so(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function bc(e){return new Error("Error parsing address: "+e)}function fi(e){return et(e[0])}var ly=Symbol.for("nodejs.util.inspect.custom"),py=[et("dns").code,et("dns4").code,et("dns6").code,et("dnsaddr").code],dy=new Map,wc=Symbol.for("@multiformats/js-multiaddr/multiaddr");function yy(e){return!!e?.[wc]}var Ee=class{bytes;#e;#r;#n;#t;[wc]=!0;constructor(t){if(t==null&&(t=""),t instanceof Uint8Array)this.bytes=ai(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=vc(t)}else if(yy(t))this.bytes=ai(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return this.#e==null&&(this.#e=io(this.bytes)),this.#e}toJSON(){return this.toString()}toOptions(){let t,r,n,i,s="",o=et("tcp"),a=et("udp"),f=et("ip4"),c=et("ip6"),u=et("dns6"),h=et("ip6zone");for(let[d,p]of this.stringTuples())d===h.code&&(s=`%${p??""}`),py.includes(d)&&(r=o.name,i=443,n=`${p??""}${s}`,t=d===u.code?6:4),(d===o.code||d===a.code)&&(r=et(d).name,i=parseInt(p??"")),(d===f.code||d===c.code)&&(r=et(d).name,n=`${p??""}${s}`,t=d===c.code?6:4);if(t==null||r==null||n==null||i==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:n,transport:r,port:i}}protos(){return this.protoCodes().map(t=>Object.assign({},et(t)))}protoCodes(){let t=[],r=this.bytes,n=0;for(;n<r.length;){let i=ao.default.decode(r,n),s=ao.default.decode.bytes??0,o=et(i),a=no(o,r.slice(n+s));n+=a+s,t.push(i)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return this.#r==null&&(this.#r=oi(this.bytes)),this.#r}stringTuples(){return this.#n==null&&(this.#n=eo(this.tuples())),this.#n}encapsulate(t){return t=new Ee(t),new Ee(this.toString()+t.toString())}decapsulate(t){let r=t.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new Ee(n.slice(0,i))}decapsulateCode(t){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new Ee(ro(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===ln.ipfs.code).pop();if(r?.[1]!=null){let n=r[1];return n[0]==="Q"||n[0]==="1"?j(yt.decode(`z${n}`),"base58btc"):j(J.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){if(this.#t===void 0)try{this.#t=this.stringTuples().filter(t=>et(t[0]).path===!0)[0][1],this.#t==null&&(this.#t=null)}catch{this.#t=null}return this.#t}equals(t){return gt(this.bytes,t.bytes)}async resolve(t){let r=this.protos().find(s=>s.resolvable);if(r==null)return[this];let n=dy.get(r.name);if(n==null)throw new $(`no available resolver for ${r.name}`,"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,t)).map(s=>new Ee(s))}nodeAddress(){let t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){let r=(t??this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}[ly](){return`Multiaddr(${io(this.bytes)})`}};function oo(e){return new Ee(e)}var Sc="libp2p-peer-record",Ec=Uint8Array.from([3,1]);var pn;(function(e){let t;(function(n){let i;n.codec=()=>(i==null&&(i=we((s,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),s.multiaddr!=null&&s.multiaddr.byteLength>0&&(o.uint32(10),o.bytes(s.multiaddr)),a.lengthDelimited!==!1&&o.ldelim()},(s,o)=>{let a={multiaddr:new Uint8Array(0)},f=o==null?s.len:s.pos+o;for(;s.pos<f;){let c=s.uint32();switch(c>>>3){case 1:a.multiaddr=s.bytes();break;default:s.skipType(c&7);break}}return a})),i),n.encode=s=>be(s,n.codec()),n.decode=s=>ve(s,n.codec())})(t=e.AddressInfo||(e.AddressInfo={}));let r;e.codec=()=>(r==null&&(r=we((n,i,s={})=>{if(s.lengthDelimited!==!1&&i.fork(),n.peerId!=null&&n.peerId.byteLength>0&&(i.uint32(10),i.bytes(n.peerId)),n.seq!=null&&n.seq!==0n&&(i.uint32(16),i.uint64(n.seq)),n.addresses!=null)for(let o of n.addresses)i.uint32(26),e.AddressInfo.codec().encode(o,i);s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={peerId:new Uint8Array(0),seq:0n,addresses:[]},o=i==null?n.len:n.pos+i;for(;n.pos<o;){let a=n.uint32();switch(a>>>3){case 1:s.peerId=n.bytes();break;case 2:s.seq=n.uint64();break;case 3:s.addresses.push(e.AddressInfo.codec().decode(n,n.uint32()));break;default:n.skipType(a&7);break}}return s})),r),e.encode=n=>be(n,e.codec()),e.decode=n=>ve(n,e.codec())})(pn||(pn={}));var Lr=class{peerId;multiaddrs;seqNumber;domain=Lr.DOMAIN;codec=Lr.CODEC;marshaled;constructor(t){let{peerId:r,multiaddrs:n,seqNumber:i}=t;this.peerId=r,this.multiaddrs=n??[],this.seqNumber=i??BigInt(Date.now())}marshal(){return this.marshaled==null&&(this.marshaled=pn.encode({peerId:this.peerId.toBytes(),seq:BigInt(this.seqNumber),addresses:this.multiaddrs.map(t=>({multiaddr:t.bytes}))})),this.marshaled}equals(t){return!(!(t instanceof Lr)||!this.peerId.equals(t.peerId)||this.seqNumber!==t.seqNumber||!Yf(this.multiaddrs,t.multiaddrs))}},or=Lr;ue(or,"createFromProtobuf",t=>{let r=pn.decode(t),n=Ws(r.peerId),i=(r.addresses??[]).map(o=>oo(o.multiaddr)),s=r.seq;return new Lr({peerId:n,multiaddrs:i,seqNumber:s})}),ue(or,"DOMAIN",Sc),ue(or,"CODEC",Ec);return Rc(gy);})();
/*! Bundled license information:

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Libp2PPeerRecord}));
